{
  "format_version": "1.2",
  "terraform_version": "1.13.5",
  "variables": {
    "azs": {
      "value": [
        "us-east-1a",
        "us-east-1b"
      ]
    },
    "bastion_key_name": {
      "value": ""
    },
    "company_name": {
      "value": "WaKaMa Org"
    },
    "database_subnet_group_description": {
      "value": "App DB subnet group"
    },
    "database_subnet_group_name": {
      "value": "dev-subnet-group"
    },
    "database_subnets": {
      "value": [
        "10.0.81.0/24",
        "10.0.82.0/24"
      ]
    },
    "db_engine": {
      "value": "postgres"
    },
    "db_engine_version": {
      "value": "16.11"
    },
    "db_instance_type": {
      "value": "db.t3.micro"
    },
    "db_name": {
      "value": "app_db"
    },
    "db_password": {
      "value": "password"
    },
    "db_username": {
      "value": "dbadmin"
    },
    "desired_capacity": {
      "value": "2"
    },
    "enable_bastion": {
      "value": true
    },
    "environment": {
      "value": "dev"
    },
    "hosted_zone_name": {
      "value": "211125336427.realhandsonlabs.net"
    },
    "instance_type": {
      "value": "t3.medium"
    },
    "max_size": {
      "value": "4"
    },
    "min_size": {
      "value": "2"
    },
    "name_prefix": {
      "value": "web-app"
    },
    "private_subnets": {
      "value": [
        "10.0.11.0/24",
        "10.0.12.0/24"
      ]
    },
    "project_name": {
      "value": "dev-web-app"
    },
    "public_subnets": {
      "value": [
        "10.0.1.0/24",
        "10.0.2.0/24"
      ]
    },
    "region": {
      "value": "us-east-1"
    },
    "s3_bucket_name": {
      "value": "dev-web-app"
    },
    "vpc_cidr": {
      "value": "10.0.0.0/16"
    },
    "vpc_name": {
      "value": "dev-vpc"
    }
  },
  "planned_values": {
    "outputs": {
      "alb_https_url": {
        "sensitive": false,
        "type": "string",
        "value": "https://dev.211125336427.realhandsonlabs.net"
      },
      "bastion_instance_id": {
        "sensitive": false,
        "type": "string",
        "value": "i-013c15bb6a15f5186"
      },
      "bastion_public_ip": {
        "sensitive": false,
        "type": "string",
        "value": "3.80.112.34"
      },
      "bastion_ssh_command": {
        "sensitive": false,
        "type": "string",
        "value": "SSH requires key_name. Public IP: 3.80.112.34"
      },
      "bastion_ssm_command": {
        "sensitive": false,
        "type": "string",
        "value": "aws ssm start-session --target i-013c15bb6a15f5186 --region us-east-1"
      },
      "db_instance_id": {
        "sensitive": false,
        "type": "string",
        "value": "web-app-dev-db-db"
      },
      "db_secret_arn": {
        "sensitive": false,
        "type": "string",
        "value": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a"
      },
      "instance_count": {
        "sensitive": false,
        "type": "number",
        "value": 1
      },
      "launch_template_latest_version": {
        "sensitive": false,
        "type": "number",
        "value": 1
      },
      "s3_bucket_app_assets": {
        "sensitive": false,
        "type": "string",
        "value": "dev-web-app-157021"
      },
      "secret_name": {
        "sensitive": false,
        "type": "string",
        "value": "web-app-dev-db-credential"
      },
      "ssm_connect_command": {
        "sensitive": false,
        "type": "string",
        "value": "aws ssm start-session --target i-02c6018c5d9a55ba4 --region us-east-1"
      }
    },
    "root_module": {
      "resources": [
        {
          "address": "aws_acm_certificate.app-server-cert",
          "mode": "managed",
          "type": "aws_acm_certificate",
          "name": "app-server-cert",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
            "certificate_authority_arn": "",
            "certificate_body": null,
            "certificate_chain": null,
            "domain_name": "dev.211125336427.realhandsonlabs.net",
            "domain_validation_options": [
              {
                "domain_name": "dev.211125336427.realhandsonlabs.net",
                "resource_record_name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
              }
            ],
            "early_renewal_duration": "",
            "id": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
            "key_algorithm": "RSA_2048",
            "not_after": "2027-01-08T23:59:59Z",
            "not_before": "2025-12-10T00:00:00Z",
            "options": [
              {
                "certificate_transparency_logging_preference": "ENABLED"
              }
            ],
            "pending_renewal": false,
            "private_key": null,
            "renewal_eligibility": "ELIGIBLE",
            "renewal_summary": [],
            "status": "ISSUED",
            "subject_alternative_names": [
              "dev.211125336427.realhandsonlabs.net"
            ],
            "tags": {
              "Name": "web-app-dev-ssl-cert"
            },
            "tags_all": {
              "Name": "web-app-dev-ssl-cert"
            },
            "type": "AMAZON_ISSUED",
            "validation_emails": [],
            "validation_method": "DNS",
            "validation_option": []
          },
          "sensitive_values": {
            "domain_validation_options": [
              {}
            ],
            "options": [
              {}
            ],
            "private_key": true,
            "renewal_summary": [],
            "subject_alternative_names": [
              false
            ],
            "tags": {},
            "tags_all": {},
            "validation_emails": [],
            "validation_option": []
          }
        },
        {
          "address": "aws_acm_certificate_validation.app-server-cert-validation",
          "mode": "managed",
          "type": "aws_acm_certificate_validation",
          "name": "app-server-cert-validation",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
            "id": "2025-12-10 17:34:11.163 +0000 UTC",
            "timeouts": null,
            "validation_record_fqdns": [
              "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net"
            ]
          },
          "sensitive_values": {
            "validation_record_fqdns": [
              false
            ]
          }
        },
        {
          "address": "aws_autoscaling_group.app-server-asg",
          "mode": "managed",
          "type": "aws_autoscaling_group",
          "name": "app-server-asg",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "arn": "arn:aws:autoscaling:us-east-1:211125336427:autoScalingGroup:37baf768-dba8-458d-9bf5-5ac5e8e75037:autoScalingGroupName/web-app-dev-asg",
            "availability_zone_distribution": [
              {
                "capacity_distribution_strategy": "balanced-best-effort"
              }
            ],
            "availability_zones": [
              "us-east-1a",
              "us-east-1b"
            ],
            "capacity_rebalance": false,
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "default",
                "capacity_reservation_target": []
              }
            ],
            "context": "",
            "default_cooldown": 300,
            "default_instance_warmup": 0,
            "desired_capacity": 1,
            "desired_capacity_type": "",
            "enabled_metrics": [],
            "force_delete": false,
            "force_delete_warm_pool": false,
            "health_check_grace_period": 600,
            "health_check_type": "ELB",
            "id": "web-app-dev-asg",
            "ignore_failed_scaling_activities": false,
            "initial_lifecycle_hook": [],
            "instance_maintenance_policy": [],
            "instance_refresh": [
              {
                "preferences": [
                  {
                    "alarm_specification": [],
                    "auto_rollback": true,
                    "checkpoint_delay": "",
                    "checkpoint_percentages": [],
                    "instance_warmup": "120",
                    "max_healthy_percentage": 100,
                    "min_healthy_percentage": 50,
                    "scale_in_protected_instances": "Ignore",
                    "skip_matching": true,
                    "standby_instances": "Ignore"
                  }
                ],
                "strategy": "Rolling",
                "triggers": []
              }
            ],
            "launch_configuration": "",
            "launch_template": [
              {
                "id": "lt-0906519c6427ecc9c",
                "name": "web-app-dev-lt-lt-157021",
                "version": "1"
              }
            ],
            "load_balancers": [],
            "max_instance_lifetime": 0,
            "max_size": 2,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 1,
            "mixed_instances_policy": [],
            "name": "web-app-dev-asg",
            "name_prefix": "",
            "placement_group": "",
            "predicted_capacity": 0,
            "protect_from_scale_in": false,
            "service_linked_role_arn": "arn:aws:iam::211125336427:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
            "suspended_processes": [],
            "tag": [
              {
                "key": "Name",
                "propagate_at_launch": true,
                "value": "web-app-dev-instance"
              }
            ],
            "target_group_arns": [
              "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881"
            ],
            "termination_policies": [
              "OldestInstance",
              "Default"
            ],
            "timeouts": null,
            "traffic_source": [
              {
                "identifier": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
                "type": "elbv2"
              }
            ],
            "vpc_zone_identifier": [
              "subnet-045dee18d553a8a2a",
              "subnet-05450a4ab7f5408bb"
            ],
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": [],
            "warm_pool_size": 0
          },
          "sensitive_values": {
            "availability_zone_distribution": [
              {}
            ],
            "availability_zones": [
              false,
              false
            ],
            "capacity_reservation_specification": [
              {
                "capacity_reservation_target": []
              }
            ],
            "enabled_metrics": [],
            "initial_lifecycle_hook": [],
            "instance_maintenance_policy": [],
            "instance_refresh": [
              {
                "preferences": [
                  {
                    "alarm_specification": [],
                    "checkpoint_percentages": []
                  }
                ],
                "triggers": []
              }
            ],
            "launch_template": [
              {}
            ],
            "load_balancers": [],
            "mixed_instances_policy": [],
            "suspended_processes": [],
            "tag": [
              {}
            ],
            "target_group_arns": [
              false
            ],
            "termination_policies": [
              false,
              false
            ],
            "traffic_source": [
              {}
            ],
            "vpc_zone_identifier": [
              false,
              false
            ],
            "warm_pool": []
          }
        },
        {
          "address": "aws_iam_instance_profile.app-server-instance-profile",
          "mode": "managed",
          "type": "aws_iam_instance_profile",
          "name": "app-server-instance-profile",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:iam::211125336427:instance-profile/web-app-dev-instance-profile",
            "create_date": "2025-12-10T17:33:53Z",
            "id": "web-app-dev-instance-profile",
            "name": "web-app-dev-instance-profile",
            "name_prefix": "",
            "path": "/",
            "role": "web-app-dev-role",
            "tags": {
              "name": "web-app-dev-instance-profile"
            },
            "tags_all": {
              "name": "web-app-dev-instance-profile"
            },
            "unique_id": "AIPATCKAM7FVXGFEZNHXR"
          },
          "sensitive_values": {
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_instance_profile.ssm_instance_profile",
          "mode": "managed",
          "type": "aws_iam_instance_profile",
          "name": "ssm_instance_profile",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:iam::211125336427:instance-profile/ssm-instance-profile",
            "create_date": "2025-12-10T17:33:53Z",
            "id": "ssm-instance-profile",
            "name": "ssm-instance-profile",
            "name_prefix": "",
            "path": "/",
            "role": "ssm-role",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPATCKAM7FV7RJGPYVU3"
          },
          "sensitive_values": {
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_policy.app-server-policy",
          "mode": "managed",
          "type": "aws_iam_policy",
          "name": "app-server-policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
            "attachment_count": 1,
            "description": "",
            "id": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
            "name": "web-app-dev-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021\"},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"},{\"Action\":[\"ssm:StartSession\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:instance/*\",\"arn:aws:ssm:*:*:document/AWS-StartSSHSession\",\"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"]},{\"Action\":[\"ssm:DescribeInstanceInformation\",\"ssm:DescribeInstanceProperties\",\"ssm:DescribeSessions\",\"ssm:GetConnectionStatus\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeInstances\",\"ec2:DescribeInstanceStatus\",\"ec2:DescribeInstanceAttribute\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPATCKAM7FV3WMIZO273",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_values": {
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_policy.secrets_manager_read",
          "mode": "managed",
          "type": "aws_iam_policy",
          "name": "secrets_manager_read",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
            "attachment_count": 1,
            "description": "Policy to allow EC2 instances to read database credentials from Secrets Manager",
            "id": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
            "name": "web-app-dev-secrets-read-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\",\"arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi\"]}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPATCKAM7FV3GSJZIBKZ",
            "tags": {
              "Name": "web-app-dev-secrets-read-policy"
            },
            "tags_all": {
              "Name": "web-app-dev-secrets-read-policy"
            }
          },
          "sensitive_values": {
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_role.app-server-role",
          "mode": "managed",
          "type": "aws_iam_role",
          "name": "app-server-role",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:iam::211125336427:role/web-app-dev-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-10T17:33:52Z",
            "description": "",
            "force_detach_policies": false,
            "id": "web-app-dev-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::211125336427:policy/web-app-dev-policy",
              "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
              "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            ],
            "max_session_duration": 3600,
            "name": "web-app-dev-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "name": "web-app-dev-role"
            },
            "tags_all": {
              "name": "web-app-dev-role"
            },
            "unique_id": "AROATCKAM7FV536YUY4AK"
          },
          "sensitive_values": {
            "inline_policy": [],
            "managed_policy_arns": [
              false,
              false,
              false
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_role.ssm_role",
          "mode": "managed",
          "type": "aws_iam_role",
          "name": "ssm_role",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:iam::211125336427:role/ssm-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-10T17:33:52Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ssm-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            ],
            "max_session_duration": 3600,
            "name": "ssm-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATCKAM7FV5PRYDL7WF"
          },
          "sensitive_values": {
            "inline_policy": [],
            "managed_policy_arns": [
              false
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_role_policy_attachment.app-server-role-policy-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "app-server-role-policy-attachment",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "id": "web-app-dev-role-20251210173353992600000005",
            "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
            "role": "web-app-dev-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.app-server-role-ssm-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "app-server-role-ssm-attachment",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "id": "web-app-dev-role-20251210173353204900000004",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "web-app-dev-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.secrets_manager_read",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "secrets_manager_read",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "id": "web-app-dev-role-2025121017425347160000000a",
            "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
            "role": "web-app-dev-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.ssm_attach",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "ssm_attach",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "id": "ssm-role-20251210173353096200000003",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "ssm-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_instance.bastion[0]",
          "mode": "managed",
          "type": "aws_instance",
          "name": "bastion",
          "index": 0,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "ami": "ami-0c1f44f890950b53c",
            "arn": "arn:aws:ec2:us-east-1:211125336427:instance/i-013c15bb6a15f5186",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-1a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 1,
                "threads_per_core": 2
              }
            ],
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "web-app-dev-instance-profile",
            "id": "i-013c15bb6a15f5186",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "t3.micro",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 2,
                "http_tokens": "required",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": 0,
            "primary_network_interface_id": "eni-029d15f0576428dd7",
            "private_dns": "ip-10-0-1-249.ec2.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.1.249",
            "public_dns": "ec2-3-80-112-34.compute-1.amazonaws.com",
            "public_ip": "3.80.112.34",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 3000,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-0272bc9303f01ae45",
                "volume_size": 8,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-0257115d2a1ef35ea",
            "tags": {
              "ManagedBy": "Terraform",
              "Name": "web-app-dev-bastion",
              "Purpose": "Troubleshooting",
              "Temporary": "true"
            },
            "tags_all": {
              "ManagedBy": "Terraform",
              "Name": "web-app-dev-bastion",
              "Purpose": "Troubleshooting",
              "Temporary": "true"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "b2a1bccdbe9bbc2b9692b37a8b7f1b040f3f2f72",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-0fe1c7c0045fffe5f"
            ]
          },
          "sensitive_values": {
            "capacity_reservation_specification": [
              {
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {}
            ],
            "credit_specification": [
              {}
            ],
            "ebs_block_device": [],
            "enclave_options": [
              {}
            ],
            "ephemeral_block_device": [],
            "instance_market_options": [],
            "ipv6_addresses": [],
            "launch_template": [],
            "maintenance_options": [
              {}
            ],
            "metadata_options": [
              {}
            ],
            "network_interface": [],
            "private_dns_name_options": [
              {}
            ],
            "root_block_device": [
              {
                "tags": {},
                "tags_all": {}
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "tags": {},
            "tags_all": {},
            "vpc_security_group_ids": [
              false
            ]
          }
        },
        {
          "address": "aws_launch_template.app-server-lt",
          "mode": "managed",
          "type": "aws_launch_template",
          "name": "app-server-lt",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:ec2:us-east-1:211125336427:launch-template/lt-0906519c6427ecc9c",
            "block_device_mappings": [],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "default_version": 1,
            "description": "",
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_optimized": "",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": "",
                "name": "web-app-dev-instance-profile"
              }
            ],
            "id": "lt-0906519c6427ecc9c",
            "image_id": "ami-0c1f44f890950b53c",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [],
            "instance_requirements": [],
            "instance_type": "t3.micro",
            "kernel_id": "",
            "key_name": "",
            "latest_version": 1,
            "license_specification": [],
            "maintenance_options": [],
            "metadata_options": [],
            "monitoring": [],
            "name": "web-app-dev-lt-lt-157021",
            "name_prefix": "",
            "network_interfaces": [],
            "placement": [],
            "private_dns_name_options": [],
            "ram_disk_id": "",
            "security_group_names": [],
            "tag_specifications": [
              {
                "resource_type": "volume",
                "tags": {
                  "Name": "web-app-dev-instance-volume"
                }
              }
            ],
            "tags": {},
            "tags_all": {},
            "update_default_version": true,
            "user_data": "IyEvYmluL2Jhc2gKIyBCb290c3RyYXAgc2NyaXB0IC0gZG93bmxvYWRzIGFuZCBleGVjdXRlcyB0aGUgZnVsbCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwojIFRoaXMgc2NyaXB0IG11c3QgcmVtYWluIHVuZGVyIDE2S0IgdG8gZml0IGluIEVDMiB1c2VyX2RhdGEKCiMgRG9uJ3QgdXNlICdzZXQgLWUnIC0gd2Ugd2FudCB0byBjb250aW51ZSBhbmQgbG9nIGVycm9ycyBpbnN0ZWFkIG9mIGV4aXRpbmcKIyBMb2cgZXZlcnl0aGluZyBmb3IgZGVidWdnaW5nCmV4ZWMgPiA+KHRlZSAtYSAvdmFyL2xvZy9ib290c3RyYXAubG9nfGxvZ2dlciAtdCBib290c3RyYXAgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCiMgQ29uZmlndXJhdGlvbiAtIHRoZXNlIHdpbGwgYmUgaW5qZWN0ZWQgYnkgVGVycmFmb3JtIHRlbXBsYXRlClMzX0tFWT0ic2NyaXB0cy91c2VyZGF0YV9jbGllbnRfYXBwLnNoIgoKZWNobyAiPT09IEJvb3RzdHJhcCBTY3JpcHQgU3RhcnRpbmcgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIlMzIEJ1Y2tldDogZGV2LXdlYi1hcHAtMTU3MDIxIgplY2hvICJTMyBLZXk6ICR7UzNfS0VZfSIKZWNobyAiUmVnaW9uOiB1cy1lYXN0LTEiCgojIEluc3RhbGwgQVdTIENMSSBpZiBub3QgcHJlc2VudAppZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbDsgdGhlbgogICAgZWNobyAiSW5zdGFsbGluZyBBV1MgQ0xJLi4uIgogICAgCiAgICAjIFRyeSBzbmFwIGZpcnN0IChkb2Vzbid0IHJlcXVpcmUgYXB0IHJlcG9zaXRvcmllcywgd29ya3MgZXZlbiB3aXRoIG5ldHdvcmsgaXNzdWVzKQogICAgaWYgY29tbWFuZCAtdiBzbmFwICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gIlRyeWluZyB0byBpbnN0YWxsIEFXUyBDTEkgdmlhIHNuYXAuLi4iCiAgICAgICAgaWYgc3VkbyBzbmFwIGluc3RhbGwgYXdzLWNsaSAtLWNsYXNzaWMgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBzbmFwIgogICAgICAgICAgICAjIEVuc3VyZSBzbmFwIGJpbiBpcyBpbiBQQVRICiAgICAgICAgICAgIGV4cG9ydCBQQVRIPSIvc25hcC9iaW46JFBBVEgiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIFNuYXAgaW5zdGFsbCBmYWlsZWQsIHRyeWluZyBhcHQuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmFsbGJhY2sgdG8gYXB0IGlmIHNuYXAgZGlkbid0IHdvcmsKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIHRvIGluc3RhbGwgQVdTIENMSSB2aWEgYXB0Li4uIgogICAgICAgICMgVHJ5IGFwdCB1cGRhdGUsIGJ1dCBkb24ndCBmYWlsIGlmIGl0IGZhaWxzIChuZXR3b3JrIGlzc3VlcykKICAgICAgICBzdWRvIGFwdC1nZXQgdXBkYXRlIC15IDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiB8fCB0cnVlCiAgICAgICAgCiAgICAgICAgIyBUcnkgaW5zdGFsbGluZyBhd3NjbGksIGJ1dCBjb250aW51ZSBpZiBpdCBmYWlscwogICAgICAgIGlmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGF3c2NsaSAyPiYxIHwgZ3JlcCAtdiAiTmV0d29yayBpcyB1bnJlYWNoYWJsZSI7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBhcHQiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIEFwdCBpbnN0YWxsIG1heSBoYXZlIGZhaWxlZCwgY2hlY2tpbmcgaWYgQVdTIENMSSBpcyBhdmFpbGFibGUuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmluYWwgZmFsbGJhY2s6IE9mZmljaWFsIEFXUyBpbnN0YWxsZXIKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIG9mZmljaWFsIEFXUyBDTEkgaW5zdGFsbGVyLi4uIgogICAgICAgIGN1cmwgLWZzU0wgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiL3RtcC9hd3NjbGl2Mi56aXAiIHx8IHsKICAgICAgICAgICAgZWNobyAi4pqg77iPICBGYWlsZWQgdG8gZG93bmxvYWQgQVdTIENMSSBpbnN0YWxsZXIiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIFsgLWYgIi90bXAvYXdzY2xpdjIuemlwIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIGNvbW1hbmQgLXYgdW56aXAgJj4gL2Rldi9udWxsIHx8IHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IHVuemlwIDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIjsgdGhlbgogICAgICAgICAgICAgICAgdW56aXAgLXEgL3RtcC9hd3NjbGl2Mi56aXAgLWQgL3RtcCAyPi9kZXYvbnVsbCAmJiBcCiAgICAgICAgICAgICAgICBzdWRvIC90bXAvYXdzL2luc3RhbGwgMj4vZGV2L251bGwgJiYgXAogICAgICAgICAgICAgICAgcm0gLXJmIC90bXAvYXdzIC90bXAvYXdzY2xpdjIuemlwICYmIFwKICAgICAgICAgICAgICAgIGVjaG8gIuKchSBBV1MgQ0xJIGluc3RhbGxlZCB2aWEgb2ZmaWNpYWwgaW5zdGFsbGVyIgogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQogICAgCiAgICAjIFdhaXQgZm9yIEFXUyBDTEkgdG8gYmUgYXZhaWxhYmxlIGFuZCB2ZXJpZnkgaW5zdGFsbGF0aW9uCiAgICBlY2hvICJWZXJpZnlpbmcgQVdTIENMSSBpbnN0YWxsYXRpb24uLi4iCiAgICBSRVRSWV9DT1VOVD0wCiAgICBNQVhfUkVUUklFUz01CiAgICB3aGlsZSBbICRSRVRSWV9DT1VOVCAtbHQgJE1BWF9SRVRSSUVTIF07IGRvCiAgICAgICAgIyBDaGVjayBtdWx0aXBsZSBwb3NzaWJsZSBsb2NhdGlvbnMKICAgICAgICBpZiBjb21tYW5kIC12IGF3cyAmPiAvZGV2L251bGwgfHwgWyAtZiAvdXNyL2xvY2FsL2Jpbi9hd3MgXSB8fCBbIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgICAgICAjIFNldCBQQVRIIHRvIGluY2x1ZGUgY29tbW9uIGxvY2F0aW9ucwogICAgICAgICAgICBleHBvcnQgUEFUSD0iL3Vzci9sb2NhbC9iaW46L3NuYXAvYmluOiRQQVRIIgogICAgICAgICAgICBpZiBhd3MgLS12ZXJzaW9uIDI+L2Rldi9udWxsOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICLinIUgQVdTIENMSSBpcyByZWFkeSIKICAgICAgICAgICAgICAgIGF3cyAtLXZlcnNpb24KICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICBSRVRSWV9DT1VOVD0kKChSRVRSWV9DT1VOVCArIDEpKQogICAgICAgIGVjaG8gIldhaXRpbmcgZm9yIEFXUyBDTEkuLi4gKGF0dGVtcHQgJFJFVFJZX0NPVU5ULyRNQVhfUkVUUklFUykiCiAgICAgICAgc2xlZXAgMgogICAgZG9uZQogICAgCiAgICBpZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbCAmJiBbICEgLWYgL3Vzci9sb2NhbC9iaW4vYXdzIF0gJiYgWyAhIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgIGVjaG8gIuKdjCBDUklUSUNBTDogQVdTIENMSSBpbnN0YWxsYXRpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cyIKICAgICAgICBlY2hvICJDYW5ub3QgcHJvY2VlZCB3aXRob3V0IEFXUyBDTEkgdG8gZG93bmxvYWQgdXNlcmRhdGEgc2NyaXB0IGZyb20gUzMiCiAgICAgICAgZWNobyAiQm9vdHN0cmFwIHNjcmlwdCB3aWxsIGV4aXQiCiAgICAgICAgZXhpdCAxCiAgICBmaQplbHNlCiAgICBlY2hvICLinIUgQVdTIENMSSBhbHJlYWR5IGluc3RhbGxlZCIKICAgIGF3cyAtLXZlcnNpb24KZmkKCiMgQ29uZmlndXJlIEFXUyBDTEkgcmVnaW9uCmV4cG9ydCBBV1NfREVGQVVMVF9SRUdJT049InVzLWVhc3QtMSIKZWNobyAiQVdTIENMSSByZWdpb24gY29uZmlndXJlZDogdXMtZWFzdC0xIgoKIyBEb3dubG9hZCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwplY2hvICJEb3dubG9hZGluZyB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMy4uLiIKVVNFUkRBVEFfU0NSSVBUPSIvdG1wL3VzZXJkYXRhX2NsaWVudF9hcHAuc2giCgojIFJldHJ5IGxvZ2ljIGZvciBTMyBkb3dubG9hZApNQVhfUkVUUklFUz0xMApSRVRSWV9ERUxBWT0xMApET1dOTE9BRF9TVUNDRVNTPWZhbHNlCgplY2hvICJBdHRlbXB0aW5nIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBmcm9tIFMzLi4uIgpmb3IgaSBpbiAkKHNlcSAxICRNQVhfUkVUUklFUyk7IGRvCiAgICBlY2hvICJEb3dubG9hZCBhdHRlbXB0ICRpIG9mICRNQVhfUkVUUklFUy4uLiIKICAgIGlmIGF3cyBzMyBjcCAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvJHtTM19LRVl9IiAiJFVTRVJEQVRBX1NDUklQVCIgLS1yZWdpb24gInVzLWVhc3QtMSIgMj4mMTsgdGhlbgogICAgICAgIGVjaG8gIuKchSBTdWNjZXNzZnVsbHkgZG93bmxvYWRlZCB1c2VyZGF0YSBzY3JpcHQiCiAgICAgICAgRE9XTkxPQURfU1VDQ0VTUz10cnVlCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICBFUlJPUl9DT0RFPSQ/CiAgICAgICAgZWNobyAi4pqg77iPICBEb3dubG9hZCBhdHRlbXB0ICRpIGZhaWxlZCAoZXhpdCBjb2RlOiAkRVJST1JfQ09ERSkiCiAgICAgICAgaWYgWyAkaSAtbHQgJE1BWF9SRVRSSUVTIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiICAgUmV0cnlpbmcgaW4gJFJFVFJZX0RFTEFZIHNlY29uZHMuLi4iCiAgICAgICAgICAgIHNsZWVwICRSRVRSWV9ERUxBWQogICAgICAgIGZpCiAgICBmaQpkb25lCgojIFZlcmlmeSBzY3JpcHQgd2FzIGRvd25sb2FkZWQKaWYgWyAiJERPV05MT0FEX1NVQ0NFU1MiID0gZmFsc2UgXSB8fCBbICEgLWYgIiRVU0VSREFUQV9TQ1JJUFQiIF07IHRoZW4KICAgIGVjaG8gIuKdjCBDUklUSUNBTDogRmFpbGVkIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBhZnRlciAkTUFYX1JFVFJJRVMgYXR0ZW1wdHMiCiAgICBlY2hvICIgICBTMyBCdWNrZXQ6IGRldi13ZWItYXBwLTE1NzAyMSIKICAgIGVjaG8gIiAgIFMzIEtleTogJHtTM19LRVl9IgogICAgZWNobyAiICAgUmVnaW9uOiB1cy1lYXN0LTEiCiAgICBlY2hvICIgICBGaWxlIHBhdGg6ICRVU0VSREFUQV9TQ1JJUFQiCiAgICBlY2hvICIiCiAgICBlY2hvICJDaGVja2luZyBBV1MgQ0xJIGF2YWlsYWJpbGl0eS4uLiIKICAgIHdoaWNoIGF3cyB8fCBlY2hvICJBV1MgQ0xJIG5vdCBmb3VuZCIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkNoZWNraW5nIFMzIGFjY2Vzcy4uLiIKICAgIGF3cyBzMyBscyAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvIiAtLXJlZ2lvbiAidXMtZWFzdC0xIiB8fCBlY2hvICJDYW5ub3QgbGlzdCBTMyBidWNrZXQiCiAgICBlY2hvICIiCiAgICBlY2hvICJCb290c3RyYXAgc2NyaXB0IHdpbGwgZXhpdC4gQ2hlY2sgbG9ncyBhYm92ZSBmb3IgZGV0YWlscy4iCiAgICBleGl0IDEKZmkKCiMgTWFrZSBzY3JpcHQgZXhlY3V0YWJsZQplY2hvICJNYWtpbmcgc2NyaXB0IGV4ZWN1dGFibGUuLi4iCmNobW9kICt4ICIkVVNFUkRBVEFfU0NSSVBUIiB8fCB7CiAgICBlY2hvICLimqDvuI8gIEZhaWxlZCB0byBtYWtlIHNjcmlwdCBleGVjdXRhYmxlLCB0cnlpbmcgYW55d2F5Li4uIgp9CgojIEV4ZWN1dGUgdGhlIGRvd25sb2FkZWQgc2NyaXB0CmVjaG8gIkV4ZWN1dGluZyB1c2VyZGF0YSBzY3JpcHQuLi4iCmVjaG8gIlRpbWVzdGFtcCBiZWZvcmUgZXhlY3V0aW9uOiAkKGRhdGUpIgoKIyBFeGVjdXRlIHNjcmlwdCBhbmQgY2FwdHVyZSBleGl0IGNvZGUKaWYgYmFzaCAiJFVTRVJEQVRBX1NDUklQVCI7IHRoZW4KICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pyFIFVzZXJkYXRhIHNjcmlwdCBjb21wbGV0ZWQgKGV4aXQgY29kZTogJEVYSVRfQ09ERSkiCmVsc2UKICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pqg77iPICBVc2VyZGF0YSBzY3JpcHQgZXhpdGVkIHdpdGggY29kZTogJEVYSVRfQ09ERSIKICAgIGVjaG8gIkNoZWNrIC92YXIvbG9nL3VzZXItZGF0YS5sb2cgZm9yIGRldGFpbHMiCmZpCgplY2hvICI9PT0gQm9vdHN0cmFwIFNjcmlwdCBDb21wbGV0ZWQgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIkZpbmFsIGV4aXQgY29kZTogJEVYSVRfQ09ERSIK",
            "vpc_security_group_ids": [
              "sg-009ab7c7d8df7eceb"
            ]
          },
          "sensitive_values": {
            "block_device_mappings": [],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {}
            ],
            "instance_market_options": [],
            "instance_requirements": [],
            "license_specification": [],
            "maintenance_options": [],
            "metadata_options": [],
            "monitoring": [],
            "network_interfaces": [],
            "placement": [],
            "private_dns_name_options": [],
            "security_group_names": [],
            "tag_specifications": [
              {
                "tags": {}
              }
            ],
            "tags": {},
            "tags_all": {},
            "vpc_security_group_ids": [
              false
            ]
          }
        },
        {
          "address": "aws_lb.app-server-lb",
          "mode": "managed",
          "type": "aws_lb",
          "name": "app-server-lb",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
            "arn_suffix": "app/web-app-dev-lb/eac1ccc084f24a3b",
            "client_keep_alive": 3600,
            "connection_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "customer_owned_ipv4_pool": "",
            "desync_mitigation_mode": "defensive",
            "dns_name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
            "dns_record_client_routing_policy": null,
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": true,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "enable_tls_version_and_cipher_suite_headers": false,
            "enable_waf_fail_open": false,
            "enable_xff_client_port": false,
            "enable_zonal_shift": false,
            "enforce_security_group_inbound_rules_on_private_link_traffic": "",
            "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "ipv4",
            "ipam_pools": [],
            "load_balancer_type": "application",
            "minimum_load_balancer_capacity": [],
            "name": "web-app-dev-lb",
            "name_prefix": "",
            "preserve_host_header": false,
            "security_groups": [
              "sg-00830d59372461d2c"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0257115d2a1ef35ea"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0aaa1627feff66ddf"
              }
            ],
            "subnets": [
              "subnet-0257115d2a1ef35ea",
              "subnet-0aaa1627feff66ddf"
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-04a411e97b88a5e4f",
            "xff_header_processing_mode": "append",
            "zone_id": "Z35SXDOTRQ7X7K"
          },
          "sensitive_values": {
            "access_logs": [
              {}
            ],
            "connection_logs": [
              {}
            ],
            "ipam_pools": [],
            "minimum_load_balancer_capacity": [],
            "security_groups": [
              false
            ],
            "subnet_mapping": [
              {},
              {}
            ],
            "subnets": [
              false,
              false
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_lb_listener.app-server-listener",
          "mode": "managed",
          "type": "aws_lb_listener",
          "name": "app-server-listener",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
            "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
            "mutual_authentication": [
              {
                "advertise_trust_store_ca_names": "",
                "ignore_client_certificate_expiry": false,
                "mode": "off",
                "trust_store_arn": ""
              }
            ],
            "port": 443,
            "protocol": "HTTPS",
            "routing_http_request_x_amzn_mtls_clientcert_header_name": "",
            "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": "",
            "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": "",
            "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": "",
            "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": "",
            "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": "",
            "routing_http_request_x_amzn_tls_cipher_suite_header_name": "",
            "routing_http_request_x_amzn_tls_version_header_name": "",
            "routing_http_response_access_control_allow_credentials_header_value": "",
            "routing_http_response_access_control_allow_headers_header_value": "",
            "routing_http_response_access_control_allow_methods_header_value": "",
            "routing_http_response_access_control_allow_origin_header_value": "",
            "routing_http_response_access_control_expose_headers_header_value": "",
            "routing_http_response_access_control_max_age_header_value": "",
            "routing_http_response_content_security_policy_header_value": "",
            "routing_http_response_server_enabled": true,
            "routing_http_response_strict_transport_security_header_value": "",
            "routing_http_response_x_content_type_options_header_value": "",
            "routing_http_response_x_frame_options_header_value": "",
            "ssl_policy": "ELBSecurityPolicy-2016-08",
            "tags": {},
            "tags_all": {},
            "tcp_idle_timeout_seconds": null,
            "timeouts": null
          },
          "sensitive_values": {
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "redirect": []
              }
            ],
            "mutual_authentication": [
              {}
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_lb_listener.app-server-listener-http",
          "mode": "managed",
          "type": "aws_lb_listener",
          "name": "app-server-listener-http",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [
                  {
                    "host": "#{host}",
                    "path": "/#{path}",
                    "port": "443",
                    "protocol": "HTTPS",
                    "query": "#{query}",
                    "status_code": "HTTP_301"
                  }
                ],
                "target_group_arn": "",
                "type": "redirect"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
            "mutual_authentication": [],
            "port": 80,
            "protocol": "HTTP",
            "routing_http_request_x_amzn_mtls_clientcert_header_name": null,
            "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": null,
            "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": null,
            "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": null,
            "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": null,
            "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": null,
            "routing_http_request_x_amzn_tls_cipher_suite_header_name": null,
            "routing_http_request_x_amzn_tls_version_header_name": null,
            "routing_http_response_access_control_allow_credentials_header_value": "",
            "routing_http_response_access_control_allow_headers_header_value": "",
            "routing_http_response_access_control_allow_methods_header_value": "",
            "routing_http_response_access_control_allow_origin_header_value": "",
            "routing_http_response_access_control_expose_headers_header_value": "",
            "routing_http_response_access_control_max_age_header_value": "",
            "routing_http_response_content_security_policy_header_value": "",
            "routing_http_response_server_enabled": true,
            "routing_http_response_strict_transport_security_header_value": "",
            "routing_http_response_x_content_type_options_header_value": "",
            "routing_http_response_x_frame_options_header_value": "",
            "ssl_policy": "",
            "tags": {},
            "tags_all": {},
            "tcp_idle_timeout_seconds": null,
            "timeouts": null
          },
          "sensitive_values": {
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "redirect": [
                  {}
                ]
              }
            ],
            "mutual_authentication": [],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_lb_target_group.app-server-tg",
          "mode": "managed",
          "type": "aws_lb_target_group",
          "name": "app-server-tg",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
            "arn_suffix": "targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
            "connection_termination": null,
            "deregistration_delay": "30",
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 2,
                "interval": 30,
                "matcher": "200",
                "path": "/health",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 10,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
            "ip_address_type": "ipv4",
            "lambda_multi_value_headers_enabled": false,
            "load_balancer_arns": [
              "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b"
            ],
            "load_balancing_algorithm_type": "round_robin",
            "load_balancing_anomaly_mitigation": "off",
            "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
            "name": "web-app-dev-tg",
            "name_prefix": "",
            "port": 80,
            "preserve_client_ip": null,
            "protocol": "HTTP",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {
              "Name": "web-app-dev-tg"
            },
            "tags_all": {
              "Name": "web-app-dev-tg"
            },
            "target_failover": [
              {
                "on_deregistration": null,
                "on_unhealthy": null
              }
            ],
            "target_group_health": [
              {
                "dns_failover": [
                  {
                    "minimum_healthy_targets_count": "1",
                    "minimum_healthy_targets_percentage": "off"
                  }
                ],
                "unhealthy_state_routing": [
                  {
                    "minimum_healthy_targets_count": 1,
                    "minimum_healthy_targets_percentage": "off"
                  }
                ]
              }
            ],
            "target_health_state": [
              {
                "enable_unhealthy_connection_termination": null,
                "unhealthy_draining_interval": null
              }
            ],
            "target_type": "instance",
            "vpc_id": "vpc-04a411e97b88a5e4f"
          },
          "sensitive_values": {
            "health_check": [
              {}
            ],
            "load_balancer_arns": [
              false
            ],
            "stickiness": [
              {}
            ],
            "tags": {},
            "tags_all": {},
            "target_failover": [
              {}
            ],
            "target_group_health": [
              {
                "dns_failover": [
                  {}
                ],
                "unhealthy_state_routing": [
                  {}
                ]
              }
            ],
            "target_health_state": [
              {}
            ]
          }
        },
        {
          "address": "aws_route53_record.app-server",
          "mode": "managed",
          "type": "aws_route53_record",
          "name": "app-server",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 2,
          "values": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
                "zone_id": "Z35SXDOTRQ7X7K"
              }
            ],
            "allow_overwrite": null,
            "cidr_routing_policy": [],
            "failover_routing_policy": [],
            "fqdn": "dev.211125336427.realhandsonlabs.net",
            "geolocation_routing_policy": [],
            "geoproximity_routing_policy": [],
            "health_check_id": "",
            "id": "Z0476534LTCE2W6ERWDB_dev.211125336427.realhandsonlabs.net_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": false,
            "name": "dev.211125336427.realhandsonlabs.net",
            "records": [],
            "set_identifier": "",
            "timeouts": null,
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0476534LTCE2W6ERWDB"
          },
          "sensitive_values": {
            "alias": [
              {}
            ],
            "cidr_routing_policy": [],
            "failover_routing_policy": [],
            "geolocation_routing_policy": [],
            "geoproximity_routing_policy": [],
            "latency_routing_policy": [],
            "records": [],
            "weighted_routing_policy": []
          }
        },
        {
          "address": "aws_route53_record.app-server-cert-validation-record[\"dev.211125336427.realhandsonlabs.net\"]",
          "mode": "managed",
          "type": "aws_route53_record",
          "name": "app-server-cert-validation-record",
          "index": "dev.211125336427.realhandsonlabs.net",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 2,
          "values": {
            "alias": [],
            "allow_overwrite": null,
            "cidr_routing_policy": [],
            "failover_routing_policy": [],
            "fqdn": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
            "geolocation_routing_policy": [],
            "geoproximity_routing_policy": [],
            "health_check_id": "",
            "id": "Z0476534LTCE2W6ERWDB__3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": false,
            "name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
            "records": [
              "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
            ],
            "set_identifier": "",
            "timeouts": null,
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0476534LTCE2W6ERWDB"
          },
          "sensitive_values": {
            "alias": [],
            "cidr_routing_policy": [],
            "failover_routing_policy": [],
            "geolocation_routing_policy": [],
            "geoproximity_routing_policy": [],
            "latency_routing_policy": [],
            "records": [
              false
            ],
            "weighted_routing_policy": []
          }
        },
        {
          "address": "aws_s3_bucket.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket",
          "name": "app_assets",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::dev-web-app-157021",
            "bucket": "dev-web-app-157021",
            "bucket_domain_name": "dev-web-app-157021.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "dev-web-app-157021.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [
              {
                "id": "5e786dec603f1f50a0225e93545ae5bd23e4b91b5f1041d7f4faef6b27a8f84b",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "dev-web-app-157021",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {
              "Environment": "dev",
              "Name": "web-app-dev-assets",
              "Purpose": "Application assets and userdata scripts"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "web-app-dev-assets",
              "Purpose": "Application assets and userdata scripts"
            },
            "timeouts": null,
            "versioning": [
              {
                "enabled": true,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_values": {
            "cors_rule": [],
            "grant": [
              {
                "permissions": [
                  false
                ]
              }
            ],
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "replication_configuration": [],
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {}
                    ]
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "versioning": [
              {}
            ],
            "website": []
          }
        },
        {
          "address": "aws_s3_bucket_public_access_block.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket_public_access_block",
          "name": "app_assets",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "block_public_acls": true,
            "block_public_policy": true,
            "bucket": "dev-web-app-157021",
            "id": "dev-web-app-157021",
            "ignore_public_acls": true,
            "restrict_public_buckets": true
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_s3_bucket_server_side_encryption_configuration.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket_server_side_encryption_configuration",
          "name": "app_assets",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "bucket": "dev-web-app-157021",
            "expected_bucket_owner": "",
            "id": "dev-web-app-157021",
            "rule": [
              {
                "apply_server_side_encryption_by_default": [
                  {
                    "kms_master_key_id": "",
                    "sse_algorithm": "AES256"
                  }
                ],
                "bucket_key_enabled": false
              }
            ]
          },
          "sensitive_values": {
            "rule": [
              {
                "apply_server_side_encryption_by_default": [
                  {}
                ]
              }
            ]
          }
        },
        {
          "address": "aws_s3_bucket_versioning.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket_versioning",
          "name": "app_assets",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "bucket": "dev-web-app-157021",
            "expected_bucket_owner": "",
            "id": "dev-web-app-157021",
            "mfa": null,
            "versioning_configuration": [
              {
                "mfa_delete": "",
                "status": "Enabled"
              }
            ]
          },
          "sensitive_values": {
            "versioning_configuration": [
              {}
            ]
          }
        },
        {
          "address": "aws_s3_object.userdata_script",
          "mode": "managed",
          "type": "aws_s3_object",
          "name": "userdata_script",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "acl": null,
            "arn": "arn:aws:s3:::dev-web-app-157021/scripts/userdata_client_app.sh",
            "bucket": "dev-web-app-157021",
            "bucket_key_enabled": false,
            "cache_control": "",
            "checksum_algorithm": null,
            "checksum_crc32": "",
            "checksum_crc32c": "",
            "checksum_crc64nvme": "",
            "checksum_sha1": "",
            "checksum_sha256": "",
            "content": "#!/bin/bash\n# User data script for Client Management Application\n# This script sets up a Flask application to manage client information\n\n# Don't use 'set -e' - we want to continue even if some commands fail\n# Use || true for commands that can safely fail\nset -u  # Only exit on undefined variables\nset -o pipefail  # Exit on pipe failures\n\necho \"=== Starting Client Management Application Setup ===\"\n\n# Update system and install Python\necho \"Updating system packages...\"\nsudo apt update -y\nsudo apt install -y python3 python3-pip\n\n# Install and start SSM Agent for Session Manager connectivity\necho \"Installing and starting SSM Agent...\"\nif ! command -v amazon-ssm-agent &> /dev/null; then\n    echo \"SSM Agent not found, installing via snap...\"\n    sudo snap install amazon-ssm-agent --classic || {\n        echo \"  Snap install failed, trying alternative method...\"\n        # Alternative: Install from deb package if snap fails\n        cd /tmp\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        sudo dpkg -i amazon-ssm-agent.deb || sudo apt-get install -f -y\n        rm -f amazon-ssm-agent.deb\n    }\nfi\n\n# Start SSM Agent\necho \"Starting SSM Agent...\"\nsudo systemctl enable amazon-ssm-agent || sudo systemctl enable snap.amazon-ssm-agent.amazon-ssm-agent.service || true\nsudo systemctl start amazon-ssm-agent || sudo systemctl start snap.amazon-ssm-agent.amazon-ssm-agent.service || sudo snap start amazon-ssm-agent || true\n\n# Verify SSM Agent is running\nsleep 2\nif sudo systemctl is-active --quiet amazon-ssm-agent || sudo systemctl is-active --quiet snap.amazon-ssm-agent.amazon-ssm-agent.service; then\n    echo \" SSM Agent is running\"\nelse\n    echo \"  SSM Agent may not be running, check logs with: sudo journalctl -u amazon-ssm-agent\"\nfi\n\n# Stop Apache if installed (to avoid port 80 conflict)\nsudo systemctl stop apache2 || true\nsudo systemctl disable apache2 || true\n\n# Install Python packages for PostgreSQL\necho \"Installing Python packages (Flask, psycopg2-binary, boto3)...\"\nsudo -H pip3 install flask psycopg2-binary boto3 || {\n    echo \"  pip3 install failed, trying with --break-system-packages...\"\n    sudo -H pip3 install --break-system-packages flask psycopg2-binary boto3\n}\n\n# Verify installation\necho \"Verifying Python packages...\"\npython3 -c \"import flask; import psycopg2; import boto3; print(' All packages installed successfully')\" || {\n    echo \" Package verification failed, trying alternative installation...\"\n    sudo apt-get install -y python3-flask python3-psycopg2 python3-boto3 || true\n    python3 -c \"import flask; import psycopg2; import boto3; print(' Packages verified')\" || echo \"  Some packages may not be available\"\n}\n\n# Create app directory\nmkdir -p /home/ubuntu/webapp\ncd /home/ubuntu/webapp\n\n# Copy the client application\n# Note: In production, you'd want to pull this from a Git repository or S3\n# For now, we'll create it inline\ncat << 'CLIENT_APP' > app.py\nimport os\nimport json\nimport boto3\nfrom flask import Flask, request, render_template_string, redirect, url_for\nimport psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# HTML Template\nCLIENT_FORM_HTML = \"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Client Information System</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background: white;\n            padding: 30px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .nav {\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .nav a {\n            margin: 0 10px;\n            padding: 8px 16px;\n            text-decoration: none;\n            background-color: #007bff;\n            color: white;\n            border-radius: 4px;\n        }\n        .nav a:hover {\n            background-color: #0056b3;\n        }\n        form {\n            display: grid;\n            gap: 15px;\n        }\n        label {\n            font-weight: bold;\n            color: #555;\n        }\n        input[type=\"text\"],\n        input[type=\"email\"],\n        input[type=\"tel\"],\n        textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        textarea {\n            resize: vertical;\n            min-height: 80px;\n        }\n        button {\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #218838;\n        }\n        .success {\n            background-color: #d4edda;\n            color: #155724;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        .error {\n            background-color: #f8d7da;\n            color: #721c24;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #007bff;\n            color: white;\n        }\n        tr:hover {\n            background-color: #f5f5f5;\n        }\n        .empty {\n            text-align: center;\n            color: #888;\n            padding: 40px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1> Client Information System</h1>\n        <div class=\"nav\">\n            <a href=\"/\">Add Client</a>\n            <a href=\"/clients\">View Clients</a>\n            <a href=\"/health\">Health Check</a>\n        </div>\n        {% if message %}\n        <div class=\"{{ message_type }}\">{{ message }}</div>\n        {% endif %}\n        {{ content|safe }}\n    </div>\n</body>\n</html>\n\"\"\"\n\nFORM_CONTENT = \"\"\"\n<h2>Add New Client</h2>\n<form method=\"POST\" action=\"/\">\n    <div>\n        <label for=\"name\">Full Name *</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"John Doe\">\n    </div>\n    \n    <div>\n        <label for=\"email\">Email Address *</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"john@example.com\">\n    </div>\n    \n    <div>\n        <label for=\"phone\">Phone Number</label>\n        <input type=\"tel\" id=\"phone\" name=\"phone\" placeholder=\"+1 234-567-8900\">\n    </div>\n    \n    <div>\n        <label for=\"company\">Company</label>\n        <input type=\"text\" id=\"company\" name=\"company\" placeholder=\"Acme Inc.\">\n    </div>\n    \n    <div>\n        <label for=\"address\">Address</label>\n        <textarea id=\"address\" name=\"address\" placeholder=\"123 Main St, City, State, ZIP\"></textarea>\n    </div>\n    \n    <div>\n        <label for=\"notes\">Notes</label>\n        <textarea id=\"notes\" name=\"notes\" placeholder=\"Additional information\"></textarea>\n    </div>\n    \n    <button type=\"submit\">Save Client</button>\n</form>\n\"\"\"\n\n\ndef get_db_credentials():\n    secret_name = os.getenv(\"SECRET_NAME\")\n    region = os.getenv(\"AWS_REGION\", \"us-east-1\")\n    \n    if not secret_name:\n        raise ValueError(\"SECRET_NAME environment variable not set\")\n    \n    client = boto3.client(\"secretsmanager\", region_name=region)\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response[\"SecretString\"])\n\n\ndef get_db_connection():\n    max_retries = 3\n    retry_delay = 2\n    \n    for attempt in range(max_retries):\n        try:\n            creds = get_db_credentials()\n            \n            # PostgreSQL RDS requires SSL connections\n            conn = psycopg2.connect(\n                host=creds[\"host\"],\n                database=creds[\"dbname\"],\n                user=creds[\"username\"],\n                password=creds[\"password\"],\n                port=int(creds[\"port\"]),\n                connect_timeout=10,\n                sslmode=\"require\"  # RDS PostgreSQL requires SSL\n            )\n            \n            print(f\" Database connection successful (attempt {attempt + 1})\")\n            return conn\n            \n        except psycopg2.OperationalError as e:\n            if \"password authentication failed\" in str(e).lower() or \"access denied\" in str(e).lower():\n                print(f\" Database access denied: {e}\")\n                raise Exception(f\"Database access denied: {e}\")\n            elif attempt < max_retries - 1:\n                print(f\"  Connection attempt {attempt + 1} failed, retrying...\")\n                import time\n                time.sleep(retry_delay)\n                continue\n            else:\n                raise Exception(f\"Database connection failed: {e}\")\n        except Exception as e:\n            print(f\" Database connection error: {e}\")\n            if attempt < max_retries - 1:\n                import time\n                time.sleep(retry_delay)\n                continue\n            raise\n\n\ndef init_database():\n    try:\n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS clients (\n                id SERIAL PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL,\n                phone VARCHAR(50),\n                company VARCHAR(255),\n                address TEXT,\n                notes TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                CONSTRAINT unique_email UNIQUE (email)\n            )\n        \"\"\")\n        \n        # Create indexes\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_email ON clients(email)\")\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_name ON clients(name)\")\n        \n        # Create trigger for updated_at (PostgreSQL equivalent of ON UPDATE CURRENT_TIMESTAMP)\n        cursor.execute(\"\"\"\n            CREATE OR REPLACE FUNCTION update_updated_at_column()\n            RETURNS TRIGGER AS $$\n            BEGIN\n                NEW.updated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ language 'plpgsql';\n        \"\"\")\n        cursor.execute(\"\"\"\n            DROP TRIGGER IF EXISTS update_clients_updated_at ON clients;\n            CREATE TRIGGER update_clients_updated_at\n                BEFORE UPDATE ON clients\n                FOR EACH ROW\n                EXECUTE FUNCTION update_updated_at_column();\n        \"\"\")\n        \n        conn.commit()\n        cursor.close()\n        conn.close()\n        \n        print(\" Database table initialized successfully\")\n        return True\n        \n    except psycopg2.OperationalError as e:\n        error_msg = str(e)\n        print(f\"  Database connection error: {error_msg}\")\n        print(f\"   Check: Security group, network connectivity, credentials\")\n        return False\n    except psycopg2.Error as e:\n        error_msg = str(e)\n        print(f\"  Database error: {error_msg}\")\n        return False\n    except Exception as e:\n        error_msg = str(e)\n        print(f\"  Database initialization error: {error_msg}\")\n        print(f\"   Error type: {type(e).__name__}\")\n        import traceback\n        print(f\"   Traceback: {traceback.format_exc()}\")\n        return False\n\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    # Handle POST request (form submission)\n    if request.method == \"POST\":\n        try:\n            name = request.form.get(\"name\", \"\").strip()\n            email = request.form.get(\"email\", \"\").strip()\n            phone = request.form.get(\"phone\", \"\").strip()\n            company = request.form.get(\"company\", \"\").strip()\n            address = request.form.get(\"address\", \"\").strip()\n            notes = request.form.get(\"notes\", \"\").strip()\n            \n            if not name or not email:\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: Name and Email are required fields.\",\n                    message_type=\"error\"\n                )\n            \n            # Try to initialize database and get the actual error if it fails\n            db_init_result = init_database()\n            if not db_init_result:\n                # Get the last error from logs or try connection again to get error\n                try:\n                    conn = get_db_connection()\n                    conn.close()\n                    # If connection works, try init again\n                    if not init_database():\n                        raise Exception(\"Failed to initialize database (connection works but init failed)\")\n                except Exception as conn_err:\n                    raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n            \n            conn = get_db_connection()\n            cursor = conn.cursor()\n            \n            try:\n                cursor.execute(\"\"\"\n                    INSERT INTO clients (name, email, phone, company, address, notes)\n                    VALUES (%s, %s, %s, %s, %s, %s)\n                    RETURNING id\n                \"\"\", (name, email, phone or None, company or None, address or None, notes or None))\n                \n                result = cursor.fetchone()\n                client_id = result[0] if result else None\n                conn.commit()\n                \n                cursor.close()\n                conn.close()\n                \n                success_msg = f\" Client '{name}' has been successfully added! (ID: {client_id})\"\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=success_msg,\n                    message_type=\"success\"\n                )\n                \n            except psycopg2.IntegrityError as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: A client with this email already exists.\",\n                    message_type=\"error\"\n                )\n            except Exception as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                raise\n                \n        except Exception as e:\n            error_msg = f\"Error saving client: {str(e)}\"\n            print(f\" {error_msg}\")\n            return render_template_string(\n                CLIENT_FORM_HTML,\n                content=FORM_CONTENT,\n                message=error_msg,\n                message_type=\"error\"\n            ), 500\n    \n    # Handle GET request (display form)\n    return render_template_string(CLIENT_FORM_HTML, content=FORM_CONTENT)\n\n\n@app.route(\"/clients\")\ndef list_clients():\n    try:\n        # Try to initialize database and get the actual error if it fails\n        db_init_result = init_database()\n        if not db_init_result:\n            # Get the last error from logs or try connection again to get error\n            try:\n                conn = get_db_connection()\n                conn.close()\n                # If connection works, try init again\n                if not init_database():\n                    raise Exception(\"Failed to initialize database (connection works but init failed)\")\n            except Exception as conn_err:\n                raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n        \n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            SELECT id, name, email, phone, company, address, notes, \n                   created_at, updated_at\n            FROM clients\n            ORDER BY created_at DESC\n        \"\"\")\n        \n        clients = cursor.fetchall()\n        cursor.close()\n        conn.close()\n        \n        if not clients:\n            content = '<div class=\"empty\"><h2>No clients found</h2><p>Start by adding a new client.</p></div>'\n            return render_template_string(CLIENT_FORM_HTML, content=content)\n        \n        table_html = \"\"\"\n        <h2> All Clients ({} total)</h2>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Company</th>\n                    <th>Created</th>\n                </tr>\n            </thead>\n            <tbody>\n        \"\"\".format(len(clients))\n        \n        for client in clients:\n            created_at = client['created_at'].strftime('%Y-%m-%d %H:%M') if client['created_at'] else 'N/A'\n            table_html += f\"\"\"\n                <tr>\n                    <td>{client['id']}</td>\n                    <td><strong>{client['name']}</strong></td>\n                    <td>{client['email']}</td>\n                    <td>{client['phone'] or '-'}</td>\n                    <td>{client['company'] or '-'}</td>\n                    <td>{created_at}</td>\n                </tr>\n            \"\"\"\n        \n        table_html += \"\"\"\n            </tbody>\n        </table>\n        \"\"\"\n        \n        return render_template_string(CLIENT_FORM_HTML, content=table_html)\n        \n    except Exception as e:\n        error_msg = f\"Error retrieving clients: {str(e)}\"\n        print(f\" {error_msg}\")\n        return render_template_string(\n            CLIENT_FORM_HTML,\n            content=f'<div class=\"error\">{error_msg}</div>',\n            message_type=\"error\"\n        ), 500\n\n\n@app.route(\"/health\")\ndef health():\n    # Health check endpoint - MUST NOT require database access\n    # ALB health checks will fail if this endpoint requires DB connection\n    # Returns 200 OK if Flask app is running (simple check)\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"running\",\n        \"timestamp\": datetime.now().isoformat()\n    }, 200\n\n\nif __name__ == \"__main__\":\n    try:\n        print(\"=== Client Management Application Starting ===\")\n        \n        # Start Flask IMMEDIATELY - don't block on database initialization\n        # Database will be initialized lazily on first request that needs it\n        # This ensures health checks work even if database is not ready\n        import threading\n        \n        def init_db_async():\n            \"\"\"Initialize database in background thread\"\"\"\n            try:\n                import time\n                time.sleep(5)  # Give Flask time to start first\n                print(\"Attempting database initialization in background...\")\n                init_database()\n                print(\" Database initialized successfully\")\n            except Exception as e:\n                print(f\"  Database initialization failed (will retry on first request): {e}\")\n        \n        # Start database initialization in background thread\n        db_thread = threading.Thread(target=init_db_async, daemon=True)\n        db_thread.start()\n        \n        print(\" Flask application starting (health check available immediately)\")\n        print(\"   Flask will listen on 0.0.0.0:80\")\n        app.run(host=\"0.0.0.0\", port=80, debug=False, threaded=True)\n    except Exception as e:\n        print(f\" CRITICAL: Flask failed to start: {e}\")\n        import traceback\n        traceback.print_exc()\n        raise\nCLIENT_APP\n\n# Install authbind to allow non-root user to bind to port 80\nsudo apt-get install -y authbind\n\n# Allow ubuntu user to bind to port 80\nsudo touch /etc/authbind/byport/80\nsudo chmod 500 /etc/authbind/byport/80\nsudo chown ubuntu:ubuntu /etc/authbind/byport/80\n\n# Create systemd service for Flask\ncat << SERVICE | sudo tee /etc/systemd/system/flaskapp.service\n[Unit]\nDescription=Client Management Flask Application\nAfter=network.target\n\n[Service]\nUser=ubuntu\nWorkingDirectory=/home/ubuntu/webapp\nEnvironment=\"SECRET_NAME=arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"\nEnvironment=\"AWS_REGION=us-east-1\"\nEnvironment=\"PATH=/usr/local/bin:/usr/bin:/bin\"\nExecStart=/usr/bin/authbind --deep /usr/bin/python3 /home/ubuntu/webapp/app.py\nRestart=on-failure\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=60\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# Enable and start Flask service\nsudo systemctl daemon-reload\nsudo systemctl enable flaskapp\n\n# Start Flask service\necho \"Starting Flask application...\"\nsudo systemctl start flaskapp\nsleep 10\n\n# Verify Flask is running\nif sudo systemctl is-active --quiet flaskapp; then\n    echo \" Flask service is running\"\n    sleep 2\n    if curl -f http://localhost/health > /dev/null 2>&1; then\n        echo \" Health endpoint is responding\"\n    else\n        echo \"  Health endpoint not responding yet, checking logs...\"\n        sudo journalctl -u flaskapp --no-pager -n 20 || true\n    fi\nelse\n    echo \" Flask service failed to start\"\n    echo \"Checking logs for errors...\"\n    sudo journalctl -u flaskapp --no-pager -n 50 || true\n    echo \"\"\n    echo \"  Flask service failed, but continuing userdata script...\"\n    echo \"Service will be retried by systemd with Restart=on-failure\"\n    echo \"You can check logs later with: sudo journalctl -u flaskapp -f\"\nfi\n\necho \"=== Client Management Application Setup Complete ===\"",
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "text/x-shellscript",
            "etag": "997b6435ce6d7f8eaaccd7d55dcb7e73",
            "force_destroy": false,
            "id": "scripts/userdata_client_app.sh",
            "key": "scripts/userdata_client_app.sh",
            "kms_key_id": null,
            "metadata": {},
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "override_provider": [],
            "server_side_encryption": "AES256",
            "source": null,
            "source_hash": null,
            "storage_class": "STANDARD",
            "tags": {
              "Name": "Client App Userdata Script",
              "Type": "Userdata"
            },
            "tags_all": {
              "Name": "Client App Userdata Script",
              "Type": "Userdata"
            },
            "version_id": "jyDvmEfJs2Urfvv7jnb1wdIftbKxK6Xh",
            "website_redirect": ""
          },
          "sensitive_values": {
            "metadata": {},
            "override_provider": [],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_secretsmanager_secret.db_credential",
          "mode": "managed",
          "type": "aws_secretsmanager_secret",
          "name": "db_credential",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
            "description": "RDS database credentials for web-app-dev application",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
            "kms_key_id": "",
            "name": "web-app-dev-db-credential",
            "name_prefix": "",
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "tags": {
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Name": "web-app-dev-db-credential"
            },
            "tags_all": {
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Name": "web-app-dev-db-credential"
            }
          },
          "sensitive_values": {
            "replica": [],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_secretsmanager_secret_version.db_credential",
          "mode": "managed",
          "type": "aws_secretsmanager_secret_version",
          "name": "db_credential",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
            "has_secret_string_wo": null,
            "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a|terraform-2025121017425850300000000b",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
            "secret_string": "{\"dbname\":\"app_db\",\"engine\":\"postgres\",\"host\":\"web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":5432,\"username\":\"dbadmin\"}",
            "secret_string_wo": null,
            "secret_string_wo_version": null,
            "version_id": "terraform-2025121017425850300000000b",
            "version_stages": [
              "AWSPREVIOUS"
            ]
          },
          "sensitive_values": {
            "secret_binary": true,
            "secret_string": true,
            "secret_string_wo": true,
            "version_stages": [
              false
            ]
          }
        },
        {
          "address": "aws_security_group.alb-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "alb-sg",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00830d59372461d2c",
            "description": "Security Group for the Application Load Balancer",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-00830d59372461d2c",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow HTTP from internet",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow HTTPS from internet",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "web-app-dev-alb-sg",
            "name_prefix": "",
            "owner_id": "211125336427",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "web-app-dev-alb-sg"
            },
            "tags_all": {
              "Name": "web-app-dev-alb-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-04a411e97b88a5e4f"
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              },
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_security_group.app-server-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "app-server-sg",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-009ab7c7d8df7eceb",
            "description": "Security Group for the app-server instances",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-009ab7c7d8df7eceb",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow HTTP from ALB",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-00830d59372461d2c"
                ],
                "self": false,
                "to_port": 80
              },
              {
                "cidr_blocks": [],
                "description": "Allow HTTPS from ALB",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-00830d59372461d2c"
                ],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "web-app-dev-instance-sg",
            "name_prefix": "",
            "owner_id": "211125336427",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "web-app-dev-instance-sg"
            },
            "tags_all": {
              "Name": "web-app-dev-instance-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-04a411e97b88a5e4f"
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": [
                  false
                ]
              },
              {
                "cidr_blocks": [],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": [
                  false
                ]
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_security_group.bastion_sg[0]",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "bastion_sg",
          "index": 0,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0fe1c7c0045fffe5f",
            "description": "Security Group for Bastion Host - Temporary troubleshooting instance",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0fe1c7c0045fffe5f",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow ICMP from internet",
                "from_port": -1,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "icmp",
                "security_groups": [],
                "self": false,
                "to_port": -1
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "SSH from internet",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              }
            ],
            "name": "web-app-dev-bastion-sg",
            "name_prefix": "",
            "owner_id": "211125336427",
            "revoke_rules_on_delete": false,
            "tags": {
              "ManagedBy": "Terraform",
              "Name": "web-app-dev-bastion",
              "Purpose": "Troubleshooting",
              "Temporary": "true"
            },
            "tags_all": {
              "ManagedBy": "Terraform",
              "Name": "web-app-dev-bastion",
              "Purpose": "Troubleshooting",
              "Temporary": "true"
            },
            "timeouts": null,
            "vpc_id": "vpc-04a411e97b88a5e4f"
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              },
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_security_group.db-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "db-sg",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0aeb90adbedae575c",
            "description": "Security Group for the database",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0aeb90adbedae575c",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow PostgreSQL access from app servers",
                "from_port": 5432,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-009ab7c7d8df7eceb"
                ],
                "self": false,
                "to_port": 5432
              }
            ],
            "name": "web-app-dev-db-sg",
            "name_prefix": "",
            "owner_id": "211125336427",
            "revoke_rules_on_delete": false,
            "tags": {
              "name": "web-app-dev"
            },
            "tags_all": {
              "name": "web-app-dev"
            },
            "timeouts": null,
            "vpc_id": "vpc-04a411e97b88a5e4f"
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": [
                  false
                ]
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_security_group_rule.app_server_allow_bastion_ssh[0]",
          "mode": "managed",
          "type": "aws_security_group_rule",
          "name": "app_server_allow_bastion_ssh",
          "index": 0,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 2,
          "values": {
            "cidr_blocks": null,
            "description": "Allow SSH from bastion host",
            "from_port": 22,
            "id": "sgrule-4047439005",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-009ab7c7d8df7eceb",
            "security_group_rule_id": "sgr-0ef96201f154a23c8",
            "self": false,
            "source_security_group_id": "sg-0fe1c7c0045fffe5f",
            "timeouts": null,
            "to_port": 22,
            "type": "ingress"
          },
          "sensitive_values": {}
        },
        {
          "address": "null_resource.instance_refresh_trigger",
          "mode": "managed",
          "type": "null_resource",
          "name": "instance_refresh_trigger",
          "provider_name": "registry.terraform.io/hashicorp/null",
          "schema_version": 0,
          "values": {
            "id": "1684440273615415533",
            "triggers": {
              "asg_name": "web-app-dev-asg",
              "user_data_hash": "e169ba65364e7db4265741e5b1e8e07e792d68a6109d351fc7fd1b1964e84459"
            }
          },
          "sensitive_values": {
            "triggers": {}
          }
        },
        {
          "address": "null_resource.sync_db_password",
          "mode": "managed",
          "type": "null_resource",
          "name": "sync_db_password",
          "provider_name": "registry.terraform.io/hashicorp/null",
          "schema_version": 0,
          "values": {
            "id": "8795904885779171413",
            "triggers": {
              "db_instance_id": "web-app-dev-db-db",
              "db_instance_status": "available",
              "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a"
            }
          },
          "sensitive_values": {
            "triggers": {}
          }
        },
        {
          "address": "random_integer.random",
          "mode": "managed",
          "type": "random_integer",
          "name": "random",
          "provider_name": "registry.terraform.io/hashicorp/random",
          "schema_version": 0,
          "values": {
            "id": "157021",
            "keepers": null,
            "max": 999999,
            "min": 100000,
            "result": 157021,
            "seed": null
          },
          "sensitive_values": {}
        }
      ],
      "child_modules": [
        {
          "address": "module.database",
          "child_modules": [
            {
              "resources": [
                {
                  "address": "module.database.module.db_instance.aws_db_instance.this[0]",
                  "mode": "managed",
                  "type": "aws_db_instance",
                  "name": "this",
                  "index": 0,
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 2,
                  "values": {
                    "address": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com",
                    "allocated_storage": 20,
                    "allow_major_version_upgrade": false,
                    "apply_immediately": false,
                    "arn": "arn:aws:rds:us-east-1:211125336427:db:web-app-dev-db-db",
                    "auto_minor_version_upgrade": true,
                    "availability_zone": "us-east-1a",
                    "backup_retention_period": 7,
                    "backup_target": "region",
                    "backup_window": "00:00-03:00",
                    "blue_green_update": [],
                    "ca_cert_identifier": "rds-ca-rsa2048-g1",
                    "character_set_name": "",
                    "copy_tags_to_snapshot": false,
                    "custom_iam_instance_profile": "",
                    "customer_owned_ip_enabled": false,
                    "database_insights_mode": "standard",
                    "db_name": "app_db",
                    "db_subnet_group_name": "dev-vpc",
                    "dedicated_log_volume": false,
                    "delete_automated_backups": true,
                    "deletion_protection": false,
                    "domain": "",
                    "domain_auth_secret_arn": "",
                    "domain_dns_ips": [],
                    "domain_fqdn": "",
                    "domain_iam_role_name": "",
                    "domain_ou": "",
                    "enabled_cloudwatch_logs_exports": [],
                    "endpoint": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com:5432",
                    "engine": "postgres",
                    "engine_lifecycle_support": "open-source-rds-extended-support",
                    "engine_version": "16.11",
                    "engine_version_actual": "16.11",
                    "final_snapshot_identifier": null,
                    "hosted_zone_id": "Z2R2ITUGPM61AM",
                    "iam_database_authentication_enabled": false,
                    "id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
                    "identifier": "web-app-dev-db-db",
                    "identifier_prefix": "",
                    "instance_class": "db.t3.micro",
                    "iops": 0,
                    "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/b18b28a3-e535-46b1-ba2d-5b133d648613",
                    "latest_restorable_time": "2025-12-10T19:09:33Z",
                    "license_model": "postgresql-license",
                    "listener_endpoint": [],
                    "maintenance_window": "mon:03:25-mon:03:55",
                    "manage_master_user_password": true,
                    "master_user_secret": [
                      {
                        "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/c38f0f90-5203-454e-9074-d8d29853d4b3",
                        "secret_arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi",
                        "secret_status": "active"
                      }
                    ],
                    "master_user_secret_kms_key_id": null,
                    "max_allocated_storage": 100,
                    "monitoring_interval": 0,
                    "monitoring_role_arn": "",
                    "multi_az": false,
                    "nchar_character_set_name": "",
                    "network_type": "IPV4",
                    "option_group_name": "default:postgres-16",
                    "parameter_group_name": "default.postgres16",
                    "password": null,
                    "password_wo": null,
                    "password_wo_version": null,
                    "performance_insights_enabled": false,
                    "performance_insights_kms_key_id": "",
                    "performance_insights_retention_period": 0,
                    "port": 5432,
                    "publicly_accessible": false,
                    "replica_mode": "",
                    "replicas": [],
                    "replicate_source_db": "",
                    "resource_id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
                    "restore_to_point_in_time": [],
                    "s3_import": [],
                    "skip_final_snapshot": true,
                    "snapshot_identifier": null,
                    "status": "available",
                    "storage_encrypted": true,
                    "storage_throughput": 0,
                    "storage_type": "gp2",
                    "tags": {
                      "Name": "web-app-dev-db-157021"
                    },
                    "tags_all": {
                      "Name": "web-app-dev-db-157021"
                    },
                    "timeouts": {
                      "create": null,
                      "delete": null,
                      "update": null
                    },
                    "timezone": "",
                    "upgrade_storage_config": null,
                    "username": "dbadmin",
                    "vpc_security_group_ids": [
                      "sg-0aeb90adbedae575c"
                    ]
                  },
                  "sensitive_values": {
                    "blue_green_update": [],
                    "domain_dns_ips": [],
                    "enabled_cloudwatch_logs_exports": [],
                    "listener_endpoint": [],
                    "master_user_secret": [
                      {}
                    ],
                    "password": true,
                    "password_wo": true,
                    "replicas": [],
                    "restore_to_point_in_time": [],
                    "s3_import": [],
                    "tags": {},
                    "tags_all": {},
                    "timeouts": {},
                    "vpc_security_group_ids": [
                      false
                    ]
                  }
                },
                {
                  "address": "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
                  "mode": "data",
                  "type": "aws_iam_policy_document",
                  "name": "enhanced_monitoring",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "values": {
                    "override_json": null,
                    "override_policy_documents": null,
                    "policy_id": null,
                    "source_json": null,
                    "source_policy_documents": null,
                    "statement": [
                      {
                        "actions": [
                          "sts:AssumeRole"
                        ],
                        "condition": [],
                        "effect": null,
                        "not_actions": null,
                        "not_principals": [],
                        "not_resources": null,
                        "principals": [
                          {
                            "identifiers": [
                              "monitoring.rds.amazonaws.com"
                            ],
                            "type": "Service"
                          }
                        ],
                        "resources": null,
                        "sid": null
                      }
                    ],
                    "version": null
                  },
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [],
                        "not_principals": [],
                        "principals": [
                          {
                            "identifiers": [
                              false
                            ]
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "address": "module.database.module.db_instance.data.aws_partition.current",
                  "mode": "data",
                  "type": "aws_partition",
                  "name": "current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                }
              ],
              "address": "module.database.module.db_instance"
            }
          ]
        },
        {
          "resources": [
            {
              "address": "module.vpc.aws_db_subnet_group.database[0]",
              "mode": "managed",
              "type": "aws_db_subnet_group",
              "name": "database",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:rds:us-east-1:211125336427:subgrp:dev-vpc",
                "description": "Database subnet group for dev-vpc",
                "id": "dev-vpc",
                "name": "dev-vpc",
                "name_prefix": "",
                "subnet_ids": [
                  "subnet-0587e1bf569e9ba82",
                  "subnet-0ba5709102532ea5a"
                ],
                "supported_network_types": [
                  "IPV4"
                ],
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "subnet_ids": [
                  false,
                  false
                ],
                "supported_network_types": [
                  false
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_default_network_acl.this[0]",
              "mode": "managed",
              "type": "aws_default_network_acl",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:network-acl/acl-09d75561178c59659",
                "default_network_acl_id": "acl-09d75561178c59659",
                "egress": [
                  {
                    "action": "allow",
                    "cidr_block": "",
                    "from_port": 0,
                    "icmp_code": 0,
                    "icmp_type": 0,
                    "ipv6_cidr_block": "::/0",
                    "protocol": "-1",
                    "rule_no": 101,
                    "to_port": 0
                  },
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 0,
                    "icmp_code": 0,
                    "icmp_type": 0,
                    "ipv6_cidr_block": "",
                    "protocol": "-1",
                    "rule_no": 100,
                    "to_port": 0
                  }
                ],
                "id": "acl-09d75561178c59659",
                "ingress": [
                  {
                    "action": "allow",
                    "cidr_block": "",
                    "from_port": 0,
                    "icmp_code": 0,
                    "icmp_type": 0,
                    "ipv6_cidr_block": "::/0",
                    "protocol": "-1",
                    "rule_no": 101,
                    "to_port": 0
                  },
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 0,
                    "icmp_code": 0,
                    "icmp_type": 0,
                    "ipv6_cidr_block": "",
                    "protocol": "-1",
                    "rule_no": 100,
                    "to_port": 0
                  }
                ],
                "owner_id": "211125336427",
                "subnet_ids": [
                  "subnet-0257115d2a1ef35ea",
                  "subnet-045dee18d553a8a2a",
                  "subnet-05450a4ab7f5408bb",
                  "subnet-0587e1bf569e9ba82",
                  "subnet-0aaa1627feff66ddf",
                  "subnet-0ba5709102532ea5a"
                ],
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "egress": [
                  {},
                  {}
                ],
                "ingress": [
                  {},
                  {}
                ],
                "subnet_ids": [
                  false,
                  false,
                  false,
                  false,
                  false,
                  false
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_default_route_table.default[0]",
              "mode": "managed",
              "type": "aws_default_route_table",
              "name": "default",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-044b5633fdaebb72d",
                "default_route_table_id": "rtb-044b5633fdaebb72d",
                "id": "rtb-044b5633fdaebb72d",
                "owner_id": "211125336427",
                "propagating_vgws": [],
                "route": [],
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": {
                  "create": "5m",
                  "update": "5m"
                },
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {},
                "timeouts": {}
              }
            },
            {
              "address": "module.vpc.aws_default_security_group.this[0]",
              "mode": "managed",
              "type": "aws_default_security_group",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00ba1002f2a04343d",
                "description": "default VPC security group",
                "egress": [],
                "id": "sg-00ba1002f2a04343d",
                "ingress": [],
                "name": "default",
                "name_prefix": "",
                "owner_id": "211125336427",
                "revoke_rules_on_delete": false,
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "egress": [],
                "ingress": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_eip.nat[0]",
              "mode": "managed",
              "type": "aws_eip",
              "name": "nat",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "address": null,
                "allocation_id": "eipalloc-0ca1ddd3756729ba8",
                "arn": "arn:aws:ec2:us-east-1:211125336427:elastic-ip/eipalloc-0ca1ddd3756729ba8",
                "associate_with_private_ip": null,
                "association_id": "eipassoc-03df71fc1245d42f4",
                "carrier_ip": "",
                "customer_owned_ip": "",
                "customer_owned_ipv4_pool": "",
                "domain": "vpc",
                "id": "eipalloc-0ca1ddd3756729ba8",
                "instance": "",
                "ipam_pool_id": null,
                "network_border_group": "us-east-1",
                "network_interface": "eni-0cfbbb29449a358a7",
                "private_dns": "ip-10-0-1-247.ec2.internal",
                "private_ip": "10.0.1.247",
                "ptr_record": "",
                "public_dns": "ec2-18-210-208-127.compute-1.amazonaws.com",
                "public_ip": "18.210.208.127",
                "public_ipv4_pool": "amazon",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc": true
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_internet_gateway.this[0]",
              "mode": "managed",
              "type": "aws_internet_gateway",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:internet-gateway/igw-01b50c1d9ccca0886",
                "id": "igw-01b50c1d9ccca0886",
                "owner_id": "211125336427",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_nat_gateway.this[0]",
              "mode": "managed",
              "type": "aws_nat_gateway",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "allocation_id": "eipalloc-0ca1ddd3756729ba8",
                "association_id": "eipassoc-03df71fc1245d42f4",
                "connectivity_type": "public",
                "id": "nat-09d5abcfcb652fc19",
                "network_interface_id": "eni-0cfbbb29449a358a7",
                "private_ip": "10.0.1.247",
                "public_ip": "18.210.208.127",
                "secondary_allocation_ids": [],
                "secondary_private_ip_address_count": 0,
                "secondary_private_ip_addresses": [],
                "subnet_id": "subnet-0257115d2a1ef35ea",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "secondary_allocation_ids": [],
                "secondary_private_ip_addresses": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route.private_nat_gateway[0]",
              "mode": "managed",
              "type": "aws_route",
              "name": "private_nat_gateway",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "carrier_gateway_id": "",
                "core_network_arn": "",
                "destination_cidr_block": "0.0.0.0/0",
                "destination_ipv6_cidr_block": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "id": "r-rtb-0847470e04bef136e1080289494",
                "instance_id": "",
                "instance_owner_id": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-09d5abcfcb652fc19",
                "network_interface_id": "",
                "origin": "CreateRoute",
                "route_table_id": "rtb-0847470e04bef136e",
                "state": "active",
                "timeouts": {
                  "create": "5m",
                  "delete": null,
                  "update": null
                },
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              },
              "sensitive_values": {
                "timeouts": {}
              }
            },
            {
              "address": "module.vpc.aws_route.public_internet_gateway[0]",
              "mode": "managed",
              "type": "aws_route",
              "name": "public_internet_gateway",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "carrier_gateway_id": "",
                "core_network_arn": "",
                "destination_cidr_block": "0.0.0.0/0",
                "destination_ipv6_cidr_block": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-01b50c1d9ccca0886",
                "id": "r-rtb-055d1aee5e7604d6b1080289494",
                "instance_id": "",
                "instance_owner_id": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "origin": "CreateRoute",
                "route_table_id": "rtb-055d1aee5e7604d6b",
                "state": "active",
                "timeouts": {
                  "create": "5m",
                  "delete": null,
                  "update": null
                },
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              },
              "sensitive_values": {
                "timeouts": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.private[0]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-0847470e04bef136e",
                "id": "rtb-0847470e04bef136e",
                "owner_id": "211125336427",
                "propagating_vgws": [],
                "route": [
                  {
                    "carrier_gateway_id": "",
                    "cidr_block": "0.0.0.0/0",
                    "core_network_arn": "",
                    "destination_prefix_list_id": "",
                    "egress_only_gateway_id": "",
                    "gateway_id": "",
                    "ipv6_cidr_block": "",
                    "local_gateway_id": "",
                    "nat_gateway_id": "nat-09d5abcfcb652fc19",
                    "network_interface_id": "",
                    "transit_gateway_id": "",
                    "vpc_endpoint_id": "",
                    "vpc_peering_connection_id": ""
                  }
                ],
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [
                  {}
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.public[0]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-055d1aee5e7604d6b",
                "id": "rtb-055d1aee5e7604d6b",
                "owner_id": "211125336427",
                "propagating_vgws": [],
                "route": [
                  {
                    "carrier_gateway_id": "",
                    "cidr_block": "0.0.0.0/0",
                    "core_network_arn": "",
                    "destination_prefix_list_id": "",
                    "egress_only_gateway_id": "",
                    "gateway_id": "igw-01b50c1d9ccca0886",
                    "ipv6_cidr_block": "",
                    "local_gateway_id": "",
                    "nat_gateway_id": "",
                    "network_interface_id": "",
                    "transit_gateway_id": "",
                    "vpc_endpoint_id": "",
                    "vpc_peering_connection_id": ""
                  }
                ],
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [
                  {}
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table_association.database[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "database",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": "",
                "id": "rtbassoc-00130e3f52b5f1f9e",
                "route_table_id": "rtb-0847470e04bef136e",
                "subnet_id": "subnet-0587e1bf569e9ba82",
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.database[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "database",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": "",
                "id": "rtbassoc-000885b4ae2ab5b0e",
                "route_table_id": "rtb-0847470e04bef136e",
                "subnet_id": "subnet-0ba5709102532ea5a",
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.private[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": "",
                "id": "rtbassoc-0f2c6a6de4e121e72",
                "route_table_id": "rtb-0847470e04bef136e",
                "subnet_id": "subnet-045dee18d553a8a2a",
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.private[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": "",
                "id": "rtbassoc-0baa3ef024b1a808e",
                "route_table_id": "rtb-0847470e04bef136e",
                "subnet_id": "subnet-05450a4ab7f5408bb",
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": "",
                "id": "rtbassoc-043ba94e3ac9b3a0b",
                "route_table_id": "rtb-055d1aee5e7604d6b",
                "subnet_id": "subnet-0257115d2a1ef35ea",
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": "",
                "id": "rtbassoc-03a0263e0e8699145",
                "route_table_id": "rtb-055d1aee5e7604d6b",
                "subnet_id": "subnet-0aaa1627feff66ddf",
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_subnet.database[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "database",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0587e1bf569e9ba82",
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1a",
                "availability_zone_id": "use1-az4",
                "cidr_block": "10.0.81.0/24",
                "customer_owned_ipv4_pool": "",
                "enable_dns64": false,
                "enable_lni_at_device_index": 0,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "id": "subnet-0587e1bf569e9ba82",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_association_id": "",
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": false,
                "map_public_ip_on_launch": false,
                "outpost_arn": "",
                "owner_id": "211125336427",
                "private_dns_hostname_type_on_launch": "ip-name",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.database[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "database",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0ba5709102532ea5a",
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1b",
                "availability_zone_id": "use1-az6",
                "cidr_block": "10.0.82.0/24",
                "customer_owned_ipv4_pool": "",
                "enable_dns64": false,
                "enable_lni_at_device_index": 0,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "id": "subnet-0ba5709102532ea5a",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_association_id": "",
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": false,
                "map_public_ip_on_launch": false,
                "outpost_arn": "",
                "owner_id": "211125336427",
                "private_dns_hostname_type_on_launch": "ip-name",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.private[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-045dee18d553a8a2a",
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1a",
                "availability_zone_id": "use1-az4",
                "cidr_block": "10.0.11.0/24",
                "customer_owned_ipv4_pool": "",
                "enable_dns64": false,
                "enable_lni_at_device_index": 0,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "id": "subnet-045dee18d553a8a2a",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_association_id": "",
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": false,
                "map_public_ip_on_launch": false,
                "outpost_arn": "",
                "owner_id": "211125336427",
                "private_dns_hostname_type_on_launch": "ip-name",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.private[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-05450a4ab7f5408bb",
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1b",
                "availability_zone_id": "use1-az6",
                "cidr_block": "10.0.12.0/24",
                "customer_owned_ipv4_pool": "",
                "enable_dns64": false,
                "enable_lni_at_device_index": 0,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "id": "subnet-05450a4ab7f5408bb",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_association_id": "",
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": false,
                "map_public_ip_on_launch": false,
                "outpost_arn": "",
                "owner_id": "211125336427",
                "private_dns_hostname_type_on_launch": "ip-name",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0257115d2a1ef35ea",
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1a",
                "availability_zone_id": "use1-az4",
                "cidr_block": "10.0.1.0/24",
                "customer_owned_ipv4_pool": "",
                "enable_dns64": false,
                "enable_lni_at_device_index": 0,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "id": "subnet-0257115d2a1ef35ea",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_association_id": "",
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": false,
                "map_public_ip_on_launch": false,
                "outpost_arn": "",
                "owner_id": "211125336427",
                "private_dns_hostname_type_on_launch": "ip-name",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0aaa1627feff66ddf",
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1b",
                "availability_zone_id": "use1-az6",
                "cidr_block": "10.0.2.0/24",
                "customer_owned_ipv4_pool": "",
                "enable_dns64": false,
                "enable_lni_at_device_index": 0,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "id": "subnet-0aaa1627feff66ddf",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_association_id": "",
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": false,
                "map_public_ip_on_launch": false,
                "outpost_arn": "",
                "owner_id": "211125336427",
                "private_dns_hostname_type_on_launch": "ip-name",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "timeouts": null,
                "vpc_id": "vpc-04a411e97b88a5e4f"
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_vpc.this[0]",
              "mode": "managed",
              "type": "aws_vpc",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:211125336427:vpc/vpc-04a411e97b88a5e4f",
                "assign_generated_ipv6_cidr_block": false,
                "cidr_block": "10.0.0.0/16",
                "default_network_acl_id": "acl-09d75561178c59659",
                "default_route_table_id": "rtb-044b5633fdaebb72d",
                "default_security_group_id": "sg-00ba1002f2a04343d",
                "dhcp_options_id": "dopt-0daf33fc72d9a76a9",
                "enable_dns_hostnames": true,
                "enable_dns_support": true,
                "enable_network_address_usage_metrics": false,
                "id": "vpc-04a411e97b88a5e4f",
                "instance_tenancy": "default",
                "ipv4_ipam_pool_id": null,
                "ipv4_netmask_length": null,
                "ipv6_association_id": "",
                "ipv6_cidr_block": "",
                "ipv6_cidr_block_network_border_group": "",
                "ipv6_ipam_pool_id": "",
                "ipv6_netmask_length": 0,
                "main_route_table_id": "rtb-044b5633fdaebb72d",
                "owner_id": "211125336427",
                "tags": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Name": "web-app-dev-vpc",
                  "Terraform": "true"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            }
          ],
          "address": "module.vpc"
        }
      ]
    }
  },
  "resource_drift": [
    {
      "address": "aws_acm_certificate.app-server-cert",
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "app-server-cert",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "certificate_authority_arn": "",
          "certificate_body": null,
          "certificate_chain": null,
          "domain_name": "dev.211125336427.realhandsonlabs.net",
          "domain_validation_options": [
            {
              "domain_name": "dev.211125336427.realhandsonlabs.net",
              "resource_record_name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net.",
              "resource_record_type": "CNAME",
              "resource_record_value": "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
            }
          ],
          "early_renewal_duration": "",
          "id": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "key_algorithm": "RSA_2048",
          "not_after": "",
          "not_before": "",
          "options": [
            {
              "certificate_transparency_logging_preference": "ENABLED"
            }
          ],
          "pending_renewal": false,
          "private_key": null,
          "renewal_eligibility": "INELIGIBLE",
          "renewal_summary": [],
          "status": "PENDING_VALIDATION",
          "subject_alternative_names": [
            "dev.211125336427.realhandsonlabs.net"
          ],
          "tags": {
            "Name": "web-app-dev-ssl-cert"
          },
          "tags_all": {
            "Name": "web-app-dev-ssl-cert"
          },
          "type": "AMAZON_ISSUED",
          "validation_emails": [],
          "validation_method": "DNS",
          "validation_option": []
        },
        "after": {
          "arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "certificate_authority_arn": "",
          "certificate_body": null,
          "certificate_chain": null,
          "domain_name": "dev.211125336427.realhandsonlabs.net",
          "domain_validation_options": [
            {
              "domain_name": "dev.211125336427.realhandsonlabs.net",
              "resource_record_name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net.",
              "resource_record_type": "CNAME",
              "resource_record_value": "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
            }
          ],
          "early_renewal_duration": "",
          "id": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "key_algorithm": "RSA_2048",
          "not_after": "2027-01-08T23:59:59Z",
          "not_before": "2025-12-10T00:00:00Z",
          "options": [
            {
              "certificate_transparency_logging_preference": "ENABLED"
            }
          ],
          "pending_renewal": false,
          "private_key": null,
          "renewal_eligibility": "ELIGIBLE",
          "renewal_summary": [],
          "status": "ISSUED",
          "subject_alternative_names": [
            "dev.211125336427.realhandsonlabs.net"
          ],
          "tags": {
            "Name": "web-app-dev-ssl-cert"
          },
          "tags_all": {
            "Name": "web-app-dev-ssl-cert"
          },
          "type": "AMAZON_ISSUED",
          "validation_emails": [],
          "validation_method": "DNS",
          "validation_option": []
        },
        "after_unknown": {},
        "before_sensitive": {
          "domain_validation_options": [
            {}
          ],
          "options": [
            {}
          ],
          "private_key": true,
          "renewal_summary": [],
          "subject_alternative_names": [
            false
          ],
          "tags": {},
          "tags_all": {},
          "validation_emails": [],
          "validation_option": []
        },
        "after_sensitive": {
          "domain_validation_options": [
            {}
          ],
          "options": [
            {}
          ],
          "private_key": true,
          "renewal_summary": [],
          "subject_alternative_names": [
            false
          ],
          "tags": {},
          "tags_all": {},
          "validation_emails": [],
          "validation_option": []
        }
      }
    },
    {
      "address": "aws_autoscaling_group.app-server-asg",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "app-server-asg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:autoscaling:us-east-1:211125336427:autoScalingGroup:37baf768-dba8-458d-9bf5-5ac5e8e75037:autoScalingGroupName/web-app-dev-asg",
          "availability_zone_distribution": [
            {
              "capacity_distribution_strategy": "balanced-best-effort"
            }
          ],
          "availability_zones": [
            "us-east-1a",
            "us-east-1b"
          ],
          "capacity_rebalance": false,
          "capacity_reservation_specification": [
            {
              "capacity_reservation_preference": "default",
              "capacity_reservation_target": []
            }
          ],
          "context": "",
          "default_cooldown": 300,
          "default_instance_warmup": 0,
          "desired_capacity": 1,
          "desired_capacity_type": "",
          "enabled_metrics": null,
          "force_delete": false,
          "force_delete_warm_pool": false,
          "health_check_grace_period": 600,
          "health_check_type": "ELB",
          "id": "web-app-dev-asg",
          "ignore_failed_scaling_activities": false,
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "auto_rollback": true,
                  "checkpoint_delay": "",
                  "checkpoint_percentages": null,
                  "instance_warmup": "120",
                  "max_healthy_percentage": 100,
                  "min_healthy_percentage": 50,
                  "scale_in_protected_instances": "Ignore",
                  "skip_matching": true,
                  "standby_instances": "Ignore"
                }
              ],
              "strategy": "Rolling",
              "triggers": null
            }
          ],
          "launch_configuration": "",
          "launch_template": [
            {
              "id": "lt-0906519c6427ecc9c",
              "name": "web-app-dev-lt-lt-157021",
              "version": "1"
            }
          ],
          "load_balancers": [],
          "max_instance_lifetime": 0,
          "max_size": 2,
          "metrics_granularity": "1Minute",
          "min_elb_capacity": null,
          "min_size": 1,
          "mixed_instances_policy": [],
          "name": "web-app-dev-asg",
          "name_prefix": "",
          "placement_group": "",
          "predicted_capacity": 0,
          "protect_from_scale_in": false,
          "service_linked_role_arn": "arn:aws:iam::211125336427:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
          "suspended_processes": null,
          "tag": [
            {
              "key": "Name",
              "propagate_at_launch": true,
              "value": "web-app-dev-instance"
            }
          ],
          "target_group_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881"
          ],
          "termination_policies": [
            "OldestInstance",
            "Default"
          ],
          "timeouts": null,
          "traffic_source": [
            {
              "identifier": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "elbv2"
            }
          ],
          "vpc_zone_identifier": [
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb"
          ],
          "wait_for_capacity_timeout": "10m",
          "wait_for_elb_capacity": null,
          "warm_pool": [],
          "warm_pool_size": 0
        },
        "after": {
          "arn": "arn:aws:autoscaling:us-east-1:211125336427:autoScalingGroup:37baf768-dba8-458d-9bf5-5ac5e8e75037:autoScalingGroupName/web-app-dev-asg",
          "availability_zone_distribution": [
            {
              "capacity_distribution_strategy": "balanced-best-effort"
            }
          ],
          "availability_zones": [
            "us-east-1a",
            "us-east-1b"
          ],
          "capacity_rebalance": false,
          "capacity_reservation_specification": [
            {
              "capacity_reservation_preference": "default",
              "capacity_reservation_target": []
            }
          ],
          "context": "",
          "default_cooldown": 300,
          "default_instance_warmup": 0,
          "desired_capacity": 1,
          "desired_capacity_type": "",
          "enabled_metrics": [],
          "force_delete": false,
          "force_delete_warm_pool": false,
          "health_check_grace_period": 600,
          "health_check_type": "ELB",
          "id": "web-app-dev-asg",
          "ignore_failed_scaling_activities": false,
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "auto_rollback": true,
                  "checkpoint_delay": "",
                  "checkpoint_percentages": [],
                  "instance_warmup": "120",
                  "max_healthy_percentage": 100,
                  "min_healthy_percentage": 50,
                  "scale_in_protected_instances": "Ignore",
                  "skip_matching": true,
                  "standby_instances": "Ignore"
                }
              ],
              "strategy": "Rolling",
              "triggers": []
            }
          ],
          "launch_configuration": "",
          "launch_template": [
            {
              "id": "lt-0906519c6427ecc9c",
              "name": "web-app-dev-lt-lt-157021",
              "version": "1"
            }
          ],
          "load_balancers": [],
          "max_instance_lifetime": 0,
          "max_size": 2,
          "metrics_granularity": "1Minute",
          "min_elb_capacity": null,
          "min_size": 1,
          "mixed_instances_policy": [],
          "name": "web-app-dev-asg",
          "name_prefix": "",
          "placement_group": "",
          "predicted_capacity": 0,
          "protect_from_scale_in": false,
          "service_linked_role_arn": "arn:aws:iam::211125336427:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
          "suspended_processes": [],
          "tag": [
            {
              "key": "Name",
              "propagate_at_launch": true,
              "value": "web-app-dev-instance"
            }
          ],
          "target_group_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881"
          ],
          "termination_policies": [
            "OldestInstance",
            "Default"
          ],
          "timeouts": null,
          "traffic_source": [
            {
              "identifier": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "elbv2"
            }
          ],
          "vpc_zone_identifier": [
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb"
          ],
          "wait_for_capacity_timeout": "10m",
          "wait_for_elb_capacity": null,
          "warm_pool": [],
          "warm_pool_size": 0
        },
        "after_unknown": {},
        "before_sensitive": {
          "availability_zone_distribution": [
            {}
          ],
          "availability_zones": [
            false,
            false
          ],
          "capacity_reservation_specification": [
            {
              "capacity_reservation_target": []
            }
          ],
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": []
                }
              ]
            }
          ],
          "launch_template": [
            {}
          ],
          "load_balancers": [],
          "mixed_instances_policy": [],
          "tag": [
            {}
          ],
          "target_group_arns": [
            false
          ],
          "termination_policies": [
            false,
            false
          ],
          "traffic_source": [
            {}
          ],
          "vpc_zone_identifier": [
            false,
            false
          ],
          "warm_pool": []
        },
        "after_sensitive": {
          "availability_zone_distribution": [
            {}
          ],
          "availability_zones": [
            false,
            false
          ],
          "capacity_reservation_specification": [
            {
              "capacity_reservation_target": []
            }
          ],
          "enabled_metrics": [],
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "checkpoint_percentages": []
                }
              ],
              "triggers": []
            }
          ],
          "launch_template": [
            {}
          ],
          "load_balancers": [],
          "mixed_instances_policy": [],
          "suspended_processes": [],
          "tag": [
            {}
          ],
          "target_group_arns": [
            false
          ],
          "termination_policies": [
            false,
            false
          ],
          "traffic_source": [
            {}
          ],
          "vpc_zone_identifier": [
            false,
            false
          ],
          "warm_pool": []
        }
      }
    },
    {
      "address": "aws_iam_instance_profile.ssm_instance_profile",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "ssm_instance_profile",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:instance-profile/ssm-instance-profile",
          "create_date": "2025-12-10T17:33:53Z",
          "id": "ssm-instance-profile",
          "name": "ssm-instance-profile",
          "name_prefix": "",
          "path": "/",
          "role": "ssm-role",
          "tags": null,
          "tags_all": {},
          "unique_id": "AIPATCKAM7FV7RJGPYVU3"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:instance-profile/ssm-instance-profile",
          "create_date": "2025-12-10T17:33:53Z",
          "id": "ssm-instance-profile",
          "name": "ssm-instance-profile",
          "name_prefix": "",
          "path": "/",
          "role": "ssm-role",
          "tags": {},
          "tags_all": {},
          "unique_id": "AIPATCKAM7FV7RJGPYVU3"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_policy.app-server-policy",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "app-server-policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "attachment_count": 0,
          "description": "",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "name": "web-app-dev-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021\"},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"},{\"Action\":[\"ssm:StartSession\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:instance/*\",\"arn:aws:ssm:*:*:document/AWS-StartSSHSession\",\"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"]},{\"Action\":[\"ssm:DescribeInstanceInformation\",\"ssm:DescribeInstanceProperties\",\"ssm:DescribeSessions\",\"ssm:GetConnectionStatus\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeInstances\",\"ec2:DescribeInstanceStatus\",\"ec2:DescribeInstanceAttribute\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3WMIZO273",
          "tags": null,
          "tags_all": {}
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "attachment_count": 1,
          "description": "",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "name": "web-app-dev-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021\"},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"},{\"Action\":[\"ssm:StartSession\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:instance/*\",\"arn:aws:ssm:*:*:document/AWS-StartSSHSession\",\"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"]},{\"Action\":[\"ssm:DescribeInstanceInformation\",\"ssm:DescribeInstanceProperties\",\"ssm:DescribeSessions\",\"ssm:GetConnectionStatus\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeInstances\",\"ec2:DescribeInstanceStatus\",\"ec2:DescribeInstanceAttribute\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3WMIZO273",
          "tags": {},
          "tags_all": {}
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_policy.secrets_manager_read",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "secrets_manager_read",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "attachment_count": 0,
          "description": "Policy to allow EC2 instances to read database credentials from Secrets Manager",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "name": "web-app-dev-secrets-read-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\",\"arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi\"]}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3GSJZIBKZ",
          "tags": {
            "Name": "web-app-dev-secrets-read-policy"
          },
          "tags_all": {
            "Name": "web-app-dev-secrets-read-policy"
          }
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "attachment_count": 1,
          "description": "Policy to allow EC2 instances to read database credentials from Secrets Manager",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "name": "web-app-dev-secrets-read-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\",\"arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi\"]}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3GSJZIBKZ",
          "tags": {
            "Name": "web-app-dev-secrets-read-policy"
          },
          "tags_all": {
            "Name": "web-app-dev-secrets-read-policy"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role.app-server-role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "app-server-role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:role/web-app-dev-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "web-app-dev-role",
          "inline_policy": [],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "web-app-dev-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {
            "name": "web-app-dev-role"
          },
          "tags_all": {
            "name": "web-app-dev-role"
          },
          "unique_id": "AROATCKAM7FV536YUY4AK"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:role/web-app-dev-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "web-app-dev-role",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::211125336427:policy/web-app-dev-policy",
            "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
            "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
          ],
          "max_session_duration": 3600,
          "name": "web-app-dev-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {
            "name": "web-app-dev-role"
          },
          "tags_all": {
            "name": "web-app-dev-role"
          },
          "unique_id": "AROATCKAM7FV536YUY4AK"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role.ssm_role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ssm_role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:role/ssm-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ssm-role",
          "inline_policy": [],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ssm-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": null,
          "tags_all": {},
          "unique_id": "AROATCKAM7FV5PRYDL7WF"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:role/ssm-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ssm-role",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
          ],
          "max_session_duration": 3600,
          "name": "ssm-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {},
          "tags_all": {},
          "unique_id": "AROATCKAM7FV5PRYDL7WF"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_launch_template.app-server-lt",
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "app-server-lt",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:launch-template/lt-0906519c6427ecc9c",
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "default_version": 1,
          "description": "",
          "disable_api_stop": false,
          "disable_api_termination": false,
          "ebs_optimized": "",
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {
              "arn": "",
              "name": "web-app-dev-instance-profile"
            }
          ],
          "id": "lt-0906519c6427ecc9c",
          "image_id": "ami-0c1f44f890950b53c",
          "instance_initiated_shutdown_behavior": "",
          "instance_market_options": [],
          "instance_requirements": [],
          "instance_type": "t3.micro",
          "kernel_id": "",
          "key_name": "",
          "latest_version": 1,
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "name": "web-app-dev-lt-lt-157021",
          "name_prefix": "",
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "ram_disk_id": "",
          "security_group_names": null,
          "tag_specifications": [
            {
              "resource_type": "volume",
              "tags": {
                "Name": "web-app-dev-instance-volume"
              }
            }
          ],
          "tags": null,
          "tags_all": {},
          "update_default_version": true,
          "user_data": "IyEvYmluL2Jhc2gKIyBCb290c3RyYXAgc2NyaXB0IC0gZG93bmxvYWRzIGFuZCBleGVjdXRlcyB0aGUgZnVsbCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwojIFRoaXMgc2NyaXB0IG11c3QgcmVtYWluIHVuZGVyIDE2S0IgdG8gZml0IGluIEVDMiB1c2VyX2RhdGEKCiMgRG9uJ3QgdXNlICdzZXQgLWUnIC0gd2Ugd2FudCB0byBjb250aW51ZSBhbmQgbG9nIGVycm9ycyBpbnN0ZWFkIG9mIGV4aXRpbmcKIyBMb2cgZXZlcnl0aGluZyBmb3IgZGVidWdnaW5nCmV4ZWMgPiA+KHRlZSAtYSAvdmFyL2xvZy9ib290c3RyYXAubG9nfGxvZ2dlciAtdCBib290c3RyYXAgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCiMgQ29uZmlndXJhdGlvbiAtIHRoZXNlIHdpbGwgYmUgaW5qZWN0ZWQgYnkgVGVycmFmb3JtIHRlbXBsYXRlClMzX0tFWT0ic2NyaXB0cy91c2VyZGF0YV9jbGllbnRfYXBwLnNoIgoKZWNobyAiPT09IEJvb3RzdHJhcCBTY3JpcHQgU3RhcnRpbmcgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIlMzIEJ1Y2tldDogZGV2LXdlYi1hcHAtMTU3MDIxIgplY2hvICJTMyBLZXk6ICR7UzNfS0VZfSIKZWNobyAiUmVnaW9uOiB1cy1lYXN0LTEiCgojIEluc3RhbGwgQVdTIENMSSBpZiBub3QgcHJlc2VudAppZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbDsgdGhlbgogICAgZWNobyAiSW5zdGFsbGluZyBBV1MgQ0xJLi4uIgogICAgCiAgICAjIFRyeSBzbmFwIGZpcnN0IChkb2Vzbid0IHJlcXVpcmUgYXB0IHJlcG9zaXRvcmllcywgd29ya3MgZXZlbiB3aXRoIG5ldHdvcmsgaXNzdWVzKQogICAgaWYgY29tbWFuZCAtdiBzbmFwICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gIlRyeWluZyB0byBpbnN0YWxsIEFXUyBDTEkgdmlhIHNuYXAuLi4iCiAgICAgICAgaWYgc3VkbyBzbmFwIGluc3RhbGwgYXdzLWNsaSAtLWNsYXNzaWMgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBzbmFwIgogICAgICAgICAgICAjIEVuc3VyZSBzbmFwIGJpbiBpcyBpbiBQQVRICiAgICAgICAgICAgIGV4cG9ydCBQQVRIPSIvc25hcC9iaW46JFBBVEgiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIFNuYXAgaW5zdGFsbCBmYWlsZWQsIHRyeWluZyBhcHQuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmFsbGJhY2sgdG8gYXB0IGlmIHNuYXAgZGlkbid0IHdvcmsKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIHRvIGluc3RhbGwgQVdTIENMSSB2aWEgYXB0Li4uIgogICAgICAgICMgVHJ5IGFwdCB1cGRhdGUsIGJ1dCBkb24ndCBmYWlsIGlmIGl0IGZhaWxzIChuZXR3b3JrIGlzc3VlcykKICAgICAgICBzdWRvIGFwdC1nZXQgdXBkYXRlIC15IDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiB8fCB0cnVlCiAgICAgICAgCiAgICAgICAgIyBUcnkgaW5zdGFsbGluZyBhd3NjbGksIGJ1dCBjb250aW51ZSBpZiBpdCBmYWlscwogICAgICAgIGlmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGF3c2NsaSAyPiYxIHwgZ3JlcCAtdiAiTmV0d29yayBpcyB1bnJlYWNoYWJsZSI7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBhcHQiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIEFwdCBpbnN0YWxsIG1heSBoYXZlIGZhaWxlZCwgY2hlY2tpbmcgaWYgQVdTIENMSSBpcyBhdmFpbGFibGUuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmluYWwgZmFsbGJhY2s6IE9mZmljaWFsIEFXUyBpbnN0YWxsZXIKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIG9mZmljaWFsIEFXUyBDTEkgaW5zdGFsbGVyLi4uIgogICAgICAgIGN1cmwgLWZzU0wgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiL3RtcC9hd3NjbGl2Mi56aXAiIHx8IHsKICAgICAgICAgICAgZWNobyAi4pqg77iPICBGYWlsZWQgdG8gZG93bmxvYWQgQVdTIENMSSBpbnN0YWxsZXIiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIFsgLWYgIi90bXAvYXdzY2xpdjIuemlwIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIGNvbW1hbmQgLXYgdW56aXAgJj4gL2Rldi9udWxsIHx8IHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IHVuemlwIDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIjsgdGhlbgogICAgICAgICAgICAgICAgdW56aXAgLXEgL3RtcC9hd3NjbGl2Mi56aXAgLWQgL3RtcCAyPi9kZXYvbnVsbCAmJiBcCiAgICAgICAgICAgICAgICBzdWRvIC90bXAvYXdzL2luc3RhbGwgMj4vZGV2L251bGwgJiYgXAogICAgICAgICAgICAgICAgcm0gLXJmIC90bXAvYXdzIC90bXAvYXdzY2xpdjIuemlwICYmIFwKICAgICAgICAgICAgICAgIGVjaG8gIuKchSBBV1MgQ0xJIGluc3RhbGxlZCB2aWEgb2ZmaWNpYWwgaW5zdGFsbGVyIgogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQogICAgCiAgICAjIFdhaXQgZm9yIEFXUyBDTEkgdG8gYmUgYXZhaWxhYmxlIGFuZCB2ZXJpZnkgaW5zdGFsbGF0aW9uCiAgICBlY2hvICJWZXJpZnlpbmcgQVdTIENMSSBpbnN0YWxsYXRpb24uLi4iCiAgICBSRVRSWV9DT1VOVD0wCiAgICBNQVhfUkVUUklFUz01CiAgICB3aGlsZSBbICRSRVRSWV9DT1VOVCAtbHQgJE1BWF9SRVRSSUVTIF07IGRvCiAgICAgICAgIyBDaGVjayBtdWx0aXBsZSBwb3NzaWJsZSBsb2NhdGlvbnMKICAgICAgICBpZiBjb21tYW5kIC12IGF3cyAmPiAvZGV2L251bGwgfHwgWyAtZiAvdXNyL2xvY2FsL2Jpbi9hd3MgXSB8fCBbIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgICAgICAjIFNldCBQQVRIIHRvIGluY2x1ZGUgY29tbW9uIGxvY2F0aW9ucwogICAgICAgICAgICBleHBvcnQgUEFUSD0iL3Vzci9sb2NhbC9iaW46L3NuYXAvYmluOiRQQVRIIgogICAgICAgICAgICBpZiBhd3MgLS12ZXJzaW9uIDI+L2Rldi9udWxsOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICLinIUgQVdTIENMSSBpcyByZWFkeSIKICAgICAgICAgICAgICAgIGF3cyAtLXZlcnNpb24KICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICBSRVRSWV9DT1VOVD0kKChSRVRSWV9DT1VOVCArIDEpKQogICAgICAgIGVjaG8gIldhaXRpbmcgZm9yIEFXUyBDTEkuLi4gKGF0dGVtcHQgJFJFVFJZX0NPVU5ULyRNQVhfUkVUUklFUykiCiAgICAgICAgc2xlZXAgMgogICAgZG9uZQogICAgCiAgICBpZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbCAmJiBbICEgLWYgL3Vzci9sb2NhbC9iaW4vYXdzIF0gJiYgWyAhIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgIGVjaG8gIuKdjCBDUklUSUNBTDogQVdTIENMSSBpbnN0YWxsYXRpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cyIKICAgICAgICBlY2hvICJDYW5ub3QgcHJvY2VlZCB3aXRob3V0IEFXUyBDTEkgdG8gZG93bmxvYWQgdXNlcmRhdGEgc2NyaXB0IGZyb20gUzMiCiAgICAgICAgZWNobyAiQm9vdHN0cmFwIHNjcmlwdCB3aWxsIGV4aXQiCiAgICAgICAgZXhpdCAxCiAgICBmaQplbHNlCiAgICBlY2hvICLinIUgQVdTIENMSSBhbHJlYWR5IGluc3RhbGxlZCIKICAgIGF3cyAtLXZlcnNpb24KZmkKCiMgQ29uZmlndXJlIEFXUyBDTEkgcmVnaW9uCmV4cG9ydCBBV1NfREVGQVVMVF9SRUdJT049InVzLWVhc3QtMSIKZWNobyAiQVdTIENMSSByZWdpb24gY29uZmlndXJlZDogdXMtZWFzdC0xIgoKIyBEb3dubG9hZCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwplY2hvICJEb3dubG9hZGluZyB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMy4uLiIKVVNFUkRBVEFfU0NSSVBUPSIvdG1wL3VzZXJkYXRhX2NsaWVudF9hcHAuc2giCgojIFJldHJ5IGxvZ2ljIGZvciBTMyBkb3dubG9hZApNQVhfUkVUUklFUz0xMApSRVRSWV9ERUxBWT0xMApET1dOTE9BRF9TVUNDRVNTPWZhbHNlCgplY2hvICJBdHRlbXB0aW5nIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBmcm9tIFMzLi4uIgpmb3IgaSBpbiAkKHNlcSAxICRNQVhfUkVUUklFUyk7IGRvCiAgICBlY2hvICJEb3dubG9hZCBhdHRlbXB0ICRpIG9mICRNQVhfUkVUUklFUy4uLiIKICAgIGlmIGF3cyBzMyBjcCAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvJHtTM19LRVl9IiAiJFVTRVJEQVRBX1NDUklQVCIgLS1yZWdpb24gInVzLWVhc3QtMSIgMj4mMTsgdGhlbgogICAgICAgIGVjaG8gIuKchSBTdWNjZXNzZnVsbHkgZG93bmxvYWRlZCB1c2VyZGF0YSBzY3JpcHQiCiAgICAgICAgRE9XTkxPQURfU1VDQ0VTUz10cnVlCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICBFUlJPUl9DT0RFPSQ/CiAgICAgICAgZWNobyAi4pqg77iPICBEb3dubG9hZCBhdHRlbXB0ICRpIGZhaWxlZCAoZXhpdCBjb2RlOiAkRVJST1JfQ09ERSkiCiAgICAgICAgaWYgWyAkaSAtbHQgJE1BWF9SRVRSSUVTIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiICAgUmV0cnlpbmcgaW4gJFJFVFJZX0RFTEFZIHNlY29uZHMuLi4iCiAgICAgICAgICAgIHNsZWVwICRSRVRSWV9ERUxBWQogICAgICAgIGZpCiAgICBmaQpkb25lCgojIFZlcmlmeSBzY3JpcHQgd2FzIGRvd25sb2FkZWQKaWYgWyAiJERPV05MT0FEX1NVQ0NFU1MiID0gZmFsc2UgXSB8fCBbICEgLWYgIiRVU0VSREFUQV9TQ1JJUFQiIF07IHRoZW4KICAgIGVjaG8gIuKdjCBDUklUSUNBTDogRmFpbGVkIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBhZnRlciAkTUFYX1JFVFJJRVMgYXR0ZW1wdHMiCiAgICBlY2hvICIgICBTMyBCdWNrZXQ6IGRldi13ZWItYXBwLTE1NzAyMSIKICAgIGVjaG8gIiAgIFMzIEtleTogJHtTM19LRVl9IgogICAgZWNobyAiICAgUmVnaW9uOiB1cy1lYXN0LTEiCiAgICBlY2hvICIgICBGaWxlIHBhdGg6ICRVU0VSREFUQV9TQ1JJUFQiCiAgICBlY2hvICIiCiAgICBlY2hvICJDaGVja2luZyBBV1MgQ0xJIGF2YWlsYWJpbGl0eS4uLiIKICAgIHdoaWNoIGF3cyB8fCBlY2hvICJBV1MgQ0xJIG5vdCBmb3VuZCIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkNoZWNraW5nIFMzIGFjY2Vzcy4uLiIKICAgIGF3cyBzMyBscyAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvIiAtLXJlZ2lvbiAidXMtZWFzdC0xIiB8fCBlY2hvICJDYW5ub3QgbGlzdCBTMyBidWNrZXQiCiAgICBlY2hvICIiCiAgICBlY2hvICJCb290c3RyYXAgc2NyaXB0IHdpbGwgZXhpdC4gQ2hlY2sgbG9ncyBhYm92ZSBmb3IgZGV0YWlscy4iCiAgICBleGl0IDEKZmkKCiMgTWFrZSBzY3JpcHQgZXhlY3V0YWJsZQplY2hvICJNYWtpbmcgc2NyaXB0IGV4ZWN1dGFibGUuLi4iCmNobW9kICt4ICIkVVNFUkRBVEFfU0NSSVBUIiB8fCB7CiAgICBlY2hvICLimqDvuI8gIEZhaWxlZCB0byBtYWtlIHNjcmlwdCBleGVjdXRhYmxlLCB0cnlpbmcgYW55d2F5Li4uIgp9CgojIEV4ZWN1dGUgdGhlIGRvd25sb2FkZWQgc2NyaXB0CmVjaG8gIkV4ZWN1dGluZyB1c2VyZGF0YSBzY3JpcHQuLi4iCmVjaG8gIlRpbWVzdGFtcCBiZWZvcmUgZXhlY3V0aW9uOiAkKGRhdGUpIgoKIyBFeGVjdXRlIHNjcmlwdCBhbmQgY2FwdHVyZSBleGl0IGNvZGUKaWYgYmFzaCAiJFVTRVJEQVRBX1NDUklQVCI7IHRoZW4KICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pyFIFVzZXJkYXRhIHNjcmlwdCBjb21wbGV0ZWQgKGV4aXQgY29kZTogJEVYSVRfQ09ERSkiCmVsc2UKICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pqg77iPICBVc2VyZGF0YSBzY3JpcHQgZXhpdGVkIHdpdGggY29kZTogJEVYSVRfQ09ERSIKICAgIGVjaG8gIkNoZWNrIC92YXIvbG9nL3VzZXItZGF0YS5sb2cgZm9yIGRldGFpbHMiCmZpCgplY2hvICI9PT0gQm9vdHN0cmFwIFNjcmlwdCBDb21wbGV0ZWQgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIkZpbmFsIGV4aXQgY29kZTogJEVYSVRfQ09ERSIK",
          "vpc_security_group_ids": [
            "sg-009ab7c7d8df7eceb"
          ]
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:launch-template/lt-0906519c6427ecc9c",
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "default_version": 1,
          "description": "",
          "disable_api_stop": false,
          "disable_api_termination": false,
          "ebs_optimized": "",
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {
              "arn": "",
              "name": "web-app-dev-instance-profile"
            }
          ],
          "id": "lt-0906519c6427ecc9c",
          "image_id": "ami-0c1f44f890950b53c",
          "instance_initiated_shutdown_behavior": "",
          "instance_market_options": [],
          "instance_requirements": [],
          "instance_type": "t3.micro",
          "kernel_id": "",
          "key_name": "",
          "latest_version": 1,
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "name": "web-app-dev-lt-lt-157021",
          "name_prefix": "",
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "ram_disk_id": "",
          "security_group_names": [],
          "tag_specifications": [
            {
              "resource_type": "volume",
              "tags": {
                "Name": "web-app-dev-instance-volume"
              }
            }
          ],
          "tags": {},
          "tags_all": {},
          "update_default_version": true,
          "user_data": "IyEvYmluL2Jhc2gKIyBCb290c3RyYXAgc2NyaXB0IC0gZG93bmxvYWRzIGFuZCBleGVjdXRlcyB0aGUgZnVsbCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwojIFRoaXMgc2NyaXB0IG11c3QgcmVtYWluIHVuZGVyIDE2S0IgdG8gZml0IGluIEVDMiB1c2VyX2RhdGEKCiMgRG9uJ3QgdXNlICdzZXQgLWUnIC0gd2Ugd2FudCB0byBjb250aW51ZSBhbmQgbG9nIGVycm9ycyBpbnN0ZWFkIG9mIGV4aXRpbmcKIyBMb2cgZXZlcnl0aGluZyBmb3IgZGVidWdnaW5nCmV4ZWMgPiA+KHRlZSAtYSAvdmFyL2xvZy9ib290c3RyYXAubG9nfGxvZ2dlciAtdCBib290c3RyYXAgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCiMgQ29uZmlndXJhdGlvbiAtIHRoZXNlIHdpbGwgYmUgaW5qZWN0ZWQgYnkgVGVycmFmb3JtIHRlbXBsYXRlClMzX0tFWT0ic2NyaXB0cy91c2VyZGF0YV9jbGllbnRfYXBwLnNoIgoKZWNobyAiPT09IEJvb3RzdHJhcCBTY3JpcHQgU3RhcnRpbmcgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIlMzIEJ1Y2tldDogZGV2LXdlYi1hcHAtMTU3MDIxIgplY2hvICJTMyBLZXk6ICR7UzNfS0VZfSIKZWNobyAiUmVnaW9uOiB1cy1lYXN0LTEiCgojIEluc3RhbGwgQVdTIENMSSBpZiBub3QgcHJlc2VudAppZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbDsgdGhlbgogICAgZWNobyAiSW5zdGFsbGluZyBBV1MgQ0xJLi4uIgogICAgCiAgICAjIFRyeSBzbmFwIGZpcnN0IChkb2Vzbid0IHJlcXVpcmUgYXB0IHJlcG9zaXRvcmllcywgd29ya3MgZXZlbiB3aXRoIG5ldHdvcmsgaXNzdWVzKQogICAgaWYgY29tbWFuZCAtdiBzbmFwICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gIlRyeWluZyB0byBpbnN0YWxsIEFXUyBDTEkgdmlhIHNuYXAuLi4iCiAgICAgICAgaWYgc3VkbyBzbmFwIGluc3RhbGwgYXdzLWNsaSAtLWNsYXNzaWMgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBzbmFwIgogICAgICAgICAgICAjIEVuc3VyZSBzbmFwIGJpbiBpcyBpbiBQQVRICiAgICAgICAgICAgIGV4cG9ydCBQQVRIPSIvc25hcC9iaW46JFBBVEgiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIFNuYXAgaW5zdGFsbCBmYWlsZWQsIHRyeWluZyBhcHQuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmFsbGJhY2sgdG8gYXB0IGlmIHNuYXAgZGlkbid0IHdvcmsKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIHRvIGluc3RhbGwgQVdTIENMSSB2aWEgYXB0Li4uIgogICAgICAgICMgVHJ5IGFwdCB1cGRhdGUsIGJ1dCBkb24ndCBmYWlsIGlmIGl0IGZhaWxzIChuZXR3b3JrIGlzc3VlcykKICAgICAgICBzdWRvIGFwdC1nZXQgdXBkYXRlIC15IDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiB8fCB0cnVlCiAgICAgICAgCiAgICAgICAgIyBUcnkgaW5zdGFsbGluZyBhd3NjbGksIGJ1dCBjb250aW51ZSBpZiBpdCBmYWlscwogICAgICAgIGlmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGF3c2NsaSAyPiYxIHwgZ3JlcCAtdiAiTmV0d29yayBpcyB1bnJlYWNoYWJsZSI7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBhcHQiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIEFwdCBpbnN0YWxsIG1heSBoYXZlIGZhaWxlZCwgY2hlY2tpbmcgaWYgQVdTIENMSSBpcyBhdmFpbGFibGUuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmluYWwgZmFsbGJhY2s6IE9mZmljaWFsIEFXUyBpbnN0YWxsZXIKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIG9mZmljaWFsIEFXUyBDTEkgaW5zdGFsbGVyLi4uIgogICAgICAgIGN1cmwgLWZzU0wgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiL3RtcC9hd3NjbGl2Mi56aXAiIHx8IHsKICAgICAgICAgICAgZWNobyAi4pqg77iPICBGYWlsZWQgdG8gZG93bmxvYWQgQVdTIENMSSBpbnN0YWxsZXIiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIFsgLWYgIi90bXAvYXdzY2xpdjIuemlwIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIGNvbW1hbmQgLXYgdW56aXAgJj4gL2Rldi9udWxsIHx8IHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IHVuemlwIDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIjsgdGhlbgogICAgICAgICAgICAgICAgdW56aXAgLXEgL3RtcC9hd3NjbGl2Mi56aXAgLWQgL3RtcCAyPi9kZXYvbnVsbCAmJiBcCiAgICAgICAgICAgICAgICBzdWRvIC90bXAvYXdzL2luc3RhbGwgMj4vZGV2L251bGwgJiYgXAogICAgICAgICAgICAgICAgcm0gLXJmIC90bXAvYXdzIC90bXAvYXdzY2xpdjIuemlwICYmIFwKICAgICAgICAgICAgICAgIGVjaG8gIuKchSBBV1MgQ0xJIGluc3RhbGxlZCB2aWEgb2ZmaWNpYWwgaW5zdGFsbGVyIgogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQogICAgCiAgICAjIFdhaXQgZm9yIEFXUyBDTEkgdG8gYmUgYXZhaWxhYmxlIGFuZCB2ZXJpZnkgaW5zdGFsbGF0aW9uCiAgICBlY2hvICJWZXJpZnlpbmcgQVdTIENMSSBpbnN0YWxsYXRpb24uLi4iCiAgICBSRVRSWV9DT1VOVD0wCiAgICBNQVhfUkVUUklFUz01CiAgICB3aGlsZSBbICRSRVRSWV9DT1VOVCAtbHQgJE1BWF9SRVRSSUVTIF07IGRvCiAgICAgICAgIyBDaGVjayBtdWx0aXBsZSBwb3NzaWJsZSBsb2NhdGlvbnMKICAgICAgICBpZiBjb21tYW5kIC12IGF3cyAmPiAvZGV2L251bGwgfHwgWyAtZiAvdXNyL2xvY2FsL2Jpbi9hd3MgXSB8fCBbIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgICAgICAjIFNldCBQQVRIIHRvIGluY2x1ZGUgY29tbW9uIGxvY2F0aW9ucwogICAgICAgICAgICBleHBvcnQgUEFUSD0iL3Vzci9sb2NhbC9iaW46L3NuYXAvYmluOiRQQVRIIgogICAgICAgICAgICBpZiBhd3MgLS12ZXJzaW9uIDI+L2Rldi9udWxsOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICLinIUgQVdTIENMSSBpcyByZWFkeSIKICAgICAgICAgICAgICAgIGF3cyAtLXZlcnNpb24KICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICBSRVRSWV9DT1VOVD0kKChSRVRSWV9DT1VOVCArIDEpKQogICAgICAgIGVjaG8gIldhaXRpbmcgZm9yIEFXUyBDTEkuLi4gKGF0dGVtcHQgJFJFVFJZX0NPVU5ULyRNQVhfUkVUUklFUykiCiAgICAgICAgc2xlZXAgMgogICAgZG9uZQogICAgCiAgICBpZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbCAmJiBbICEgLWYgL3Vzci9sb2NhbC9iaW4vYXdzIF0gJiYgWyAhIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgIGVjaG8gIuKdjCBDUklUSUNBTDogQVdTIENMSSBpbnN0YWxsYXRpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cyIKICAgICAgICBlY2hvICJDYW5ub3QgcHJvY2VlZCB3aXRob3V0IEFXUyBDTEkgdG8gZG93bmxvYWQgdXNlcmRhdGEgc2NyaXB0IGZyb20gUzMiCiAgICAgICAgZWNobyAiQm9vdHN0cmFwIHNjcmlwdCB3aWxsIGV4aXQiCiAgICAgICAgZXhpdCAxCiAgICBmaQplbHNlCiAgICBlY2hvICLinIUgQVdTIENMSSBhbHJlYWR5IGluc3RhbGxlZCIKICAgIGF3cyAtLXZlcnNpb24KZmkKCiMgQ29uZmlndXJlIEFXUyBDTEkgcmVnaW9uCmV4cG9ydCBBV1NfREVGQVVMVF9SRUdJT049InVzLWVhc3QtMSIKZWNobyAiQVdTIENMSSByZWdpb24gY29uZmlndXJlZDogdXMtZWFzdC0xIgoKIyBEb3dubG9hZCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwplY2hvICJEb3dubG9hZGluZyB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMy4uLiIKVVNFUkRBVEFfU0NSSVBUPSIvdG1wL3VzZXJkYXRhX2NsaWVudF9hcHAuc2giCgojIFJldHJ5IGxvZ2ljIGZvciBTMyBkb3dubG9hZApNQVhfUkVUUklFUz0xMApSRVRSWV9ERUxBWT0xMApET1dOTE9BRF9TVUNDRVNTPWZhbHNlCgplY2hvICJBdHRlbXB0aW5nIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBmcm9tIFMzLi4uIgpmb3IgaSBpbiAkKHNlcSAxICRNQVhfUkVUUklFUyk7IGRvCiAgICBlY2hvICJEb3dubG9hZCBhdHRlbXB0ICRpIG9mICRNQVhfUkVUUklFUy4uLiIKICAgIGlmIGF3cyBzMyBjcCAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvJHtTM19LRVl9IiAiJFVTRVJEQVRBX1NDUklQVCIgLS1yZWdpb24gInVzLWVhc3QtMSIgMj4mMTsgdGhlbgogICAgICAgIGVjaG8gIuKchSBTdWNjZXNzZnVsbHkgZG93bmxvYWRlZCB1c2VyZGF0YSBzY3JpcHQiCiAgICAgICAgRE9XTkxPQURfU1VDQ0VTUz10cnVlCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICBFUlJPUl9DT0RFPSQ/CiAgICAgICAgZWNobyAi4pqg77iPICBEb3dubG9hZCBhdHRlbXB0ICRpIGZhaWxlZCAoZXhpdCBjb2RlOiAkRVJST1JfQ09ERSkiCiAgICAgICAgaWYgWyAkaSAtbHQgJE1BWF9SRVRSSUVTIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiICAgUmV0cnlpbmcgaW4gJFJFVFJZX0RFTEFZIHNlY29uZHMuLi4iCiAgICAgICAgICAgIHNsZWVwICRSRVRSWV9ERUxBWQogICAgICAgIGZpCiAgICBmaQpkb25lCgojIFZlcmlmeSBzY3JpcHQgd2FzIGRvd25sb2FkZWQKaWYgWyAiJERPV05MT0FEX1NVQ0NFU1MiID0gZmFsc2UgXSB8fCBbICEgLWYgIiRVU0VSREFUQV9TQ1JJUFQiIF07IHRoZW4KICAgIGVjaG8gIuKdjCBDUklUSUNBTDogRmFpbGVkIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBhZnRlciAkTUFYX1JFVFJJRVMgYXR0ZW1wdHMiCiAgICBlY2hvICIgICBTMyBCdWNrZXQ6IGRldi13ZWItYXBwLTE1NzAyMSIKICAgIGVjaG8gIiAgIFMzIEtleTogJHtTM19LRVl9IgogICAgZWNobyAiICAgUmVnaW9uOiB1cy1lYXN0LTEiCiAgICBlY2hvICIgICBGaWxlIHBhdGg6ICRVU0VSREFUQV9TQ1JJUFQiCiAgICBlY2hvICIiCiAgICBlY2hvICJDaGVja2luZyBBV1MgQ0xJIGF2YWlsYWJpbGl0eS4uLiIKICAgIHdoaWNoIGF3cyB8fCBlY2hvICJBV1MgQ0xJIG5vdCBmb3VuZCIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkNoZWNraW5nIFMzIGFjY2Vzcy4uLiIKICAgIGF3cyBzMyBscyAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvIiAtLXJlZ2lvbiAidXMtZWFzdC0xIiB8fCBlY2hvICJDYW5ub3QgbGlzdCBTMyBidWNrZXQiCiAgICBlY2hvICIiCiAgICBlY2hvICJCb290c3RyYXAgc2NyaXB0IHdpbGwgZXhpdC4gQ2hlY2sgbG9ncyBhYm92ZSBmb3IgZGV0YWlscy4iCiAgICBleGl0IDEKZmkKCiMgTWFrZSBzY3JpcHQgZXhlY3V0YWJsZQplY2hvICJNYWtpbmcgc2NyaXB0IGV4ZWN1dGFibGUuLi4iCmNobW9kICt4ICIkVVNFUkRBVEFfU0NSSVBUIiB8fCB7CiAgICBlY2hvICLimqDvuI8gIEZhaWxlZCB0byBtYWtlIHNjcmlwdCBleGVjdXRhYmxlLCB0cnlpbmcgYW55d2F5Li4uIgp9CgojIEV4ZWN1dGUgdGhlIGRvd25sb2FkZWQgc2NyaXB0CmVjaG8gIkV4ZWN1dGluZyB1c2VyZGF0YSBzY3JpcHQuLi4iCmVjaG8gIlRpbWVzdGFtcCBiZWZvcmUgZXhlY3V0aW9uOiAkKGRhdGUpIgoKIyBFeGVjdXRlIHNjcmlwdCBhbmQgY2FwdHVyZSBleGl0IGNvZGUKaWYgYmFzaCAiJFVTRVJEQVRBX1NDUklQVCI7IHRoZW4KICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pyFIFVzZXJkYXRhIHNjcmlwdCBjb21wbGV0ZWQgKGV4aXQgY29kZTogJEVYSVRfQ09ERSkiCmVsc2UKICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pqg77iPICBVc2VyZGF0YSBzY3JpcHQgZXhpdGVkIHdpdGggY29kZTogJEVYSVRfQ09ERSIKICAgIGVjaG8gIkNoZWNrIC92YXIvbG9nL3VzZXItZGF0YS5sb2cgZm9yIGRldGFpbHMiCmZpCgplY2hvICI9PT0gQm9vdHN0cmFwIFNjcmlwdCBDb21wbGV0ZWQgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIkZpbmFsIGV4aXQgY29kZTogJEVYSVRfQ09ERSIK",
          "vpc_security_group_ids": [
            "sg-009ab7c7d8df7eceb"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {}
          ],
          "instance_market_options": [],
          "instance_requirements": [],
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "tag_specifications": [
            {
              "tags": {}
            }
          ],
          "tags_all": {},
          "vpc_security_group_ids": [
            false
          ]
        },
        "after_sensitive": {
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {}
          ],
          "instance_market_options": [],
          "instance_requirements": [],
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "security_group_names": [],
          "tag_specifications": [
            {
              "tags": {}
            }
          ],
          "tags": {},
          "tags_all": {},
          "vpc_security_group_ids": [
            false
          ]
        }
      }
    },
    {
      "address": "aws_lb.app-server-lb",
      "mode": "managed",
      "type": "aws_lb",
      "name": "app-server-lb",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "access_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "arn_suffix": "app/web-app-dev-lb/eac1ccc084f24a3b",
          "client_keep_alive": 3600,
          "connection_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "customer_owned_ipv4_pool": "",
          "desync_mitigation_mode": "defensive",
          "dns_name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
          "dns_record_client_routing_policy": null,
          "drop_invalid_header_fields": false,
          "enable_cross_zone_load_balancing": true,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_tls_version_and_cipher_suite_headers": false,
          "enable_waf_fail_open": false,
          "enable_xff_client_port": false,
          "enable_zonal_shift": false,
          "enforce_security_group_inbound_rules_on_private_link_traffic": "",
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "idle_timeout": 60,
          "internal": false,
          "ip_address_type": "ipv4",
          "ipam_pools": [],
          "load_balancer_type": "application",
          "minimum_load_balancer_capacity": [],
          "name": "web-app-dev-lb",
          "name_prefix": "",
          "preserve_host_header": false,
          "security_groups": [
            "sg-00830d59372461d2c"
          ],
          "subnet_mapping": [
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0257115d2a1ef35ea"
            },
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0aaa1627feff66ddf"
            }
          ],
          "subnets": [
            "subnet-0257115d2a1ef35ea",
            "subnet-0aaa1627feff66ddf"
          ],
          "tags": null,
          "tags_all": {},
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f",
          "xff_header_processing_mode": "append",
          "zone_id": "Z35SXDOTRQ7X7K"
        },
        "after": {
          "access_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "arn_suffix": "app/web-app-dev-lb/eac1ccc084f24a3b",
          "client_keep_alive": 3600,
          "connection_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "customer_owned_ipv4_pool": "",
          "desync_mitigation_mode": "defensive",
          "dns_name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
          "dns_record_client_routing_policy": null,
          "drop_invalid_header_fields": false,
          "enable_cross_zone_load_balancing": true,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_tls_version_and_cipher_suite_headers": false,
          "enable_waf_fail_open": false,
          "enable_xff_client_port": false,
          "enable_zonal_shift": false,
          "enforce_security_group_inbound_rules_on_private_link_traffic": "",
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "idle_timeout": 60,
          "internal": false,
          "ip_address_type": "ipv4",
          "ipam_pools": [],
          "load_balancer_type": "application",
          "minimum_load_balancer_capacity": [],
          "name": "web-app-dev-lb",
          "name_prefix": "",
          "preserve_host_header": false,
          "security_groups": [
            "sg-00830d59372461d2c"
          ],
          "subnet_mapping": [
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0257115d2a1ef35ea"
            },
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0aaa1627feff66ddf"
            }
          ],
          "subnets": [
            "subnet-0257115d2a1ef35ea",
            "subnet-0aaa1627feff66ddf"
          ],
          "tags": {},
          "tags_all": {},
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f",
          "xff_header_processing_mode": "append",
          "zone_id": "Z35SXDOTRQ7X7K"
        },
        "after_unknown": {},
        "before_sensitive": {
          "access_logs": [
            {}
          ],
          "connection_logs": [
            {}
          ],
          "ipam_pools": [],
          "minimum_load_balancer_capacity": [],
          "security_groups": [
            false
          ],
          "subnet_mapping": [
            {},
            {}
          ],
          "subnets": [
            false,
            false
          ],
          "tags_all": {}
        },
        "after_sensitive": {
          "access_logs": [
            {}
          ],
          "connection_logs": [
            {}
          ],
          "ipam_pools": [],
          "minimum_load_balancer_capacity": [],
          "security_groups": [
            false
          ],
          "subnet_mapping": [
            {},
            {}
          ],
          "subnets": [
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_lb_listener.app-server-listener",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "app-server-listener",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [],
              "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "forward"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [
            {
              "advertise_trust_store_ca_names": "",
              "ignore_client_certificate_expiry": false,
              "mode": "off",
              "trust_store_arn": ""
            }
          ],
          "port": 443,
          "protocol": "HTTPS",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": "",
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": "",
          "routing_http_request_x_amzn_tls_version_header_name": "",
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "ELBSecurityPolicy-2016-08",
          "tags": null,
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [],
              "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "forward"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [
            {
              "advertise_trust_store_ca_names": "",
              "ignore_client_certificate_expiry": false,
              "mode": "off",
              "trust_store_arn": ""
            }
          ],
          "port": 443,
          "protocol": "HTTPS",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": "",
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": "",
          "routing_http_request_x_amzn_tls_version_header_name": "",
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "ELBSecurityPolicy-2016-08",
          "tags": {},
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "mutual_authentication": [
            {}
          ],
          "tags_all": {}
        },
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "mutual_authentication": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_lb_listener.app-server-listener-http",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "app-server-listener-http",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [
                {
                  "host": "#{host}",
                  "path": "/#{path}",
                  "port": "443",
                  "protocol": "HTTPS",
                  "query": "#{query}",
                  "status_code": "HTTP_301"
                }
              ],
              "target_group_arn": "",
              "type": "redirect"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [],
          "port": 80,
          "protocol": "HTTP",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": null,
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": null,
          "routing_http_request_x_amzn_tls_version_header_name": null,
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "",
          "tags": null,
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [
                {
                  "host": "#{host}",
                  "path": "/#{path}",
                  "port": "443",
                  "protocol": "HTTPS",
                  "query": "#{query}",
                  "status_code": "HTTP_301"
                }
              ],
              "target_group_arn": "",
              "type": "redirect"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [],
          "port": 80,
          "protocol": "HTTP",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": null,
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": null,
          "routing_http_request_x_amzn_tls_version_header_name": null,
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "",
          "tags": {},
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [
                {}
              ]
            }
          ],
          "mutual_authentication": [],
          "tags_all": {}
        },
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [
                {}
              ]
            }
          ],
          "mutual_authentication": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_lb_target_group.app-server-tg",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "app-server-tg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "arn_suffix": "targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "connection_termination": null,
          "deregistration_delay": "30",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 2,
              "interval": 30,
              "matcher": "200",
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 10,
              "unhealthy_threshold": 3
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "ip_address_type": "ipv4",
          "lambda_multi_value_headers_enabled": false,
          "load_balancer_arns": [],
          "load_balancing_algorithm_type": "round_robin",
          "load_balancing_anomaly_mitigation": "off",
          "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
          "name": "web-app-dev-tg",
          "name_prefix": "",
          "port": 80,
          "preserve_client_ip": null,
          "protocol": "HTTP",
          "protocol_version": "HTTP1",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 86400,
              "cookie_name": "",
              "enabled": false,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Name": "web-app-dev-tg"
          },
          "tags_all": {
            "Name": "web-app-dev-tg"
          },
          "target_failover": [
            {
              "on_deregistration": null,
              "on_unhealthy": null
            }
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {
                  "minimum_healthy_targets_count": "1",
                  "minimum_healthy_targets_percentage": "off"
                }
              ],
              "unhealthy_state_routing": [
                {
                  "minimum_healthy_targets_count": 1,
                  "minimum_healthy_targets_percentage": "off"
                }
              ]
            }
          ],
          "target_health_state": [
            {
              "enable_unhealthy_connection_termination": null,
              "unhealthy_draining_interval": null
            }
          ],
          "target_type": "instance",
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "arn_suffix": "targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "connection_termination": null,
          "deregistration_delay": "30",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 2,
              "interval": 30,
              "matcher": "200",
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 10,
              "unhealthy_threshold": 3
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "ip_address_type": "ipv4",
          "lambda_multi_value_headers_enabled": false,
          "load_balancer_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b"
          ],
          "load_balancing_algorithm_type": "round_robin",
          "load_balancing_anomaly_mitigation": "off",
          "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
          "name": "web-app-dev-tg",
          "name_prefix": "",
          "port": 80,
          "preserve_client_ip": null,
          "protocol": "HTTP",
          "protocol_version": "HTTP1",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 86400,
              "cookie_name": "",
              "enabled": false,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Name": "web-app-dev-tg"
          },
          "tags_all": {
            "Name": "web-app-dev-tg"
          },
          "target_failover": [
            {
              "on_deregistration": null,
              "on_unhealthy": null
            }
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {
                  "minimum_healthy_targets_count": "1",
                  "minimum_healthy_targets_percentage": "off"
                }
              ],
              "unhealthy_state_routing": [
                {
                  "minimum_healthy_targets_count": 1,
                  "minimum_healthy_targets_percentage": "off"
                }
              ]
            }
          ],
          "target_health_state": [
            {
              "enable_unhealthy_connection_termination": null,
              "unhealthy_draining_interval": null
            }
          ],
          "target_type": "instance",
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "health_check": [
            {}
          ],
          "load_balancer_arns": [],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "target_failover": [
            {}
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {}
              ],
              "unhealthy_state_routing": [
                {}
              ]
            }
          ],
          "target_health_state": [
            {}
          ]
        },
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "load_balancer_arns": [
            false
          ],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "target_failover": [
            {}
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {}
              ],
              "unhealthy_state_routing": [
                {}
              ]
            }
          ],
          "target_health_state": [
            {}
          ]
        }
      }
    },
    {
      "address": "aws_route53_record.app-server",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "app-server",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "alias": [
            {
              "evaluate_target_health": true,
              "name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
              "zone_id": "Z35SXDOTRQ7X7K"
            }
          ],
          "allow_overwrite": null,
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "fqdn": "dev.211125336427.realhandsonlabs.net",
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "health_check_id": "",
          "id": "Z0476534LTCE2W6ERWDB_dev.211125336427.realhandsonlabs.net_A",
          "latency_routing_policy": [],
          "multivalue_answer_routing_policy": false,
          "name": "dev.211125336427.realhandsonlabs.net",
          "records": null,
          "set_identifier": "",
          "timeouts": null,
          "ttl": 0,
          "type": "A",
          "weighted_routing_policy": [],
          "zone_id": "Z0476534LTCE2W6ERWDB"
        },
        "after": {
          "alias": [
            {
              "evaluate_target_health": true,
              "name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
              "zone_id": "Z35SXDOTRQ7X7K"
            }
          ],
          "allow_overwrite": null,
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "fqdn": "dev.211125336427.realhandsonlabs.net",
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "health_check_id": "",
          "id": "Z0476534LTCE2W6ERWDB_dev.211125336427.realhandsonlabs.net_A",
          "latency_routing_policy": [],
          "multivalue_answer_routing_policy": false,
          "name": "dev.211125336427.realhandsonlabs.net",
          "records": [],
          "set_identifier": "",
          "timeouts": null,
          "ttl": 0,
          "type": "A",
          "weighted_routing_policy": [],
          "zone_id": "Z0476534LTCE2W6ERWDB"
        },
        "after_unknown": {},
        "before_sensitive": {
          "alias": [
            {}
          ],
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "latency_routing_policy": [],
          "weighted_routing_policy": []
        },
        "after_sensitive": {
          "alias": [
            {}
          ],
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "latency_routing_policy": [],
          "records": [],
          "weighted_routing_policy": []
        }
      }
    },
    {
      "address": "aws_s3_bucket.app_assets",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "app_assets",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "acceleration_status": "",
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021",
          "bucket": "dev-web-app-157021",
          "bucket_domain_name": "dev-web-app-157021.s3.amazonaws.com",
          "bucket_prefix": "",
          "bucket_regional_domain_name": "dev-web-app-157021.s3.us-east-1.amazonaws.com",
          "cors_rule": [],
          "force_destroy": true,
          "grant": [
            {
              "id": "5e786dec603f1f50a0225e93545ae5bd23e4b91b5f1041d7f4faef6b27a8f84b",
              "permissions": [
                "FULL_CONTROL"
              ],
              "type": "CanonicalUser",
              "uri": ""
            }
          ],
          "hosted_zone_id": "Z3AQBSTGFYJSTF",
          "id": "dev-web-app-157021",
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "object_lock_enabled": false,
          "policy": "",
          "region": "us-east-1",
          "replication_configuration": [],
          "request_payer": "BucketOwner",
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {
                      "kms_master_key_id": "",
                      "sse_algorithm": "AES256"
                    }
                  ],
                  "bucket_key_enabled": false
                }
              ]
            }
          ],
          "tags": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "tags_all": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "timeouts": null,
          "versioning": [
            {
              "enabled": false,
              "mfa_delete": false
            }
          ],
          "website": [],
          "website_domain": null,
          "website_endpoint": null
        },
        "after": {
          "acceleration_status": "",
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021",
          "bucket": "dev-web-app-157021",
          "bucket_domain_name": "dev-web-app-157021.s3.amazonaws.com",
          "bucket_prefix": "",
          "bucket_regional_domain_name": "dev-web-app-157021.s3.us-east-1.amazonaws.com",
          "cors_rule": [],
          "force_destroy": true,
          "grant": [
            {
              "id": "5e786dec603f1f50a0225e93545ae5bd23e4b91b5f1041d7f4faef6b27a8f84b",
              "permissions": [
                "FULL_CONTROL"
              ],
              "type": "CanonicalUser",
              "uri": ""
            }
          ],
          "hosted_zone_id": "Z3AQBSTGFYJSTF",
          "id": "dev-web-app-157021",
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "object_lock_enabled": false,
          "policy": "",
          "region": "us-east-1",
          "replication_configuration": [],
          "request_payer": "BucketOwner",
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {
                      "kms_master_key_id": "",
                      "sse_algorithm": "AES256"
                    }
                  ],
                  "bucket_key_enabled": false
                }
              ]
            }
          ],
          "tags": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "tags_all": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "timeouts": null,
          "versioning": [
            {
              "enabled": true,
              "mfa_delete": false
            }
          ],
          "website": [],
          "website_domain": null,
          "website_endpoint": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "cors_rule": [],
          "grant": [
            {
              "permissions": [
                false
              ]
            }
          ],
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "replication_configuration": [],
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {}
                  ]
                }
              ]
            }
          ],
          "tags": {},
          "tags_all": {},
          "versioning": [
            {}
          ],
          "website": []
        },
        "after_sensitive": {
          "cors_rule": [],
          "grant": [
            {
              "permissions": [
                false
              ]
            }
          ],
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "replication_configuration": [],
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {}
                  ]
                }
              ]
            }
          ],
          "tags": {},
          "tags_all": {},
          "versioning": [
            {}
          ],
          "website": []
        }
      }
    },
    {
      "address": "aws_s3_bucket_server_side_encryption_configuration.app_assets",
      "mode": "managed",
      "type": "aws_s3_bucket_server_side_encryption_configuration",
      "name": "app_assets",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "bucket": "dev-web-app-157021",
          "expected_bucket_owner": "",
          "id": "dev-web-app-157021",
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {
                  "kms_master_key_id": "",
                  "sse_algorithm": "AES256"
                }
              ],
              "bucket_key_enabled": null
            }
          ]
        },
        "after": {
          "bucket": "dev-web-app-157021",
          "expected_bucket_owner": "",
          "id": "dev-web-app-157021",
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {
                  "kms_master_key_id": "",
                  "sse_algorithm": "AES256"
                }
              ],
              "bucket_key_enabled": false
            }
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {}
              ]
            }
          ]
        },
        "after_sensitive": {
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {}
              ]
            }
          ]
        }
      }
    },
    {
      "address": "aws_s3_object.userdata_script",
      "mode": "managed",
      "type": "aws_s3_object",
      "name": "userdata_script",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021/scripts/userdata_client_app.sh",
          "bucket": "dev-web-app-157021",
          "bucket_key_enabled": false,
          "cache_control": "",
          "checksum_algorithm": null,
          "checksum_crc32": "",
          "checksum_crc32c": "",
          "checksum_crc64nvme": "",
          "checksum_sha1": "",
          "checksum_sha256": "",
          "content": "#!/bin/bash\n# User data script for Client Management Application\n# This script sets up a Flask application to manage client information\n\n# Don't use 'set -e' - we want to continue even if some commands fail\n# Use || true for commands that can safely fail\nset -u  # Only exit on undefined variables\nset -o pipefail  # Exit on pipe failures\n\necho \"=== Starting Client Management Application Setup ===\"\n\n# Update system and install Python\necho \"Updating system packages...\"\nsudo apt update -y\nsudo apt install -y python3 python3-pip\n\n# Install and start SSM Agent for Session Manager connectivity\necho \"Installing and starting SSM Agent...\"\nif ! command -v amazon-ssm-agent &> /dev/null; then\n    echo \"SSM Agent not found, installing via snap...\"\n    sudo snap install amazon-ssm-agent --classic || {\n        echo \"  Snap install failed, trying alternative method...\"\n        # Alternative: Install from deb package if snap fails\n        cd /tmp\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        sudo dpkg -i amazon-ssm-agent.deb || sudo apt-get install -f -y\n        rm -f amazon-ssm-agent.deb\n    }\nfi\n\n# Start SSM Agent\necho \"Starting SSM Agent...\"\nsudo systemctl enable amazon-ssm-agent || sudo systemctl enable snap.amazon-ssm-agent.amazon-ssm-agent.service || true\nsudo systemctl start amazon-ssm-agent || sudo systemctl start snap.amazon-ssm-agent.amazon-ssm-agent.service || sudo snap start amazon-ssm-agent || true\n\n# Verify SSM Agent is running\nsleep 2\nif sudo systemctl is-active --quiet amazon-ssm-agent || sudo systemctl is-active --quiet snap.amazon-ssm-agent.amazon-ssm-agent.service; then\n    echo \" SSM Agent is running\"\nelse\n    echo \"  SSM Agent may not be running, check logs with: sudo journalctl -u amazon-ssm-agent\"\nfi\n\n# Stop Apache if installed (to avoid port 80 conflict)\nsudo systemctl stop apache2 || true\nsudo systemctl disable apache2 || true\n\n# Install Python packages for PostgreSQL\necho \"Installing Python packages (Flask, psycopg2-binary, boto3)...\"\nsudo -H pip3 install flask psycopg2-binary boto3 || {\n    echo \"  pip3 install failed, trying with --break-system-packages...\"\n    sudo -H pip3 install --break-system-packages flask psycopg2-binary boto3\n}\n\n# Verify installation\necho \"Verifying Python packages...\"\npython3 -c \"import flask; import psycopg2; import boto3; print(' All packages installed successfully')\" || {\n    echo \" Package verification failed, trying alternative installation...\"\n    sudo apt-get install -y python3-flask python3-psycopg2 python3-boto3 || true\n    python3 -c \"import flask; import psycopg2; import boto3; print(' Packages verified')\" || echo \"  Some packages may not be available\"\n}\n\n# Create app directory\nmkdir -p /home/ubuntu/webapp\ncd /home/ubuntu/webapp\n\n# Copy the client application\n# Note: In production, you'd want to pull this from a Git repository or S3\n# For now, we'll create it inline\ncat << 'CLIENT_APP' > app.py\nimport os\nimport json\nimport boto3\nfrom flask import Flask, request, render_template_string, redirect, url_for\nimport psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# HTML Template\nCLIENT_FORM_HTML = \"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Client Information System</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background: white;\n            padding: 30px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .nav {\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .nav a {\n            margin: 0 10px;\n            padding: 8px 16px;\n            text-decoration: none;\n            background-color: #007bff;\n            color: white;\n            border-radius: 4px;\n        }\n        .nav a:hover {\n            background-color: #0056b3;\n        }\n        form {\n            display: grid;\n            gap: 15px;\n        }\n        label {\n            font-weight: bold;\n            color: #555;\n        }\n        input[type=\"text\"],\n        input[type=\"email\"],\n        input[type=\"tel\"],\n        textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        textarea {\n            resize: vertical;\n            min-height: 80px;\n        }\n        button {\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #218838;\n        }\n        .success {\n            background-color: #d4edda;\n            color: #155724;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        .error {\n            background-color: #f8d7da;\n            color: #721c24;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #007bff;\n            color: white;\n        }\n        tr:hover {\n            background-color: #f5f5f5;\n        }\n        .empty {\n            text-align: center;\n            color: #888;\n            padding: 40px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1> Client Information System</h1>\n        <div class=\"nav\">\n            <a href=\"/\">Add Client</a>\n            <a href=\"/clients\">View Clients</a>\n            <a href=\"/health\">Health Check</a>\n        </div>\n        {% if message %}\n        <div class=\"{{ message_type }}\">{{ message }}</div>\n        {% endif %}\n        {{ content|safe }}\n    </div>\n</body>\n</html>\n\"\"\"\n\nFORM_CONTENT = \"\"\"\n<h2>Add New Client</h2>\n<form method=\"POST\" action=\"/\">\n    <div>\n        <label for=\"name\">Full Name *</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"John Doe\">\n    </div>\n    \n    <div>\n        <label for=\"email\">Email Address *</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"john@example.com\">\n    </div>\n    \n    <div>\n        <label for=\"phone\">Phone Number</label>\n        <input type=\"tel\" id=\"phone\" name=\"phone\" placeholder=\"+1 234-567-8900\">\n    </div>\n    \n    <div>\n        <label for=\"company\">Company</label>\n        <input type=\"text\" id=\"company\" name=\"company\" placeholder=\"Acme Inc.\">\n    </div>\n    \n    <div>\n        <label for=\"address\">Address</label>\n        <textarea id=\"address\" name=\"address\" placeholder=\"123 Main St, City, State, ZIP\"></textarea>\n    </div>\n    \n    <div>\n        <label for=\"notes\">Notes</label>\n        <textarea id=\"notes\" name=\"notes\" placeholder=\"Additional information\"></textarea>\n    </div>\n    \n    <button type=\"submit\">Save Client</button>\n</form>\n\"\"\"\n\n\ndef get_db_credentials():\n    secret_name = os.getenv(\"SECRET_NAME\")\n    region = os.getenv(\"AWS_REGION\", \"us-east-1\")\n    \n    if not secret_name:\n        raise ValueError(\"SECRET_NAME environment variable not set\")\n    \n    client = boto3.client(\"secretsmanager\", region_name=region)\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response[\"SecretString\"])\n\n\ndef get_db_connection():\n    max_retries = 3\n    retry_delay = 2\n    \n    for attempt in range(max_retries):\n        try:\n            creds = get_db_credentials()\n            \n            # PostgreSQL RDS requires SSL connections\n            conn = psycopg2.connect(\n                host=creds[\"host\"],\n                database=creds[\"dbname\"],\n                user=creds[\"username\"],\n                password=creds[\"password\"],\n                port=int(creds[\"port\"]),\n                connect_timeout=10,\n                sslmode=\"require\"  # RDS PostgreSQL requires SSL\n            )\n            \n            print(f\" Database connection successful (attempt {attempt + 1})\")\n            return conn\n            \n        except psycopg2.OperationalError as e:\n            if \"password authentication failed\" in str(e).lower() or \"access denied\" in str(e).lower():\n                print(f\" Database access denied: {e}\")\n                raise Exception(f\"Database access denied: {e}\")\n            elif attempt < max_retries - 1:\n                print(f\"  Connection attempt {attempt + 1} failed, retrying...\")\n                import time\n                time.sleep(retry_delay)\n                continue\n            else:\n                raise Exception(f\"Database connection failed: {e}\")\n        except Exception as e:\n            print(f\" Database connection error: {e}\")\n            if attempt < max_retries - 1:\n                import time\n                time.sleep(retry_delay)\n                continue\n            raise\n\n\ndef init_database():\n    try:\n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS clients (\n                id SERIAL PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL,\n                phone VARCHAR(50),\n                company VARCHAR(255),\n                address TEXT,\n                notes TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                CONSTRAINT unique_email UNIQUE (email)\n            )\n        \"\"\")\n        \n        # Create indexes\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_email ON clients(email)\")\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_name ON clients(name)\")\n        \n        # Create trigger for updated_at (PostgreSQL equivalent of ON UPDATE CURRENT_TIMESTAMP)\n        cursor.execute(\"\"\"\n            CREATE OR REPLACE FUNCTION update_updated_at_column()\n            RETURNS TRIGGER AS $$\n            BEGIN\n                NEW.updated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ language 'plpgsql';\n        \"\"\")\n        cursor.execute(\"\"\"\n            DROP TRIGGER IF EXISTS update_clients_updated_at ON clients;\n            CREATE TRIGGER update_clients_updated_at\n                BEFORE UPDATE ON clients\n                FOR EACH ROW\n                EXECUTE FUNCTION update_updated_at_column();\n        \"\"\")\n        \n        conn.commit()\n        cursor.close()\n        conn.close()\n        \n        print(\" Database table initialized successfully\")\n        return True\n        \n    except psycopg2.OperationalError as e:\n        error_msg = str(e)\n        print(f\"  Database connection error: {error_msg}\")\n        print(f\"   Check: Security group, network connectivity, credentials\")\n        return False\n    except psycopg2.Error as e:\n        error_msg = str(e)\n        print(f\"  Database error: {error_msg}\")\n        return False\n    except Exception as e:\n        error_msg = str(e)\n        print(f\"  Database initialization error: {error_msg}\")\n        print(f\"   Error type: {type(e).__name__}\")\n        import traceback\n        print(f\"   Traceback: {traceback.format_exc()}\")\n        return False\n\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    # Handle POST request (form submission)\n    if request.method == \"POST\":\n        try:\n            name = request.form.get(\"name\", \"\").strip()\n            email = request.form.get(\"email\", \"\").strip()\n            phone = request.form.get(\"phone\", \"\").strip()\n            company = request.form.get(\"company\", \"\").strip()\n            address = request.form.get(\"address\", \"\").strip()\n            notes = request.form.get(\"notes\", \"\").strip()\n            \n            if not name or not email:\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: Name and Email are required fields.\",\n                    message_type=\"error\"\n                )\n            \n            # Try to initialize database and get the actual error if it fails\n            db_init_result = init_database()\n            if not db_init_result:\n                # Get the last error from logs or try connection again to get error\n                try:\n                    conn = get_db_connection()\n                    conn.close()\n                    # If connection works, try init again\n                    if not init_database():\n                        raise Exception(\"Failed to initialize database (connection works but init failed)\")\n                except Exception as conn_err:\n                    raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n            \n            conn = get_db_connection()\n            cursor = conn.cursor()\n            \n            try:\n                cursor.execute(\"\"\"\n                    INSERT INTO clients (name, email, phone, company, address, notes)\n                    VALUES (%s, %s, %s, %s, %s, %s)\n                    RETURNING id\n                \"\"\", (name, email, phone or None, company or None, address or None, notes or None))\n                \n                result = cursor.fetchone()\n                client_id = result[0] if result else None\n                conn.commit()\n                \n                cursor.close()\n                conn.close()\n                \n                success_msg = f\" Client '{name}' has been successfully added! (ID: {client_id})\"\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=success_msg,\n                    message_type=\"success\"\n                )\n                \n            except psycopg2.IntegrityError as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: A client with this email already exists.\",\n                    message_type=\"error\"\n                )\n            except Exception as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                raise\n                \n        except Exception as e:\n            error_msg = f\"Error saving client: {str(e)}\"\n            print(f\" {error_msg}\")\n            return render_template_string(\n                CLIENT_FORM_HTML,\n                content=FORM_CONTENT,\n                message=error_msg,\n                message_type=\"error\"\n            ), 500\n    \n    # Handle GET request (display form)\n    return render_template_string(CLIENT_FORM_HTML, content=FORM_CONTENT)\n\n\n@app.route(\"/clients\")\ndef list_clients():\n    try:\n        # Try to initialize database and get the actual error if it fails\n        db_init_result = init_database()\n        if not db_init_result:\n            # Get the last error from logs or try connection again to get error\n            try:\n                conn = get_db_connection()\n                conn.close()\n                # If connection works, try init again\n                if not init_database():\n                    raise Exception(\"Failed to initialize database (connection works but init failed)\")\n            except Exception as conn_err:\n                raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n        \n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            SELECT id, name, email, phone, company, address, notes, \n                   created_at, updated_at\n            FROM clients\n            ORDER BY created_at DESC\n        \"\"\")\n        \n        clients = cursor.fetchall()\n        cursor.close()\n        conn.close()\n        \n        if not clients:\n            content = '<div class=\"empty\"><h2>No clients found</h2><p>Start by adding a new client.</p></div>'\n            return render_template_string(CLIENT_FORM_HTML, content=content)\n        \n        table_html = \"\"\"\n        <h2> All Clients ({} total)</h2>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Company</th>\n                    <th>Created</th>\n                </tr>\n            </thead>\n            <tbody>\n        \"\"\".format(len(clients))\n        \n        for client in clients:\n            created_at = client['created_at'].strftime('%Y-%m-%d %H:%M') if client['created_at'] else 'N/A'\n            table_html += f\"\"\"\n                <tr>\n                    <td>{client['id']}</td>\n                    <td><strong>{client['name']}</strong></td>\n                    <td>{client['email']}</td>\n                    <td>{client['phone'] or '-'}</td>\n                    <td>{client['company'] or '-'}</td>\n                    <td>{created_at}</td>\n                </tr>\n            \"\"\"\n        \n        table_html += \"\"\"\n            </tbody>\n        </table>\n        \"\"\"\n        \n        return render_template_string(CLIENT_FORM_HTML, content=table_html)\n        \n    except Exception as e:\n        error_msg = f\"Error retrieving clients: {str(e)}\"\n        print(f\" {error_msg}\")\n        return render_template_string(\n            CLIENT_FORM_HTML,\n            content=f'<div class=\"error\">{error_msg}</div>',\n            message_type=\"error\"\n        ), 500\n\n\n@app.route(\"/health\")\ndef health():\n    # Health check endpoint - MUST NOT require database access\n    # ALB health checks will fail if this endpoint requires DB connection\n    # Returns 200 OK if Flask app is running (simple check)\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"running\",\n        \"timestamp\": datetime.now().isoformat()\n    }, 200\n\n\nif __name__ == \"__main__\":\n    try:\n        print(\"=== Client Management Application Starting ===\")\n        \n        # Start Flask IMMEDIATELY - don't block on database initialization\n        # Database will be initialized lazily on first request that needs it\n        # This ensures health checks work even if database is not ready\n        import threading\n        \n        def init_db_async():\n            \"\"\"Initialize database in background thread\"\"\"\n            try:\n                import time\n                time.sleep(5)  # Give Flask time to start first\n                print(\"Attempting database initialization in background...\")\n                init_database()\n                print(\" Database initialized successfully\")\n            except Exception as e:\n                print(f\"  Database initialization failed (will retry on first request): {e}\")\n        \n        # Start database initialization in background thread\n        db_thread = threading.Thread(target=init_db_async, daemon=True)\n        db_thread.start()\n        \n        print(\" Flask application starting (health check available immediately)\")\n        print(\"   Flask will listen on 0.0.0.0:80\")\n        app.run(host=\"0.0.0.0\", port=80, debug=False, threaded=True)\n    except Exception as e:\n        print(f\" CRITICAL: Flask failed to start: {e}\")\n        import traceback\n        traceback.print_exc()\n        raise\nCLIENT_APP\n\n# Install authbind to allow non-root user to bind to port 80\nsudo apt-get install -y authbind\n\n# Allow ubuntu user to bind to port 80\nsudo touch /etc/authbind/byport/80\nsudo chmod 500 /etc/authbind/byport/80\nsudo chown ubuntu:ubuntu /etc/authbind/byport/80\n\n# Create systemd service for Flask\ncat << SERVICE | sudo tee /etc/systemd/system/flaskapp.service\n[Unit]\nDescription=Client Management Flask Application\nAfter=network.target\n\n[Service]\nUser=ubuntu\nWorkingDirectory=/home/ubuntu/webapp\nEnvironment=\"SECRET_NAME=arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"\nEnvironment=\"AWS_REGION=us-east-1\"\nEnvironment=\"PATH=/usr/local/bin:/usr/bin:/bin\"\nExecStart=/usr/bin/authbind --deep /usr/bin/python3 /home/ubuntu/webapp/app.py\nRestart=on-failure\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=60\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# Enable and start Flask service\nsudo systemctl daemon-reload\nsudo systemctl enable flaskapp\n\n# Start Flask service\necho \"Starting Flask application...\"\nsudo systemctl start flaskapp\nsleep 10\n\n# Verify Flask is running\nif sudo systemctl is-active --quiet flaskapp; then\n    echo \" Flask service is running\"\n    sleep 2\n    if curl -f http://localhost/health > /dev/null 2>&1; then\n        echo \" Health endpoint is responding\"\n    else\n        echo \"  Health endpoint not responding yet, checking logs...\"\n        sudo journalctl -u flaskapp --no-pager -n 20 || true\n    fi\nelse\n    echo \" Flask service failed to start\"\n    echo \"Checking logs for errors...\"\n    sudo journalctl -u flaskapp --no-pager -n 50 || true\n    echo \"\"\n    echo \"  Flask service failed, but continuing userdata script...\"\n    echo \"Service will be retried by systemd with Restart=on-failure\"\n    echo \"You can check logs later with: sudo journalctl -u flaskapp -f\"\nfi\n\necho \"=== Client Management Application Setup Complete ===\"",
          "content_base64": null,
          "content_disposition": "",
          "content_encoding": "",
          "content_language": "",
          "content_type": "text/x-shellscript",
          "etag": "997b6435ce6d7f8eaaccd7d55dcb7e73",
          "force_destroy": false,
          "id": "scripts/userdata_client_app.sh",
          "key": "scripts/userdata_client_app.sh",
          "kms_key_id": null,
          "metadata": null,
          "object_lock_legal_hold_status": "",
          "object_lock_mode": "",
          "object_lock_retain_until_date": "",
          "override_provider": [],
          "server_side_encryption": "AES256",
          "source": null,
          "source_hash": null,
          "storage_class": "STANDARD",
          "tags": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "tags_all": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "version_id": "jyDvmEfJs2Urfvv7jnb1wdIftbKxK6Xh",
          "website_redirect": ""
        },
        "after": {
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021/scripts/userdata_client_app.sh",
          "bucket": "dev-web-app-157021",
          "bucket_key_enabled": false,
          "cache_control": "",
          "checksum_algorithm": null,
          "checksum_crc32": "",
          "checksum_crc32c": "",
          "checksum_crc64nvme": "",
          "checksum_sha1": "",
          "checksum_sha256": "",
          "content": "#!/bin/bash\n# User data script for Client Management Application\n# This script sets up a Flask application to manage client information\n\n# Don't use 'set -e' - we want to continue even if some commands fail\n# Use || true for commands that can safely fail\nset -u  # Only exit on undefined variables\nset -o pipefail  # Exit on pipe failures\n\necho \"=== Starting Client Management Application Setup ===\"\n\n# Update system and install Python\necho \"Updating system packages...\"\nsudo apt update -y\nsudo apt install -y python3 python3-pip\n\n# Install and start SSM Agent for Session Manager connectivity\necho \"Installing and starting SSM Agent...\"\nif ! command -v amazon-ssm-agent &> /dev/null; then\n    echo \"SSM Agent not found, installing via snap...\"\n    sudo snap install amazon-ssm-agent --classic || {\n        echo \"  Snap install failed, trying alternative method...\"\n        # Alternative: Install from deb package if snap fails\n        cd /tmp\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        sudo dpkg -i amazon-ssm-agent.deb || sudo apt-get install -f -y\n        rm -f amazon-ssm-agent.deb\n    }\nfi\n\n# Start SSM Agent\necho \"Starting SSM Agent...\"\nsudo systemctl enable amazon-ssm-agent || sudo systemctl enable snap.amazon-ssm-agent.amazon-ssm-agent.service || true\nsudo systemctl start amazon-ssm-agent || sudo systemctl start snap.amazon-ssm-agent.amazon-ssm-agent.service || sudo snap start amazon-ssm-agent || true\n\n# Verify SSM Agent is running\nsleep 2\nif sudo systemctl is-active --quiet amazon-ssm-agent || sudo systemctl is-active --quiet snap.amazon-ssm-agent.amazon-ssm-agent.service; then\n    echo \" SSM Agent is running\"\nelse\n    echo \"  SSM Agent may not be running, check logs with: sudo journalctl -u amazon-ssm-agent\"\nfi\n\n# Stop Apache if installed (to avoid port 80 conflict)\nsudo systemctl stop apache2 || true\nsudo systemctl disable apache2 || true\n\n# Install Python packages for PostgreSQL\necho \"Installing Python packages (Flask, psycopg2-binary, boto3)...\"\nsudo -H pip3 install flask psycopg2-binary boto3 || {\n    echo \"  pip3 install failed, trying with --break-system-packages...\"\n    sudo -H pip3 install --break-system-packages flask psycopg2-binary boto3\n}\n\n# Verify installation\necho \"Verifying Python packages...\"\npython3 -c \"import flask; import psycopg2; import boto3; print(' All packages installed successfully')\" || {\n    echo \" Package verification failed, trying alternative installation...\"\n    sudo apt-get install -y python3-flask python3-psycopg2 python3-boto3 || true\n    python3 -c \"import flask; import psycopg2; import boto3; print(' Packages verified')\" || echo \"  Some packages may not be available\"\n}\n\n# Create app directory\nmkdir -p /home/ubuntu/webapp\ncd /home/ubuntu/webapp\n\n# Copy the client application\n# Note: In production, you'd want to pull this from a Git repository or S3\n# For now, we'll create it inline\ncat << 'CLIENT_APP' > app.py\nimport os\nimport json\nimport boto3\nfrom flask import Flask, request, render_template_string, redirect, url_for\nimport psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# HTML Template\nCLIENT_FORM_HTML = \"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Client Information System</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background: white;\n            padding: 30px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .nav {\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .nav a {\n            margin: 0 10px;\n            padding: 8px 16px;\n            text-decoration: none;\n            background-color: #007bff;\n            color: white;\n            border-radius: 4px;\n        }\n        .nav a:hover {\n            background-color: #0056b3;\n        }\n        form {\n            display: grid;\n            gap: 15px;\n        }\n        label {\n            font-weight: bold;\n            color: #555;\n        }\n        input[type=\"text\"],\n        input[type=\"email\"],\n        input[type=\"tel\"],\n        textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        textarea {\n            resize: vertical;\n            min-height: 80px;\n        }\n        button {\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #218838;\n        }\n        .success {\n            background-color: #d4edda;\n            color: #155724;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        .error {\n            background-color: #f8d7da;\n            color: #721c24;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #007bff;\n            color: white;\n        }\n        tr:hover {\n            background-color: #f5f5f5;\n        }\n        .empty {\n            text-align: center;\n            color: #888;\n            padding: 40px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1> Client Information System</h1>\n        <div class=\"nav\">\n            <a href=\"/\">Add Client</a>\n            <a href=\"/clients\">View Clients</a>\n            <a href=\"/health\">Health Check</a>\n        </div>\n        {% if message %}\n        <div class=\"{{ message_type }}\">{{ message }}</div>\n        {% endif %}\n        {{ content|safe }}\n    </div>\n</body>\n</html>\n\"\"\"\n\nFORM_CONTENT = \"\"\"\n<h2>Add New Client</h2>\n<form method=\"POST\" action=\"/\">\n    <div>\n        <label for=\"name\">Full Name *</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"John Doe\">\n    </div>\n    \n    <div>\n        <label for=\"email\">Email Address *</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"john@example.com\">\n    </div>\n    \n    <div>\n        <label for=\"phone\">Phone Number</label>\n        <input type=\"tel\" id=\"phone\" name=\"phone\" placeholder=\"+1 234-567-8900\">\n    </div>\n    \n    <div>\n        <label for=\"company\">Company</label>\n        <input type=\"text\" id=\"company\" name=\"company\" placeholder=\"Acme Inc.\">\n    </div>\n    \n    <div>\n        <label for=\"address\">Address</label>\n        <textarea id=\"address\" name=\"address\" placeholder=\"123 Main St, City, State, ZIP\"></textarea>\n    </div>\n    \n    <div>\n        <label for=\"notes\">Notes</label>\n        <textarea id=\"notes\" name=\"notes\" placeholder=\"Additional information\"></textarea>\n    </div>\n    \n    <button type=\"submit\">Save Client</button>\n</form>\n\"\"\"\n\n\ndef get_db_credentials():\n    secret_name = os.getenv(\"SECRET_NAME\")\n    region = os.getenv(\"AWS_REGION\", \"us-east-1\")\n    \n    if not secret_name:\n        raise ValueError(\"SECRET_NAME environment variable not set\")\n    \n    client = boto3.client(\"secretsmanager\", region_name=region)\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response[\"SecretString\"])\n\n\ndef get_db_connection():\n    max_retries = 3\n    retry_delay = 2\n    \n    for attempt in range(max_retries):\n        try:\n            creds = get_db_credentials()\n            \n            # PostgreSQL RDS requires SSL connections\n            conn = psycopg2.connect(\n                host=creds[\"host\"],\n                database=creds[\"dbname\"],\n                user=creds[\"username\"],\n                password=creds[\"password\"],\n                port=int(creds[\"port\"]),\n                connect_timeout=10,\n                sslmode=\"require\"  # RDS PostgreSQL requires SSL\n            )\n            \n            print(f\" Database connection successful (attempt {attempt + 1})\")\n            return conn\n            \n        except psycopg2.OperationalError as e:\n            if \"password authentication failed\" in str(e).lower() or \"access denied\" in str(e).lower():\n                print(f\" Database access denied: {e}\")\n                raise Exception(f\"Database access denied: {e}\")\n            elif attempt < max_retries - 1:\n                print(f\"  Connection attempt {attempt + 1} failed, retrying...\")\n                import time\n                time.sleep(retry_delay)\n                continue\n            else:\n                raise Exception(f\"Database connection failed: {e}\")\n        except Exception as e:\n            print(f\" Database connection error: {e}\")\n            if attempt < max_retries - 1:\n                import time\n                time.sleep(retry_delay)\n                continue\n            raise\n\n\ndef init_database():\n    try:\n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS clients (\n                id SERIAL PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL,\n                phone VARCHAR(50),\n                company VARCHAR(255),\n                address TEXT,\n                notes TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                CONSTRAINT unique_email UNIQUE (email)\n            )\n        \"\"\")\n        \n        # Create indexes\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_email ON clients(email)\")\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_name ON clients(name)\")\n        \n        # Create trigger for updated_at (PostgreSQL equivalent of ON UPDATE CURRENT_TIMESTAMP)\n        cursor.execute(\"\"\"\n            CREATE OR REPLACE FUNCTION update_updated_at_column()\n            RETURNS TRIGGER AS $$\n            BEGIN\n                NEW.updated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ language 'plpgsql';\n        \"\"\")\n        cursor.execute(\"\"\"\n            DROP TRIGGER IF EXISTS update_clients_updated_at ON clients;\n            CREATE TRIGGER update_clients_updated_at\n                BEFORE UPDATE ON clients\n                FOR EACH ROW\n                EXECUTE FUNCTION update_updated_at_column();\n        \"\"\")\n        \n        conn.commit()\n        cursor.close()\n        conn.close()\n        \n        print(\" Database table initialized successfully\")\n        return True\n        \n    except psycopg2.OperationalError as e:\n        error_msg = str(e)\n        print(f\"  Database connection error: {error_msg}\")\n        print(f\"   Check: Security group, network connectivity, credentials\")\n        return False\n    except psycopg2.Error as e:\n        error_msg = str(e)\n        print(f\"  Database error: {error_msg}\")\n        return False\n    except Exception as e:\n        error_msg = str(e)\n        print(f\"  Database initialization error: {error_msg}\")\n        print(f\"   Error type: {type(e).__name__}\")\n        import traceback\n        print(f\"   Traceback: {traceback.format_exc()}\")\n        return False\n\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    # Handle POST request (form submission)\n    if request.method == \"POST\":\n        try:\n            name = request.form.get(\"name\", \"\").strip()\n            email = request.form.get(\"email\", \"\").strip()\n            phone = request.form.get(\"phone\", \"\").strip()\n            company = request.form.get(\"company\", \"\").strip()\n            address = request.form.get(\"address\", \"\").strip()\n            notes = request.form.get(\"notes\", \"\").strip()\n            \n            if not name or not email:\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: Name and Email are required fields.\",\n                    message_type=\"error\"\n                )\n            \n            # Try to initialize database and get the actual error if it fails\n            db_init_result = init_database()\n            if not db_init_result:\n                # Get the last error from logs or try connection again to get error\n                try:\n                    conn = get_db_connection()\n                    conn.close()\n                    # If connection works, try init again\n                    if not init_database():\n                        raise Exception(\"Failed to initialize database (connection works but init failed)\")\n                except Exception as conn_err:\n                    raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n            \n            conn = get_db_connection()\n            cursor = conn.cursor()\n            \n            try:\n                cursor.execute(\"\"\"\n                    INSERT INTO clients (name, email, phone, company, address, notes)\n                    VALUES (%s, %s, %s, %s, %s, %s)\n                    RETURNING id\n                \"\"\", (name, email, phone or None, company or None, address or None, notes or None))\n                \n                result = cursor.fetchone()\n                client_id = result[0] if result else None\n                conn.commit()\n                \n                cursor.close()\n                conn.close()\n                \n                success_msg = f\" Client '{name}' has been successfully added! (ID: {client_id})\"\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=success_msg,\n                    message_type=\"success\"\n                )\n                \n            except psycopg2.IntegrityError as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: A client with this email already exists.\",\n                    message_type=\"error\"\n                )\n            except Exception as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                raise\n                \n        except Exception as e:\n            error_msg = f\"Error saving client: {str(e)}\"\n            print(f\" {error_msg}\")\n            return render_template_string(\n                CLIENT_FORM_HTML,\n                content=FORM_CONTENT,\n                message=error_msg,\n                message_type=\"error\"\n            ), 500\n    \n    # Handle GET request (display form)\n    return render_template_string(CLIENT_FORM_HTML, content=FORM_CONTENT)\n\n\n@app.route(\"/clients\")\ndef list_clients():\n    try:\n        # Try to initialize database and get the actual error if it fails\n        db_init_result = init_database()\n        if not db_init_result:\n            # Get the last error from logs or try connection again to get error\n            try:\n                conn = get_db_connection()\n                conn.close()\n                # If connection works, try init again\n                if not init_database():\n                    raise Exception(\"Failed to initialize database (connection works but init failed)\")\n            except Exception as conn_err:\n                raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n        \n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            SELECT id, name, email, phone, company, address, notes, \n                   created_at, updated_at\n            FROM clients\n            ORDER BY created_at DESC\n        \"\"\")\n        \n        clients = cursor.fetchall()\n        cursor.close()\n        conn.close()\n        \n        if not clients:\n            content = '<div class=\"empty\"><h2>No clients found</h2><p>Start by adding a new client.</p></div>'\n            return render_template_string(CLIENT_FORM_HTML, content=content)\n        \n        table_html = \"\"\"\n        <h2> All Clients ({} total)</h2>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Company</th>\n                    <th>Created</th>\n                </tr>\n            </thead>\n            <tbody>\n        \"\"\".format(len(clients))\n        \n        for client in clients:\n            created_at = client['created_at'].strftime('%Y-%m-%d %H:%M') if client['created_at'] else 'N/A'\n            table_html += f\"\"\"\n                <tr>\n                    <td>{client['id']}</td>\n                    <td><strong>{client['name']}</strong></td>\n                    <td>{client['email']}</td>\n                    <td>{client['phone'] or '-'}</td>\n                    <td>{client['company'] or '-'}</td>\n                    <td>{created_at}</td>\n                </tr>\n            \"\"\"\n        \n        table_html += \"\"\"\n            </tbody>\n        </table>\n        \"\"\"\n        \n        return render_template_string(CLIENT_FORM_HTML, content=table_html)\n        \n    except Exception as e:\n        error_msg = f\"Error retrieving clients: {str(e)}\"\n        print(f\" {error_msg}\")\n        return render_template_string(\n            CLIENT_FORM_HTML,\n            content=f'<div class=\"error\">{error_msg}</div>',\n            message_type=\"error\"\n        ), 500\n\n\n@app.route(\"/health\")\ndef health():\n    # Health check endpoint - MUST NOT require database access\n    # ALB health checks will fail if this endpoint requires DB connection\n    # Returns 200 OK if Flask app is running (simple check)\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"running\",\n        \"timestamp\": datetime.now().isoformat()\n    }, 200\n\n\nif __name__ == \"__main__\":\n    try:\n        print(\"=== Client Management Application Starting ===\")\n        \n        # Start Flask IMMEDIATELY - don't block on database initialization\n        # Database will be initialized lazily on first request that needs it\n        # This ensures health checks work even if database is not ready\n        import threading\n        \n        def init_db_async():\n            \"\"\"Initialize database in background thread\"\"\"\n            try:\n                import time\n                time.sleep(5)  # Give Flask time to start first\n                print(\"Attempting database initialization in background...\")\n                init_database()\n                print(\" Database initialized successfully\")\n            except Exception as e:\n                print(f\"  Database initialization failed (will retry on first request): {e}\")\n        \n        # Start database initialization in background thread\n        db_thread = threading.Thread(target=init_db_async, daemon=True)\n        db_thread.start()\n        \n        print(\" Flask application starting (health check available immediately)\")\n        print(\"   Flask will listen on 0.0.0.0:80\")\n        app.run(host=\"0.0.0.0\", port=80, debug=False, threaded=True)\n    except Exception as e:\n        print(f\" CRITICAL: Flask failed to start: {e}\")\n        import traceback\n        traceback.print_exc()\n        raise\nCLIENT_APP\n\n# Install authbind to allow non-root user to bind to port 80\nsudo apt-get install -y authbind\n\n# Allow ubuntu user to bind to port 80\nsudo touch /etc/authbind/byport/80\nsudo chmod 500 /etc/authbind/byport/80\nsudo chown ubuntu:ubuntu /etc/authbind/byport/80\n\n# Create systemd service for Flask\ncat << SERVICE | sudo tee /etc/systemd/system/flaskapp.service\n[Unit]\nDescription=Client Management Flask Application\nAfter=network.target\n\n[Service]\nUser=ubuntu\nWorkingDirectory=/home/ubuntu/webapp\nEnvironment=\"SECRET_NAME=arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"\nEnvironment=\"AWS_REGION=us-east-1\"\nEnvironment=\"PATH=/usr/local/bin:/usr/bin:/bin\"\nExecStart=/usr/bin/authbind --deep /usr/bin/python3 /home/ubuntu/webapp/app.py\nRestart=on-failure\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=60\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# Enable and start Flask service\nsudo systemctl daemon-reload\nsudo systemctl enable flaskapp\n\n# Start Flask service\necho \"Starting Flask application...\"\nsudo systemctl start flaskapp\nsleep 10\n\n# Verify Flask is running\nif sudo systemctl is-active --quiet flaskapp; then\n    echo \" Flask service is running\"\n    sleep 2\n    if curl -f http://localhost/health > /dev/null 2>&1; then\n        echo \" Health endpoint is responding\"\n    else\n        echo \"  Health endpoint not responding yet, checking logs...\"\n        sudo journalctl -u flaskapp --no-pager -n 20 || true\n    fi\nelse\n    echo \" Flask service failed to start\"\n    echo \"Checking logs for errors...\"\n    sudo journalctl -u flaskapp --no-pager -n 50 || true\n    echo \"\"\n    echo \"  Flask service failed, but continuing userdata script...\"\n    echo \"Service will be retried by systemd with Restart=on-failure\"\n    echo \"You can check logs later with: sudo journalctl -u flaskapp -f\"\nfi\n\necho \"=== Client Management Application Setup Complete ===\"",
          "content_base64": null,
          "content_disposition": "",
          "content_encoding": "",
          "content_language": "",
          "content_type": "text/x-shellscript",
          "etag": "997b6435ce6d7f8eaaccd7d55dcb7e73",
          "force_destroy": false,
          "id": "scripts/userdata_client_app.sh",
          "key": "scripts/userdata_client_app.sh",
          "kms_key_id": null,
          "metadata": {},
          "object_lock_legal_hold_status": "",
          "object_lock_mode": "",
          "object_lock_retain_until_date": "",
          "override_provider": [],
          "server_side_encryption": "AES256",
          "source": null,
          "source_hash": null,
          "storage_class": "STANDARD",
          "tags": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "tags_all": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "version_id": "jyDvmEfJs2Urfvv7jnb1wdIftbKxK6Xh",
          "website_redirect": ""
        },
        "after_unknown": {},
        "before_sensitive": {
          "override_provider": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "metadata": {},
          "override_provider": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_secretsmanager_secret_version.db_credential",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "db_credential",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "has_secret_string_wo": null,
          "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a|terraform-2025121017425850300000000b",
          "secret_binary": "",
          "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "secret_string": "{\"dbname\":\"app_db\",\"engine\":\"postgres\",\"host\":\"web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":5432,\"username\":\"dbadmin\"}",
          "secret_string_wo": null,
          "secret_string_wo_version": null,
          "version_id": "terraform-2025121017425850300000000b",
          "version_stages": [
            "AWSCURRENT"
          ]
        },
        "after": {
          "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "has_secret_string_wo": null,
          "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a|terraform-2025121017425850300000000b",
          "secret_binary": "",
          "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "secret_string": "{\"dbname\":\"app_db\",\"engine\":\"postgres\",\"host\":\"web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":5432,\"username\":\"dbadmin\"}",
          "secret_string_wo": null,
          "secret_string_wo_version": null,
          "version_id": "terraform-2025121017425850300000000b",
          "version_stages": [
            "AWSPREVIOUS"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "secret_binary": true,
          "secret_string": true,
          "secret_string_wo": true,
          "version_stages": [
            false
          ]
        },
        "after_sensitive": {
          "secret_binary": true,
          "secret_string": true,
          "secret_string_wo": true,
          "version_stages": [
            false
          ]
        }
      }
    },
    {
      "address": "aws_security_group.app-server-sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "app-server-sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-009ab7c7d8df7eceb",
          "description": "Security Group for the app-server instances",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-009ab7c7d8df7eceb",
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "Allow HTTP from ALB",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [],
              "description": "Allow HTTPS from ALB",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 443
            }
          ],
          "name": "web-app-dev-instance-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-instance-sg"
          },
          "tags_all": {
            "Name": "web-app-dev-instance-sg"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-009ab7c7d8df7eceb",
          "description": "Security Group for the app-server instances",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-009ab7c7d8df7eceb",
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "Allow HTTP from ALB",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [],
              "description": "Allow HTTPS from ALB",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 443
            },
            {
              "cidr_blocks": [],
              "description": "Allow SSH from bastion host",
              "from_port": 22,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-0fe1c7c0045fffe5f"
              ],
              "self": false,
              "to_port": 22
            }
          ],
          "name": "web-app-dev-instance-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-instance-sg"
          },
          "tags_all": {
            "Name": "web-app-dev-instance-sg"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_default_network_acl.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_default_network_acl",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:network-acl/acl-09d75561178c59659",
          "default_network_acl_id": "acl-09d75561178c59659",
          "egress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "id": "acl-09d75561178c59659",
          "ingress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "owner_id": "211125336427",
          "subnet_ids": [
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb",
            "subnet-0587e1bf569e9ba82",
            "subnet-0aaa1627feff66ddf",
            "subnet-0ba5709102532ea5a"
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:network-acl/acl-09d75561178c59659",
          "default_network_acl_id": "acl-09d75561178c59659",
          "egress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "id": "acl-09d75561178c59659",
          "ingress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "owner_id": "211125336427",
          "subnet_ids": [
            "subnet-0257115d2a1ef35ea",
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb",
            "subnet-0587e1bf569e9ba82",
            "subnet-0aaa1627feff66ddf",
            "subnet-0ba5709102532ea5a"
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {},
            {}
          ],
          "ingress": [
            {},
            {}
          ],
          "subnet_ids": [
            false,
            false,
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {},
            {}
          ],
          "ingress": [
            {},
            {}
          ],
          "subnet_ids": [
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_default_route_table.default[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_default_route_table",
      "name": "default",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-044b5633fdaebb72d",
          "default_route_table_id": "rtb-044b5633fdaebb72d",
          "id": "rtb-044b5633fdaebb72d",
          "owner_id": "211125336427",
          "propagating_vgws": null,
          "route": [],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": {
            "create": "5m",
            "update": "5m"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-044b5633fdaebb72d",
          "default_route_table_id": "rtb-044b5633fdaebb72d",
          "id": "rtb-044b5633fdaebb72d",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": {
            "create": "5m",
            "update": "5m"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "route": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {}
        },
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_eip.nat[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "address": null,
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "arn": "arn:aws:ec2:us-east-1:211125336427:elastic-ip/eipalloc-0ca1ddd3756729ba8",
          "associate_with_private_ip": null,
          "association_id": "",
          "carrier_ip": "",
          "customer_owned_ip": "",
          "customer_owned_ipv4_pool": "",
          "domain": "vpc",
          "id": "eipalloc-0ca1ddd3756729ba8",
          "instance": "",
          "ipam_pool_id": null,
          "network_border_group": "us-east-1",
          "network_interface": "",
          "private_dns": null,
          "private_ip": "",
          "ptr_record": "",
          "public_dns": "ec2-18-210-208-127.compute-1.amazonaws.com",
          "public_ip": "18.210.208.127",
          "public_ipv4_pool": "amazon",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc": true
        },
        "after": {
          "address": null,
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "arn": "arn:aws:ec2:us-east-1:211125336427:elastic-ip/eipalloc-0ca1ddd3756729ba8",
          "associate_with_private_ip": null,
          "association_id": "eipassoc-03df71fc1245d42f4",
          "carrier_ip": "",
          "customer_owned_ip": "",
          "customer_owned_ipv4_pool": "",
          "domain": "vpc",
          "id": "eipalloc-0ca1ddd3756729ba8",
          "instance": "",
          "ipam_pool_id": null,
          "network_border_group": "us-east-1",
          "network_interface": "eni-0cfbbb29449a358a7",
          "private_dns": "ip-10-0-1-247.ec2.internal",
          "private_ip": "10.0.1.247",
          "ptr_record": "",
          "public_dns": "ec2-18-210-208-127.compute-1.amazonaws.com",
          "public_ip": "18.210.208.127",
          "public_ipv4_pool": "amazon",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc": true
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_nat_gateway.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "association_id": "eipassoc-03df71fc1245d42f4",
          "connectivity_type": "public",
          "id": "nat-09d5abcfcb652fc19",
          "network_interface_id": "eni-0cfbbb29449a358a7",
          "private_ip": "10.0.1.247",
          "public_ip": "18.210.208.127",
          "secondary_allocation_ids": null,
          "secondary_private_ip_address_count": 0,
          "secondary_private_ip_addresses": [],
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null
        },
        "after": {
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "association_id": "eipassoc-03df71fc1245d42f4",
          "connectivity_type": "public",
          "id": "nat-09d5abcfcb652fc19",
          "network_interface_id": "eni-0cfbbb29449a358a7",
          "private_ip": "10.0.1.247",
          "public_ip": "18.210.208.127",
          "secondary_allocation_ids": [],
          "secondary_private_ip_address_count": 0,
          "secondary_private_ip_addresses": [],
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "secondary_private_ip_addresses": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "secondary_allocation_ids": [],
          "secondary_private_ip_addresses": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-0847470e04bef136e",
          "id": "rtb-0847470e04bef136e",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-0847470e04bef136e",
          "id": "rtb-0847470e04bef136e",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "gateway_id": "",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "nat-09d5abcfcb652fc19",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-055d1aee5e7604d6b",
          "id": "rtb-055d1aee5e7604d6b",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-055d1aee5e7604d6b",
          "id": "rtb-055d1aee5e7604d6b",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "gateway_id": "igw-01b50c1d9ccca0886",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.database.module.db_instance.aws_db_instance.this[0]",
      "module_address": "module.database.module.db_instance",
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "address": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com",
          "allocated_storage": 20,
          "allow_major_version_upgrade": false,
          "apply_immediately": false,
          "arn": "arn:aws:rds:us-east-1:211125336427:db:web-app-dev-db-db",
          "auto_minor_version_upgrade": true,
          "availability_zone": "us-east-1a",
          "backup_retention_period": 7,
          "backup_target": "region",
          "backup_window": "00:00-03:00",
          "blue_green_update": [],
          "ca_cert_identifier": "rds-ca-rsa2048-g1",
          "character_set_name": "",
          "copy_tags_to_snapshot": false,
          "custom_iam_instance_profile": "",
          "customer_owned_ip_enabled": false,
          "database_insights_mode": "standard",
          "db_name": "app_db",
          "db_subnet_group_name": "dev-vpc",
          "dedicated_log_volume": false,
          "delete_automated_backups": true,
          "deletion_protection": false,
          "domain": "",
          "domain_auth_secret_arn": "",
          "domain_dns_ips": null,
          "domain_fqdn": "",
          "domain_iam_role_name": "",
          "domain_ou": "",
          "enabled_cloudwatch_logs_exports": null,
          "endpoint": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com:5432",
          "engine": "postgres",
          "engine_lifecycle_support": "open-source-rds-extended-support",
          "engine_version": "16.11",
          "engine_version_actual": "16.11",
          "final_snapshot_identifier": null,
          "hosted_zone_id": "Z2R2ITUGPM61AM",
          "iam_database_authentication_enabled": false,
          "id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "identifier": "web-app-dev-db-db",
          "identifier_prefix": "",
          "instance_class": "db.t3.micro",
          "iops": 0,
          "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/b18b28a3-e535-46b1-ba2d-5b133d648613",
          "latest_restorable_time": "2025-12-10T17:41:10Z",
          "license_model": "postgresql-license",
          "listener_endpoint": [],
          "maintenance_window": "mon:03:25-mon:03:55",
          "manage_master_user_password": true,
          "master_user_secret": [
            {
              "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/c38f0f90-5203-454e-9074-d8d29853d4b3",
              "secret_arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi",
              "secret_status": "active"
            }
          ],
          "master_user_secret_kms_key_id": null,
          "max_allocated_storage": 100,
          "monitoring_interval": 0,
          "monitoring_role_arn": "",
          "multi_az": false,
          "nchar_character_set_name": "",
          "network_type": "IPV4",
          "option_group_name": "default:postgres-16",
          "parameter_group_name": "default.postgres16",
          "password": null,
          "password_wo": null,
          "password_wo_version": null,
          "performance_insights_enabled": false,
          "performance_insights_kms_key_id": "",
          "performance_insights_retention_period": 0,
          "port": 5432,
          "publicly_accessible": false,
          "replica_mode": "",
          "replicas": [],
          "replicate_source_db": "",
          "resource_id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "restore_to_point_in_time": [],
          "s3_import": [],
          "skip_final_snapshot": true,
          "snapshot_identifier": null,
          "status": "available",
          "storage_encrypted": true,
          "storage_throughput": 0,
          "storage_type": "gp2",
          "tags": {
            "Name": "web-app-dev-db-157021"
          },
          "tags_all": {
            "Name": "web-app-dev-db-157021"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "timezone": "",
          "upgrade_storage_config": null,
          "username": "dbadmin",
          "vpc_security_group_ids": [
            "sg-0aeb90adbedae575c"
          ]
        },
        "after": {
          "address": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com",
          "allocated_storage": 20,
          "allow_major_version_upgrade": false,
          "apply_immediately": false,
          "arn": "arn:aws:rds:us-east-1:211125336427:db:web-app-dev-db-db",
          "auto_minor_version_upgrade": true,
          "availability_zone": "us-east-1a",
          "backup_retention_period": 7,
          "backup_target": "region",
          "backup_window": "00:00-03:00",
          "blue_green_update": [],
          "ca_cert_identifier": "rds-ca-rsa2048-g1",
          "character_set_name": "",
          "copy_tags_to_snapshot": false,
          "custom_iam_instance_profile": "",
          "customer_owned_ip_enabled": false,
          "database_insights_mode": "standard",
          "db_name": "app_db",
          "db_subnet_group_name": "dev-vpc",
          "dedicated_log_volume": false,
          "delete_automated_backups": true,
          "deletion_protection": false,
          "domain": "",
          "domain_auth_secret_arn": "",
          "domain_dns_ips": [],
          "domain_fqdn": "",
          "domain_iam_role_name": "",
          "domain_ou": "",
          "enabled_cloudwatch_logs_exports": [],
          "endpoint": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com:5432",
          "engine": "postgres",
          "engine_lifecycle_support": "open-source-rds-extended-support",
          "engine_version": "16.11",
          "engine_version_actual": "16.11",
          "final_snapshot_identifier": null,
          "hosted_zone_id": "Z2R2ITUGPM61AM",
          "iam_database_authentication_enabled": false,
          "id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "identifier": "web-app-dev-db-db",
          "identifier_prefix": "",
          "instance_class": "db.t3.micro",
          "iops": 0,
          "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/b18b28a3-e535-46b1-ba2d-5b133d648613",
          "latest_restorable_time": "2025-12-10T19:09:33Z",
          "license_model": "postgresql-license",
          "listener_endpoint": [],
          "maintenance_window": "mon:03:25-mon:03:55",
          "manage_master_user_password": true,
          "master_user_secret": [
            {
              "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/c38f0f90-5203-454e-9074-d8d29853d4b3",
              "secret_arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi",
              "secret_status": "active"
            }
          ],
          "master_user_secret_kms_key_id": null,
          "max_allocated_storage": 100,
          "monitoring_interval": 0,
          "monitoring_role_arn": "",
          "multi_az": false,
          "nchar_character_set_name": "",
          "network_type": "IPV4",
          "option_group_name": "default:postgres-16",
          "parameter_group_name": "default.postgres16",
          "password": null,
          "password_wo": null,
          "password_wo_version": null,
          "performance_insights_enabled": false,
          "performance_insights_kms_key_id": "",
          "performance_insights_retention_period": 0,
          "port": 5432,
          "publicly_accessible": false,
          "replica_mode": "",
          "replicas": [],
          "replicate_source_db": "",
          "resource_id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "restore_to_point_in_time": [],
          "s3_import": [],
          "skip_final_snapshot": true,
          "snapshot_identifier": null,
          "status": "available",
          "storage_encrypted": true,
          "storage_throughput": 0,
          "storage_type": "gp2",
          "tags": {
            "Name": "web-app-dev-db-157021"
          },
          "tags_all": {
            "Name": "web-app-dev-db-157021"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "timezone": "",
          "upgrade_storage_config": null,
          "username": "dbadmin",
          "vpc_security_group_ids": [
            "sg-0aeb90adbedae575c"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "blue_green_update": [],
          "listener_endpoint": [],
          "master_user_secret": [
            {}
          ],
          "password": true,
          "password_wo": true,
          "replicas": [],
          "restore_to_point_in_time": [],
          "s3_import": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_security_group_ids": [
            false
          ]
        },
        "after_sensitive": {
          "blue_green_update": [],
          "domain_dns_ips": [],
          "enabled_cloudwatch_logs_exports": [],
          "listener_endpoint": [],
          "master_user_secret": [
            {}
          ],
          "password": true,
          "password_wo": true,
          "replicas": [],
          "restore_to_point_in_time": [],
          "s3_import": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_security_group_ids": [
            false
          ]
        }
      }
    }
  ],
  "resource_changes": [
    {
      "address": "aws_acm_certificate.app-server-cert",
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "app-server-cert",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "certificate_authority_arn": "",
          "certificate_body": null,
          "certificate_chain": null,
          "domain_name": "dev.211125336427.realhandsonlabs.net",
          "domain_validation_options": [
            {
              "domain_name": "dev.211125336427.realhandsonlabs.net",
              "resource_record_name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net.",
              "resource_record_type": "CNAME",
              "resource_record_value": "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
            }
          ],
          "early_renewal_duration": "",
          "id": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "key_algorithm": "RSA_2048",
          "not_after": "2027-01-08T23:59:59Z",
          "not_before": "2025-12-10T00:00:00Z",
          "options": [
            {
              "certificate_transparency_logging_preference": "ENABLED"
            }
          ],
          "pending_renewal": false,
          "private_key": null,
          "renewal_eligibility": "ELIGIBLE",
          "renewal_summary": [],
          "status": "ISSUED",
          "subject_alternative_names": [
            "dev.211125336427.realhandsonlabs.net"
          ],
          "tags": {
            "Name": "web-app-dev-ssl-cert"
          },
          "tags_all": {
            "Name": "web-app-dev-ssl-cert"
          },
          "type": "AMAZON_ISSUED",
          "validation_emails": [],
          "validation_method": "DNS",
          "validation_option": []
        },
        "after": {
          "arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "certificate_authority_arn": "",
          "certificate_body": null,
          "certificate_chain": null,
          "domain_name": "dev.211125336427.realhandsonlabs.net",
          "domain_validation_options": [
            {
              "domain_name": "dev.211125336427.realhandsonlabs.net",
              "resource_record_name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net.",
              "resource_record_type": "CNAME",
              "resource_record_value": "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
            }
          ],
          "early_renewal_duration": "",
          "id": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "key_algorithm": "RSA_2048",
          "not_after": "2027-01-08T23:59:59Z",
          "not_before": "2025-12-10T00:00:00Z",
          "options": [
            {
              "certificate_transparency_logging_preference": "ENABLED"
            }
          ],
          "pending_renewal": false,
          "private_key": null,
          "renewal_eligibility": "ELIGIBLE",
          "renewal_summary": [],
          "status": "ISSUED",
          "subject_alternative_names": [
            "dev.211125336427.realhandsonlabs.net"
          ],
          "tags": {
            "Name": "web-app-dev-ssl-cert"
          },
          "tags_all": {
            "Name": "web-app-dev-ssl-cert"
          },
          "type": "AMAZON_ISSUED",
          "validation_emails": [],
          "validation_method": "DNS",
          "validation_option": []
        },
        "after_unknown": {},
        "before_sensitive": {
          "domain_validation_options": [
            {}
          ],
          "options": [
            {}
          ],
          "private_key": true,
          "renewal_summary": [],
          "subject_alternative_names": [
            false
          ],
          "tags": {},
          "tags_all": {},
          "validation_emails": [],
          "validation_option": []
        },
        "after_sensitive": {
          "domain_validation_options": [
            {}
          ],
          "options": [
            {}
          ],
          "private_key": true,
          "renewal_summary": [],
          "subject_alternative_names": [
            false
          ],
          "tags": {},
          "tags_all": {},
          "validation_emails": [],
          "validation_option": []
        }
      }
    },
    {
      "address": "aws_acm_certificate_validation.app-server-cert-validation",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "app-server-cert-validation",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "id": "2025-12-10 17:34:11.163 +0000 UTC",
          "timeouts": null,
          "validation_record_fqdns": [
            "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net"
          ]
        },
        "after": {
          "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "id": "2025-12-10 17:34:11.163 +0000 UTC",
          "timeouts": null,
          "validation_record_fqdns": [
            "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "validation_record_fqdns": [
            false
          ]
        },
        "after_sensitive": {
          "validation_record_fqdns": [
            false
          ]
        }
      }
    },
    {
      "address": "aws_autoscaling_group.app-server-asg",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "app-server-asg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:autoscaling:us-east-1:211125336427:autoScalingGroup:37baf768-dba8-458d-9bf5-5ac5e8e75037:autoScalingGroupName/web-app-dev-asg",
          "availability_zone_distribution": [
            {
              "capacity_distribution_strategy": "balanced-best-effort"
            }
          ],
          "availability_zones": [
            "us-east-1a",
            "us-east-1b"
          ],
          "capacity_rebalance": false,
          "capacity_reservation_specification": [
            {
              "capacity_reservation_preference": "default",
              "capacity_reservation_target": []
            }
          ],
          "context": "",
          "default_cooldown": 300,
          "default_instance_warmup": 0,
          "desired_capacity": 1,
          "desired_capacity_type": "",
          "enabled_metrics": [],
          "force_delete": false,
          "force_delete_warm_pool": false,
          "health_check_grace_period": 600,
          "health_check_type": "ELB",
          "id": "web-app-dev-asg",
          "ignore_failed_scaling_activities": false,
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "auto_rollback": true,
                  "checkpoint_delay": "",
                  "checkpoint_percentages": [],
                  "instance_warmup": "120",
                  "max_healthy_percentage": 100,
                  "min_healthy_percentage": 50,
                  "scale_in_protected_instances": "Ignore",
                  "skip_matching": true,
                  "standby_instances": "Ignore"
                }
              ],
              "strategy": "Rolling",
              "triggers": []
            }
          ],
          "launch_configuration": "",
          "launch_template": [
            {
              "id": "lt-0906519c6427ecc9c",
              "name": "web-app-dev-lt-lt-157021",
              "version": "1"
            }
          ],
          "load_balancers": [],
          "max_instance_lifetime": 0,
          "max_size": 2,
          "metrics_granularity": "1Minute",
          "min_elb_capacity": null,
          "min_size": 1,
          "mixed_instances_policy": [],
          "name": "web-app-dev-asg",
          "name_prefix": "",
          "placement_group": "",
          "predicted_capacity": 0,
          "protect_from_scale_in": false,
          "service_linked_role_arn": "arn:aws:iam::211125336427:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
          "suspended_processes": [],
          "tag": [
            {
              "key": "Name",
              "propagate_at_launch": true,
              "value": "web-app-dev-instance"
            }
          ],
          "target_group_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881"
          ],
          "termination_policies": [
            "OldestInstance",
            "Default"
          ],
          "timeouts": null,
          "traffic_source": [
            {
              "identifier": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "elbv2"
            }
          ],
          "vpc_zone_identifier": [
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb"
          ],
          "wait_for_capacity_timeout": "10m",
          "wait_for_elb_capacity": null,
          "warm_pool": [],
          "warm_pool_size": 0
        },
        "after": {
          "arn": "arn:aws:autoscaling:us-east-1:211125336427:autoScalingGroup:37baf768-dba8-458d-9bf5-5ac5e8e75037:autoScalingGroupName/web-app-dev-asg",
          "availability_zone_distribution": [
            {
              "capacity_distribution_strategy": "balanced-best-effort"
            }
          ],
          "availability_zones": [
            "us-east-1a",
            "us-east-1b"
          ],
          "capacity_rebalance": false,
          "capacity_reservation_specification": [
            {
              "capacity_reservation_preference": "default",
              "capacity_reservation_target": []
            }
          ],
          "context": "",
          "default_cooldown": 300,
          "default_instance_warmup": 0,
          "desired_capacity": 1,
          "desired_capacity_type": "",
          "enabled_metrics": [],
          "force_delete": false,
          "force_delete_warm_pool": false,
          "health_check_grace_period": 600,
          "health_check_type": "ELB",
          "id": "web-app-dev-asg",
          "ignore_failed_scaling_activities": false,
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "auto_rollback": true,
                  "checkpoint_delay": "",
                  "checkpoint_percentages": [],
                  "instance_warmup": "120",
                  "max_healthy_percentage": 100,
                  "min_healthy_percentage": 50,
                  "scale_in_protected_instances": "Ignore",
                  "skip_matching": true,
                  "standby_instances": "Ignore"
                }
              ],
              "strategy": "Rolling",
              "triggers": []
            }
          ],
          "launch_configuration": "",
          "launch_template": [
            {
              "id": "lt-0906519c6427ecc9c",
              "name": "web-app-dev-lt-lt-157021",
              "version": "1"
            }
          ],
          "load_balancers": [],
          "max_instance_lifetime": 0,
          "max_size": 2,
          "metrics_granularity": "1Minute",
          "min_elb_capacity": null,
          "min_size": 1,
          "mixed_instances_policy": [],
          "name": "web-app-dev-asg",
          "name_prefix": "",
          "placement_group": "",
          "predicted_capacity": 0,
          "protect_from_scale_in": false,
          "service_linked_role_arn": "arn:aws:iam::211125336427:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
          "suspended_processes": [],
          "tag": [
            {
              "key": "Name",
              "propagate_at_launch": true,
              "value": "web-app-dev-instance"
            }
          ],
          "target_group_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881"
          ],
          "termination_policies": [
            "OldestInstance",
            "Default"
          ],
          "timeouts": null,
          "traffic_source": [
            {
              "identifier": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "elbv2"
            }
          ],
          "vpc_zone_identifier": [
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb"
          ],
          "wait_for_capacity_timeout": "10m",
          "wait_for_elb_capacity": null,
          "warm_pool": [],
          "warm_pool_size": 0
        },
        "after_unknown": {},
        "before_sensitive": {
          "availability_zone_distribution": [
            {}
          ],
          "availability_zones": [
            false,
            false
          ],
          "capacity_reservation_specification": [
            {
              "capacity_reservation_target": []
            }
          ],
          "enabled_metrics": [],
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "checkpoint_percentages": []
                }
              ],
              "triggers": []
            }
          ],
          "launch_template": [
            {}
          ],
          "load_balancers": [],
          "mixed_instances_policy": [],
          "suspended_processes": [],
          "tag": [
            {}
          ],
          "target_group_arns": [
            false
          ],
          "termination_policies": [
            false,
            false
          ],
          "traffic_source": [
            {}
          ],
          "vpc_zone_identifier": [
            false,
            false
          ],
          "warm_pool": []
        },
        "after_sensitive": {
          "availability_zone_distribution": [
            {}
          ],
          "availability_zones": [
            false,
            false
          ],
          "capacity_reservation_specification": [
            {
              "capacity_reservation_target": []
            }
          ],
          "enabled_metrics": [],
          "initial_lifecycle_hook": [],
          "instance_maintenance_policy": [],
          "instance_refresh": [
            {
              "preferences": [
                {
                  "alarm_specification": [],
                  "checkpoint_percentages": []
                }
              ],
              "triggers": []
            }
          ],
          "launch_template": [
            {}
          ],
          "load_balancers": [],
          "mixed_instances_policy": [],
          "suspended_processes": [],
          "tag": [
            {}
          ],
          "target_group_arns": [
            false
          ],
          "termination_policies": [
            false,
            false
          ],
          "traffic_source": [
            {}
          ],
          "vpc_zone_identifier": [
            false,
            false
          ],
          "warm_pool": []
        }
      }
    },
    {
      "address": "aws_iam_instance_profile.app-server-instance-profile",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "app-server-instance-profile",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:instance-profile/web-app-dev-instance-profile",
          "create_date": "2025-12-10T17:33:53Z",
          "id": "web-app-dev-instance-profile",
          "name": "web-app-dev-instance-profile",
          "name_prefix": "",
          "path": "/",
          "role": "web-app-dev-role",
          "tags": {
            "name": "web-app-dev-instance-profile"
          },
          "tags_all": {
            "name": "web-app-dev-instance-profile"
          },
          "unique_id": "AIPATCKAM7FVXGFEZNHXR"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:instance-profile/web-app-dev-instance-profile",
          "create_date": "2025-12-10T17:33:53Z",
          "id": "web-app-dev-instance-profile",
          "name": "web-app-dev-instance-profile",
          "name_prefix": "",
          "path": "/",
          "role": "web-app-dev-role",
          "tags": {
            "name": "web-app-dev-instance-profile"
          },
          "tags_all": {
            "name": "web-app-dev-instance-profile"
          },
          "unique_id": "AIPATCKAM7FVXGFEZNHXR"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_instance_profile.ssm_instance_profile",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "ssm_instance_profile",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:instance-profile/ssm-instance-profile",
          "create_date": "2025-12-10T17:33:53Z",
          "id": "ssm-instance-profile",
          "name": "ssm-instance-profile",
          "name_prefix": "",
          "path": "/",
          "role": "ssm-role",
          "tags": {},
          "tags_all": {},
          "unique_id": "AIPATCKAM7FV7RJGPYVU3"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:instance-profile/ssm-instance-profile",
          "create_date": "2025-12-10T17:33:53Z",
          "id": "ssm-instance-profile",
          "name": "ssm-instance-profile",
          "name_prefix": "",
          "path": "/",
          "role": "ssm-role",
          "tags": {},
          "tags_all": {},
          "unique_id": "AIPATCKAM7FV7RJGPYVU3"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_policy.app-server-policy",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "app-server-policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "attachment_count": 1,
          "description": "",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "name": "web-app-dev-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021\"},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"},{\"Action\":[\"ssm:StartSession\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:instance/*\",\"arn:aws:ssm:*:*:document/AWS-StartSSHSession\",\"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"]},{\"Action\":[\"ssm:DescribeInstanceInformation\",\"ssm:DescribeInstanceProperties\",\"ssm:DescribeSessions\",\"ssm:GetConnectionStatus\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeInstances\",\"ec2:DescribeInstanceStatus\",\"ec2:DescribeInstanceAttribute\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3WMIZO273",
          "tags": {},
          "tags_all": {}
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "attachment_count": 1,
          "description": "",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "name": "web-app-dev-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021\"},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"},{\"Action\":[\"ssm:StartSession\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:instance/*\",\"arn:aws:ssm:*:*:document/AWS-StartSSHSession\",\"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"]},{\"Action\":[\"ssm:DescribeInstanceInformation\",\"ssm:DescribeInstanceProperties\",\"ssm:DescribeSessions\",\"ssm:GetConnectionStatus\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeInstances\",\"ec2:DescribeInstanceStatus\",\"ec2:DescribeInstanceAttribute\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3WMIZO273",
          "tags": {},
          "tags_all": {}
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_policy.secrets_manager_read",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "secrets_manager_read",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "attachment_count": 1,
          "description": "Policy to allow EC2 instances to read database credentials from Secrets Manager",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "name": "web-app-dev-secrets-read-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\",\"arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi\"]}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3GSJZIBKZ",
          "tags": {
            "Name": "web-app-dev-secrets-read-policy"
          },
          "tags_all": {
            "Name": "web-app-dev-secrets-read-policy"
          }
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "attachment_count": 1,
          "description": "Policy to allow EC2 instances to read database credentials from Secrets Manager",
          "id": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "name": "web-app-dev-secrets-read-policy",
          "name_prefix": "",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\",\"arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi\"]}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPATCKAM7FV3GSJZIBKZ",
          "tags": {
            "Name": "web-app-dev-secrets-read-policy"
          },
          "tags_all": {
            "Name": "web-app-dev-secrets-read-policy"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role.app-server-role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "app-server-role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:role/web-app-dev-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "web-app-dev-role",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::211125336427:policy/web-app-dev-policy",
            "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
            "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
          ],
          "max_session_duration": 3600,
          "name": "web-app-dev-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {
            "name": "web-app-dev-role"
          },
          "tags_all": {
            "name": "web-app-dev-role"
          },
          "unique_id": "AROATCKAM7FV536YUY4AK"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:role/web-app-dev-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "web-app-dev-role",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::211125336427:policy/web-app-dev-policy",
            "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
            "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
          ],
          "max_session_duration": 3600,
          "name": "web-app-dev-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {
            "name": "web-app-dev-role"
          },
          "tags_all": {
            "name": "web-app-dev-role"
          },
          "unique_id": "AROATCKAM7FV536YUY4AK"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role.ssm_role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ssm_role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::211125336427:role/ssm-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ssm-role",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
          ],
          "max_session_duration": 3600,
          "name": "ssm-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {},
          "tags_all": {},
          "unique_id": "AROATCKAM7FV5PRYDL7WF"
        },
        "after": {
          "arn": "arn:aws:iam::211125336427:role/ssm-role",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-12-10T17:33:52Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ssm-role",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
          ],
          "max_session_duration": 3600,
          "name": "ssm-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": "",
          "tags": {},
          "tags_all": {},
          "unique_id": "AROATCKAM7FV5PRYDL7WF"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.app-server-role-policy-attachment",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "app-server-role-policy-attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "web-app-dev-role-20251210173353992600000005",
          "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "role": "web-app-dev-role"
        },
        "after": {
          "id": "web-app-dev-role-20251210173353992600000005",
          "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
          "role": "web-app-dev-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.app-server-role-ssm-attachment",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "app-server-role-ssm-attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "web-app-dev-role-20251210173353204900000004",
          "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
          "role": "web-app-dev-role"
        },
        "after": {
          "id": "web-app-dev-role-20251210173353204900000004",
          "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
          "role": "web-app-dev-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.secrets_manager_read",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "secrets_manager_read",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "web-app-dev-role-2025121017425347160000000a",
          "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "role": "web-app-dev-role"
        },
        "after": {
          "id": "web-app-dev-role-2025121017425347160000000a",
          "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
          "role": "web-app-dev-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.ssm_attach",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ssm_attach",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "ssm-role-20251210173353096200000003",
          "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
          "role": "ssm-role"
        },
        "after": {
          "id": "ssm-role-20251210173353096200000003",
          "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
          "role": "ssm-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_instance.bastion[0]",
      "mode": "managed",
      "type": "aws_instance",
      "name": "bastion",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "ami": "ami-0c1f44f890950b53c",
          "arn": "arn:aws:ec2:us-east-1:211125336427:instance/i-013c15bb6a15f5186",
          "associate_public_ip_address": true,
          "availability_zone": "us-east-1a",
          "capacity_reservation_specification": [
            {
              "capacity_reservation_preference": "open",
              "capacity_reservation_target": []
            }
          ],
          "cpu_core_count": 1,
          "cpu_options": [
            {
              "amd_sev_snp": "",
              "core_count": 1,
              "threads_per_core": 2
            }
          ],
          "cpu_threads_per_core": 2,
          "credit_specification": [
            {
              "cpu_credits": "unlimited"
            }
          ],
          "disable_api_stop": false,
          "disable_api_termination": false,
          "ebs_block_device": [],
          "ebs_optimized": false,
          "enable_primary_ipv6": null,
          "enclave_options": [
            {
              "enabled": false
            }
          ],
          "ephemeral_block_device": [],
          "get_password_data": false,
          "hibernation": false,
          "host_id": "",
          "host_resource_group_arn": null,
          "iam_instance_profile": "web-app-dev-instance-profile",
          "id": "i-013c15bb6a15f5186",
          "instance_initiated_shutdown_behavior": "stop",
          "instance_lifecycle": "",
          "instance_market_options": [],
          "instance_state": "running",
          "instance_type": "t3.micro",
          "ipv6_address_count": 0,
          "ipv6_addresses": [],
          "key_name": "",
          "launch_template": [],
          "maintenance_options": [
            {
              "auto_recovery": "default"
            }
          ],
          "metadata_options": [
            {
              "http_endpoint": "enabled",
              "http_protocol_ipv6": "disabled",
              "http_put_response_hop_limit": 2,
              "http_tokens": "required",
              "instance_metadata_tags": "disabled"
            }
          ],
          "monitoring": false,
          "network_interface": [],
          "outpost_arn": "",
          "password_data": "",
          "placement_group": "",
          "placement_partition_number": 0,
          "primary_network_interface_id": "eni-029d15f0576428dd7",
          "private_dns": "ip-10-0-1-249.ec2.internal",
          "private_dns_name_options": [
            {
              "enable_resource_name_dns_a_record": false,
              "enable_resource_name_dns_aaaa_record": false,
              "hostname_type": "ip-name"
            }
          ],
          "private_ip": "10.0.1.249",
          "public_dns": "ec2-3-80-112-34.compute-1.amazonaws.com",
          "public_ip": "3.80.112.34",
          "root_block_device": [
            {
              "delete_on_termination": true,
              "device_name": "/dev/sda1",
              "encrypted": false,
              "iops": 3000,
              "kms_key_id": "",
              "tags": {},
              "tags_all": {},
              "throughput": 125,
              "volume_id": "vol-0272bc9303f01ae45",
              "volume_size": 8,
              "volume_type": "gp3"
            }
          ],
          "secondary_private_ips": [],
          "security_groups": [],
          "source_dest_check": true,
          "spot_instance_request_id": "",
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "tags": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "tags_all": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "tenancy": "default",
          "timeouts": null,
          "user_data": "b2a1bccdbe9bbc2b9692b37a8b7f1b040f3f2f72",
          "user_data_base64": null,
          "user_data_replace_on_change": false,
          "volume_tags": null,
          "vpc_security_group_ids": [
            "sg-0fe1c7c0045fffe5f"
          ]
        },
        "after": {
          "ami": "ami-0c1f44f890950b53c",
          "arn": "arn:aws:ec2:us-east-1:211125336427:instance/i-013c15bb6a15f5186",
          "associate_public_ip_address": true,
          "availability_zone": "us-east-1a",
          "capacity_reservation_specification": [
            {
              "capacity_reservation_preference": "open",
              "capacity_reservation_target": []
            }
          ],
          "cpu_core_count": 1,
          "cpu_options": [
            {
              "amd_sev_snp": "",
              "core_count": 1,
              "threads_per_core": 2
            }
          ],
          "cpu_threads_per_core": 2,
          "credit_specification": [
            {
              "cpu_credits": "unlimited"
            }
          ],
          "disable_api_stop": false,
          "disable_api_termination": false,
          "ebs_block_device": [],
          "ebs_optimized": false,
          "enable_primary_ipv6": null,
          "enclave_options": [
            {
              "enabled": false
            }
          ],
          "ephemeral_block_device": [],
          "get_password_data": false,
          "hibernation": false,
          "host_id": "",
          "host_resource_group_arn": null,
          "iam_instance_profile": "web-app-dev-instance-profile",
          "id": "i-013c15bb6a15f5186",
          "instance_initiated_shutdown_behavior": "stop",
          "instance_lifecycle": "",
          "instance_market_options": [],
          "instance_state": "running",
          "instance_type": "t3.micro",
          "ipv6_address_count": 0,
          "ipv6_addresses": [],
          "key_name": "",
          "launch_template": [],
          "maintenance_options": [
            {
              "auto_recovery": "default"
            }
          ],
          "metadata_options": [
            {
              "http_endpoint": "enabled",
              "http_protocol_ipv6": "disabled",
              "http_put_response_hop_limit": 2,
              "http_tokens": "required",
              "instance_metadata_tags": "disabled"
            }
          ],
          "monitoring": false,
          "network_interface": [],
          "outpost_arn": "",
          "password_data": "",
          "placement_group": "",
          "placement_partition_number": 0,
          "primary_network_interface_id": "eni-029d15f0576428dd7",
          "private_dns": "ip-10-0-1-249.ec2.internal",
          "private_dns_name_options": [
            {
              "enable_resource_name_dns_a_record": false,
              "enable_resource_name_dns_aaaa_record": false,
              "hostname_type": "ip-name"
            }
          ],
          "private_ip": "10.0.1.249",
          "public_dns": "ec2-3-80-112-34.compute-1.amazonaws.com",
          "public_ip": "3.80.112.34",
          "root_block_device": [
            {
              "delete_on_termination": true,
              "device_name": "/dev/sda1",
              "encrypted": false,
              "iops": 3000,
              "kms_key_id": "",
              "tags": {},
              "tags_all": {},
              "throughput": 125,
              "volume_id": "vol-0272bc9303f01ae45",
              "volume_size": 8,
              "volume_type": "gp3"
            }
          ],
          "secondary_private_ips": [],
          "security_groups": [],
          "source_dest_check": true,
          "spot_instance_request_id": "",
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "tags": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "tags_all": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "tenancy": "default",
          "timeouts": null,
          "user_data": "b2a1bccdbe9bbc2b9692b37a8b7f1b040f3f2f72",
          "user_data_base64": null,
          "user_data_replace_on_change": false,
          "volume_tags": null,
          "vpc_security_group_ids": [
            "sg-0fe1c7c0045fffe5f"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "capacity_reservation_specification": [
            {
              "capacity_reservation_target": []
            }
          ],
          "cpu_options": [
            {}
          ],
          "credit_specification": [
            {}
          ],
          "ebs_block_device": [],
          "enclave_options": [
            {}
          ],
          "ephemeral_block_device": [],
          "instance_market_options": [],
          "ipv6_addresses": [],
          "launch_template": [],
          "maintenance_options": [
            {}
          ],
          "metadata_options": [
            {}
          ],
          "network_interface": [],
          "private_dns_name_options": [
            {}
          ],
          "root_block_device": [
            {
              "tags": {},
              "tags_all": {}
            }
          ],
          "secondary_private_ips": [],
          "security_groups": [],
          "tags": {},
          "tags_all": {},
          "vpc_security_group_ids": [
            false
          ]
        },
        "after_sensitive": {
          "capacity_reservation_specification": [
            {
              "capacity_reservation_target": []
            }
          ],
          "cpu_options": [
            {}
          ],
          "credit_specification": [
            {}
          ],
          "ebs_block_device": [],
          "enclave_options": [
            {}
          ],
          "ephemeral_block_device": [],
          "instance_market_options": [],
          "ipv6_addresses": [],
          "launch_template": [],
          "maintenance_options": [
            {}
          ],
          "metadata_options": [
            {}
          ],
          "network_interface": [],
          "private_dns_name_options": [
            {}
          ],
          "root_block_device": [
            {
              "tags": {},
              "tags_all": {}
            }
          ],
          "secondary_private_ips": [],
          "security_groups": [],
          "tags": {},
          "tags_all": {},
          "vpc_security_group_ids": [
            false
          ]
        }
      }
    },
    {
      "address": "aws_launch_template.app-server-lt",
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "app-server-lt",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:launch-template/lt-0906519c6427ecc9c",
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "default_version": 1,
          "description": "",
          "disable_api_stop": false,
          "disable_api_termination": false,
          "ebs_optimized": "",
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {
              "arn": "",
              "name": "web-app-dev-instance-profile"
            }
          ],
          "id": "lt-0906519c6427ecc9c",
          "image_id": "ami-0c1f44f890950b53c",
          "instance_initiated_shutdown_behavior": "",
          "instance_market_options": [],
          "instance_requirements": [],
          "instance_type": "t3.micro",
          "kernel_id": "",
          "key_name": "",
          "latest_version": 1,
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "name": "web-app-dev-lt-lt-157021",
          "name_prefix": "",
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "ram_disk_id": "",
          "security_group_names": [],
          "tag_specifications": [
            {
              "resource_type": "volume",
              "tags": {
                "Name": "web-app-dev-instance-volume"
              }
            }
          ],
          "tags": {},
          "tags_all": {},
          "update_default_version": true,
          "user_data": "IyEvYmluL2Jhc2gKIyBCb290c3RyYXAgc2NyaXB0IC0gZG93bmxvYWRzIGFuZCBleGVjdXRlcyB0aGUgZnVsbCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwojIFRoaXMgc2NyaXB0IG11c3QgcmVtYWluIHVuZGVyIDE2S0IgdG8gZml0IGluIEVDMiB1c2VyX2RhdGEKCiMgRG9uJ3QgdXNlICdzZXQgLWUnIC0gd2Ugd2FudCB0byBjb250aW51ZSBhbmQgbG9nIGVycm9ycyBpbnN0ZWFkIG9mIGV4aXRpbmcKIyBMb2cgZXZlcnl0aGluZyBmb3IgZGVidWdnaW5nCmV4ZWMgPiA+KHRlZSAtYSAvdmFyL2xvZy9ib290c3RyYXAubG9nfGxvZ2dlciAtdCBib290c3RyYXAgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCiMgQ29uZmlndXJhdGlvbiAtIHRoZXNlIHdpbGwgYmUgaW5qZWN0ZWQgYnkgVGVycmFmb3JtIHRlbXBsYXRlClMzX0tFWT0ic2NyaXB0cy91c2VyZGF0YV9jbGllbnRfYXBwLnNoIgoKZWNobyAiPT09IEJvb3RzdHJhcCBTY3JpcHQgU3RhcnRpbmcgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIlMzIEJ1Y2tldDogZGV2LXdlYi1hcHAtMTU3MDIxIgplY2hvICJTMyBLZXk6ICR7UzNfS0VZfSIKZWNobyAiUmVnaW9uOiB1cy1lYXN0LTEiCgojIEluc3RhbGwgQVdTIENMSSBpZiBub3QgcHJlc2VudAppZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbDsgdGhlbgogICAgZWNobyAiSW5zdGFsbGluZyBBV1MgQ0xJLi4uIgogICAgCiAgICAjIFRyeSBzbmFwIGZpcnN0IChkb2Vzbid0IHJlcXVpcmUgYXB0IHJlcG9zaXRvcmllcywgd29ya3MgZXZlbiB3aXRoIG5ldHdvcmsgaXNzdWVzKQogICAgaWYgY29tbWFuZCAtdiBzbmFwICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gIlRyeWluZyB0byBpbnN0YWxsIEFXUyBDTEkgdmlhIHNuYXAuLi4iCiAgICAgICAgaWYgc3VkbyBzbmFwIGluc3RhbGwgYXdzLWNsaSAtLWNsYXNzaWMgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBzbmFwIgogICAgICAgICAgICAjIEVuc3VyZSBzbmFwIGJpbiBpcyBpbiBQQVRICiAgICAgICAgICAgIGV4cG9ydCBQQVRIPSIvc25hcC9iaW46JFBBVEgiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIFNuYXAgaW5zdGFsbCBmYWlsZWQsIHRyeWluZyBhcHQuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmFsbGJhY2sgdG8gYXB0IGlmIHNuYXAgZGlkbid0IHdvcmsKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIHRvIGluc3RhbGwgQVdTIENMSSB2aWEgYXB0Li4uIgogICAgICAgICMgVHJ5IGFwdCB1cGRhdGUsIGJ1dCBkb24ndCBmYWlsIGlmIGl0IGZhaWxzIChuZXR3b3JrIGlzc3VlcykKICAgICAgICBzdWRvIGFwdC1nZXQgdXBkYXRlIC15IDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiB8fCB0cnVlCiAgICAgICAgCiAgICAgICAgIyBUcnkgaW5zdGFsbGluZyBhd3NjbGksIGJ1dCBjb250aW51ZSBpZiBpdCBmYWlscwogICAgICAgIGlmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGF3c2NsaSAyPiYxIHwgZ3JlcCAtdiAiTmV0d29yayBpcyB1bnJlYWNoYWJsZSI7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBhcHQiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIEFwdCBpbnN0YWxsIG1heSBoYXZlIGZhaWxlZCwgY2hlY2tpbmcgaWYgQVdTIENMSSBpcyBhdmFpbGFibGUuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmluYWwgZmFsbGJhY2s6IE9mZmljaWFsIEFXUyBpbnN0YWxsZXIKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIG9mZmljaWFsIEFXUyBDTEkgaW5zdGFsbGVyLi4uIgogICAgICAgIGN1cmwgLWZzU0wgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiL3RtcC9hd3NjbGl2Mi56aXAiIHx8IHsKICAgICAgICAgICAgZWNobyAi4pqg77iPICBGYWlsZWQgdG8gZG93bmxvYWQgQVdTIENMSSBpbnN0YWxsZXIiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIFsgLWYgIi90bXAvYXdzY2xpdjIuemlwIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIGNvbW1hbmQgLXYgdW56aXAgJj4gL2Rldi9udWxsIHx8IHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IHVuemlwIDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIjsgdGhlbgogICAgICAgICAgICAgICAgdW56aXAgLXEgL3RtcC9hd3NjbGl2Mi56aXAgLWQgL3RtcCAyPi9kZXYvbnVsbCAmJiBcCiAgICAgICAgICAgICAgICBzdWRvIC90bXAvYXdzL2luc3RhbGwgMj4vZGV2L251bGwgJiYgXAogICAgICAgICAgICAgICAgcm0gLXJmIC90bXAvYXdzIC90bXAvYXdzY2xpdjIuemlwICYmIFwKICAgICAgICAgICAgICAgIGVjaG8gIuKchSBBV1MgQ0xJIGluc3RhbGxlZCB2aWEgb2ZmaWNpYWwgaW5zdGFsbGVyIgogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQogICAgCiAgICAjIFdhaXQgZm9yIEFXUyBDTEkgdG8gYmUgYXZhaWxhYmxlIGFuZCB2ZXJpZnkgaW5zdGFsbGF0aW9uCiAgICBlY2hvICJWZXJpZnlpbmcgQVdTIENMSSBpbnN0YWxsYXRpb24uLi4iCiAgICBSRVRSWV9DT1VOVD0wCiAgICBNQVhfUkVUUklFUz01CiAgICB3aGlsZSBbICRSRVRSWV9DT1VOVCAtbHQgJE1BWF9SRVRSSUVTIF07IGRvCiAgICAgICAgIyBDaGVjayBtdWx0aXBsZSBwb3NzaWJsZSBsb2NhdGlvbnMKICAgICAgICBpZiBjb21tYW5kIC12IGF3cyAmPiAvZGV2L251bGwgfHwgWyAtZiAvdXNyL2xvY2FsL2Jpbi9hd3MgXSB8fCBbIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgICAgICAjIFNldCBQQVRIIHRvIGluY2x1ZGUgY29tbW9uIGxvY2F0aW9ucwogICAgICAgICAgICBleHBvcnQgUEFUSD0iL3Vzci9sb2NhbC9iaW46L3NuYXAvYmluOiRQQVRIIgogICAgICAgICAgICBpZiBhd3MgLS12ZXJzaW9uIDI+L2Rldi9udWxsOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICLinIUgQVdTIENMSSBpcyByZWFkeSIKICAgICAgICAgICAgICAgIGF3cyAtLXZlcnNpb24KICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICBSRVRSWV9DT1VOVD0kKChSRVRSWV9DT1VOVCArIDEpKQogICAgICAgIGVjaG8gIldhaXRpbmcgZm9yIEFXUyBDTEkuLi4gKGF0dGVtcHQgJFJFVFJZX0NPVU5ULyRNQVhfUkVUUklFUykiCiAgICAgICAgc2xlZXAgMgogICAgZG9uZQogICAgCiAgICBpZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbCAmJiBbICEgLWYgL3Vzci9sb2NhbC9iaW4vYXdzIF0gJiYgWyAhIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgIGVjaG8gIuKdjCBDUklUSUNBTDogQVdTIENMSSBpbnN0YWxsYXRpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cyIKICAgICAgICBlY2hvICJDYW5ub3QgcHJvY2VlZCB3aXRob3V0IEFXUyBDTEkgdG8gZG93bmxvYWQgdXNlcmRhdGEgc2NyaXB0IGZyb20gUzMiCiAgICAgICAgZWNobyAiQm9vdHN0cmFwIHNjcmlwdCB3aWxsIGV4aXQiCiAgICAgICAgZXhpdCAxCiAgICBmaQplbHNlCiAgICBlY2hvICLinIUgQVdTIENMSSBhbHJlYWR5IGluc3RhbGxlZCIKICAgIGF3cyAtLXZlcnNpb24KZmkKCiMgQ29uZmlndXJlIEFXUyBDTEkgcmVnaW9uCmV4cG9ydCBBV1NfREVGQVVMVF9SRUdJT049InVzLWVhc3QtMSIKZWNobyAiQVdTIENMSSByZWdpb24gY29uZmlndXJlZDogdXMtZWFzdC0xIgoKIyBEb3dubG9hZCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwplY2hvICJEb3dubG9hZGluZyB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMy4uLiIKVVNFUkRBVEFfU0NSSVBUPSIvdG1wL3VzZXJkYXRhX2NsaWVudF9hcHAuc2giCgojIFJldHJ5IGxvZ2ljIGZvciBTMyBkb3dubG9hZApNQVhfUkVUUklFUz0xMApSRVRSWV9ERUxBWT0xMApET1dOTE9BRF9TVUNDRVNTPWZhbHNlCgplY2hvICJBdHRlbXB0aW5nIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBmcm9tIFMzLi4uIgpmb3IgaSBpbiAkKHNlcSAxICRNQVhfUkVUUklFUyk7IGRvCiAgICBlY2hvICJEb3dubG9hZCBhdHRlbXB0ICRpIG9mICRNQVhfUkVUUklFUy4uLiIKICAgIGlmIGF3cyBzMyBjcCAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvJHtTM19LRVl9IiAiJFVTRVJEQVRBX1NDUklQVCIgLS1yZWdpb24gInVzLWVhc3QtMSIgMj4mMTsgdGhlbgogICAgICAgIGVjaG8gIuKchSBTdWNjZXNzZnVsbHkgZG93bmxvYWRlZCB1c2VyZGF0YSBzY3JpcHQiCiAgICAgICAgRE9XTkxPQURfU1VDQ0VTUz10cnVlCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICBFUlJPUl9DT0RFPSQ/CiAgICAgICAgZWNobyAi4pqg77iPICBEb3dubG9hZCBhdHRlbXB0ICRpIGZhaWxlZCAoZXhpdCBjb2RlOiAkRVJST1JfQ09ERSkiCiAgICAgICAgaWYgWyAkaSAtbHQgJE1BWF9SRVRSSUVTIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiICAgUmV0cnlpbmcgaW4gJFJFVFJZX0RFTEFZIHNlY29uZHMuLi4iCiAgICAgICAgICAgIHNsZWVwICRSRVRSWV9ERUxBWQogICAgICAgIGZpCiAgICBmaQpkb25lCgojIFZlcmlmeSBzY3JpcHQgd2FzIGRvd25sb2FkZWQKaWYgWyAiJERPV05MT0FEX1NVQ0NFU1MiID0gZmFsc2UgXSB8fCBbICEgLWYgIiRVU0VSREFUQV9TQ1JJUFQiIF07IHRoZW4KICAgIGVjaG8gIuKdjCBDUklUSUNBTDogRmFpbGVkIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBhZnRlciAkTUFYX1JFVFJJRVMgYXR0ZW1wdHMiCiAgICBlY2hvICIgICBTMyBCdWNrZXQ6IGRldi13ZWItYXBwLTE1NzAyMSIKICAgIGVjaG8gIiAgIFMzIEtleTogJHtTM19LRVl9IgogICAgZWNobyAiICAgUmVnaW9uOiB1cy1lYXN0LTEiCiAgICBlY2hvICIgICBGaWxlIHBhdGg6ICRVU0VSREFUQV9TQ1JJUFQiCiAgICBlY2hvICIiCiAgICBlY2hvICJDaGVja2luZyBBV1MgQ0xJIGF2YWlsYWJpbGl0eS4uLiIKICAgIHdoaWNoIGF3cyB8fCBlY2hvICJBV1MgQ0xJIG5vdCBmb3VuZCIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkNoZWNraW5nIFMzIGFjY2Vzcy4uLiIKICAgIGF3cyBzMyBscyAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvIiAtLXJlZ2lvbiAidXMtZWFzdC0xIiB8fCBlY2hvICJDYW5ub3QgbGlzdCBTMyBidWNrZXQiCiAgICBlY2hvICIiCiAgICBlY2hvICJCb290c3RyYXAgc2NyaXB0IHdpbGwgZXhpdC4gQ2hlY2sgbG9ncyBhYm92ZSBmb3IgZGV0YWlscy4iCiAgICBleGl0IDEKZmkKCiMgTWFrZSBzY3JpcHQgZXhlY3V0YWJsZQplY2hvICJNYWtpbmcgc2NyaXB0IGV4ZWN1dGFibGUuLi4iCmNobW9kICt4ICIkVVNFUkRBVEFfU0NSSVBUIiB8fCB7CiAgICBlY2hvICLimqDvuI8gIEZhaWxlZCB0byBtYWtlIHNjcmlwdCBleGVjdXRhYmxlLCB0cnlpbmcgYW55d2F5Li4uIgp9CgojIEV4ZWN1dGUgdGhlIGRvd25sb2FkZWQgc2NyaXB0CmVjaG8gIkV4ZWN1dGluZyB1c2VyZGF0YSBzY3JpcHQuLi4iCmVjaG8gIlRpbWVzdGFtcCBiZWZvcmUgZXhlY3V0aW9uOiAkKGRhdGUpIgoKIyBFeGVjdXRlIHNjcmlwdCBhbmQgY2FwdHVyZSBleGl0IGNvZGUKaWYgYmFzaCAiJFVTRVJEQVRBX1NDUklQVCI7IHRoZW4KICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pyFIFVzZXJkYXRhIHNjcmlwdCBjb21wbGV0ZWQgKGV4aXQgY29kZTogJEVYSVRfQ09ERSkiCmVsc2UKICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pqg77iPICBVc2VyZGF0YSBzY3JpcHQgZXhpdGVkIHdpdGggY29kZTogJEVYSVRfQ09ERSIKICAgIGVjaG8gIkNoZWNrIC92YXIvbG9nL3VzZXItZGF0YS5sb2cgZm9yIGRldGFpbHMiCmZpCgplY2hvICI9PT0gQm9vdHN0cmFwIFNjcmlwdCBDb21wbGV0ZWQgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIkZpbmFsIGV4aXQgY29kZTogJEVYSVRfQ09ERSIK",
          "vpc_security_group_ids": [
            "sg-009ab7c7d8df7eceb"
          ]
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:launch-template/lt-0906519c6427ecc9c",
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "default_version": 1,
          "description": "",
          "disable_api_stop": false,
          "disable_api_termination": false,
          "ebs_optimized": "",
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {
              "arn": "",
              "name": "web-app-dev-instance-profile"
            }
          ],
          "id": "lt-0906519c6427ecc9c",
          "image_id": "ami-0c1f44f890950b53c",
          "instance_initiated_shutdown_behavior": "",
          "instance_market_options": [],
          "instance_requirements": [],
          "instance_type": "t3.micro",
          "kernel_id": "",
          "key_name": "",
          "latest_version": 1,
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "name": "web-app-dev-lt-lt-157021",
          "name_prefix": "",
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "ram_disk_id": "",
          "security_group_names": [],
          "tag_specifications": [
            {
              "resource_type": "volume",
              "tags": {
                "Name": "web-app-dev-instance-volume"
              }
            }
          ],
          "tags": {},
          "tags_all": {},
          "update_default_version": true,
          "user_data": "IyEvYmluL2Jhc2gKIyBCb290c3RyYXAgc2NyaXB0IC0gZG93bmxvYWRzIGFuZCBleGVjdXRlcyB0aGUgZnVsbCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwojIFRoaXMgc2NyaXB0IG11c3QgcmVtYWluIHVuZGVyIDE2S0IgdG8gZml0IGluIEVDMiB1c2VyX2RhdGEKCiMgRG9uJ3QgdXNlICdzZXQgLWUnIC0gd2Ugd2FudCB0byBjb250aW51ZSBhbmQgbG9nIGVycm9ycyBpbnN0ZWFkIG9mIGV4aXRpbmcKIyBMb2cgZXZlcnl0aGluZyBmb3IgZGVidWdnaW5nCmV4ZWMgPiA+KHRlZSAtYSAvdmFyL2xvZy9ib290c3RyYXAubG9nfGxvZ2dlciAtdCBib290c3RyYXAgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCiMgQ29uZmlndXJhdGlvbiAtIHRoZXNlIHdpbGwgYmUgaW5qZWN0ZWQgYnkgVGVycmFmb3JtIHRlbXBsYXRlClMzX0tFWT0ic2NyaXB0cy91c2VyZGF0YV9jbGllbnRfYXBwLnNoIgoKZWNobyAiPT09IEJvb3RzdHJhcCBTY3JpcHQgU3RhcnRpbmcgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIlMzIEJ1Y2tldDogZGV2LXdlYi1hcHAtMTU3MDIxIgplY2hvICJTMyBLZXk6ICR7UzNfS0VZfSIKZWNobyAiUmVnaW9uOiB1cy1lYXN0LTEiCgojIEluc3RhbGwgQVdTIENMSSBpZiBub3QgcHJlc2VudAppZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbDsgdGhlbgogICAgZWNobyAiSW5zdGFsbGluZyBBV1MgQ0xJLi4uIgogICAgCiAgICAjIFRyeSBzbmFwIGZpcnN0IChkb2Vzbid0IHJlcXVpcmUgYXB0IHJlcG9zaXRvcmllcywgd29ya3MgZXZlbiB3aXRoIG5ldHdvcmsgaXNzdWVzKQogICAgaWYgY29tbWFuZCAtdiBzbmFwICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gIlRyeWluZyB0byBpbnN0YWxsIEFXUyBDTEkgdmlhIHNuYXAuLi4iCiAgICAgICAgaWYgc3VkbyBzbmFwIGluc3RhbGwgYXdzLWNsaSAtLWNsYXNzaWMgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBzbmFwIgogICAgICAgICAgICAjIEVuc3VyZSBzbmFwIGJpbiBpcyBpbiBQQVRICiAgICAgICAgICAgIGV4cG9ydCBQQVRIPSIvc25hcC9iaW46JFBBVEgiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIFNuYXAgaW5zdGFsbCBmYWlsZWQsIHRyeWluZyBhcHQuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmFsbGJhY2sgdG8gYXB0IGlmIHNuYXAgZGlkbid0IHdvcmsKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIHRvIGluc3RhbGwgQVdTIENMSSB2aWEgYXB0Li4uIgogICAgICAgICMgVHJ5IGFwdCB1cGRhdGUsIGJ1dCBkb24ndCBmYWlsIGlmIGl0IGZhaWxzIChuZXR3b3JrIGlzc3VlcykKICAgICAgICBzdWRvIGFwdC1nZXQgdXBkYXRlIC15IDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiB8fCB0cnVlCiAgICAgICAgCiAgICAgICAgIyBUcnkgaW5zdGFsbGluZyBhd3NjbGksIGJ1dCBjb250aW51ZSBpZiBpdCBmYWlscwogICAgICAgIGlmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGF3c2NsaSAyPiYxIHwgZ3JlcCAtdiAiTmV0d29yayBpcyB1bnJlYWNoYWJsZSI7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBhcHQiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIEFwdCBpbnN0YWxsIG1heSBoYXZlIGZhaWxlZCwgY2hlY2tpbmcgaWYgQVdTIENMSSBpcyBhdmFpbGFibGUuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmluYWwgZmFsbGJhY2s6IE9mZmljaWFsIEFXUyBpbnN0YWxsZXIKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIG9mZmljaWFsIEFXUyBDTEkgaW5zdGFsbGVyLi4uIgogICAgICAgIGN1cmwgLWZzU0wgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiL3RtcC9hd3NjbGl2Mi56aXAiIHx8IHsKICAgICAgICAgICAgZWNobyAi4pqg77iPICBGYWlsZWQgdG8gZG93bmxvYWQgQVdTIENMSSBpbnN0YWxsZXIiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIFsgLWYgIi90bXAvYXdzY2xpdjIuemlwIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIGNvbW1hbmQgLXYgdW56aXAgJj4gL2Rldi9udWxsIHx8IHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IHVuemlwIDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIjsgdGhlbgogICAgICAgICAgICAgICAgdW56aXAgLXEgL3RtcC9hd3NjbGl2Mi56aXAgLWQgL3RtcCAyPi9kZXYvbnVsbCAmJiBcCiAgICAgICAgICAgICAgICBzdWRvIC90bXAvYXdzL2luc3RhbGwgMj4vZGV2L251bGwgJiYgXAogICAgICAgICAgICAgICAgcm0gLXJmIC90bXAvYXdzIC90bXAvYXdzY2xpdjIuemlwICYmIFwKICAgICAgICAgICAgICAgIGVjaG8gIuKchSBBV1MgQ0xJIGluc3RhbGxlZCB2aWEgb2ZmaWNpYWwgaW5zdGFsbGVyIgogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQogICAgCiAgICAjIFdhaXQgZm9yIEFXUyBDTEkgdG8gYmUgYXZhaWxhYmxlIGFuZCB2ZXJpZnkgaW5zdGFsbGF0aW9uCiAgICBlY2hvICJWZXJpZnlpbmcgQVdTIENMSSBpbnN0YWxsYXRpb24uLi4iCiAgICBSRVRSWV9DT1VOVD0wCiAgICBNQVhfUkVUUklFUz01CiAgICB3aGlsZSBbICRSRVRSWV9DT1VOVCAtbHQgJE1BWF9SRVRSSUVTIF07IGRvCiAgICAgICAgIyBDaGVjayBtdWx0aXBsZSBwb3NzaWJsZSBsb2NhdGlvbnMKICAgICAgICBpZiBjb21tYW5kIC12IGF3cyAmPiAvZGV2L251bGwgfHwgWyAtZiAvdXNyL2xvY2FsL2Jpbi9hd3MgXSB8fCBbIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgICAgICAjIFNldCBQQVRIIHRvIGluY2x1ZGUgY29tbW9uIGxvY2F0aW9ucwogICAgICAgICAgICBleHBvcnQgUEFUSD0iL3Vzci9sb2NhbC9iaW46L3NuYXAvYmluOiRQQVRIIgogICAgICAgICAgICBpZiBhd3MgLS12ZXJzaW9uIDI+L2Rldi9udWxsOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICLinIUgQVdTIENMSSBpcyByZWFkeSIKICAgICAgICAgICAgICAgIGF3cyAtLXZlcnNpb24KICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICBSRVRSWV9DT1VOVD0kKChSRVRSWV9DT1VOVCArIDEpKQogICAgICAgIGVjaG8gIldhaXRpbmcgZm9yIEFXUyBDTEkuLi4gKGF0dGVtcHQgJFJFVFJZX0NPVU5ULyRNQVhfUkVUUklFUykiCiAgICAgICAgc2xlZXAgMgogICAgZG9uZQogICAgCiAgICBpZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbCAmJiBbICEgLWYgL3Vzci9sb2NhbC9iaW4vYXdzIF0gJiYgWyAhIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgIGVjaG8gIuKdjCBDUklUSUNBTDogQVdTIENMSSBpbnN0YWxsYXRpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cyIKICAgICAgICBlY2hvICJDYW5ub3QgcHJvY2VlZCB3aXRob3V0IEFXUyBDTEkgdG8gZG93bmxvYWQgdXNlcmRhdGEgc2NyaXB0IGZyb20gUzMiCiAgICAgICAgZWNobyAiQm9vdHN0cmFwIHNjcmlwdCB3aWxsIGV4aXQiCiAgICAgICAgZXhpdCAxCiAgICBmaQplbHNlCiAgICBlY2hvICLinIUgQVdTIENMSSBhbHJlYWR5IGluc3RhbGxlZCIKICAgIGF3cyAtLXZlcnNpb24KZmkKCiMgQ29uZmlndXJlIEFXUyBDTEkgcmVnaW9uCmV4cG9ydCBBV1NfREVGQVVMVF9SRUdJT049InVzLWVhc3QtMSIKZWNobyAiQVdTIENMSSByZWdpb24gY29uZmlndXJlZDogdXMtZWFzdC0xIgoKIyBEb3dubG9hZCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwplY2hvICJEb3dubG9hZGluZyB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMy4uLiIKVVNFUkRBVEFfU0NSSVBUPSIvdG1wL3VzZXJkYXRhX2NsaWVudF9hcHAuc2giCgojIFJldHJ5IGxvZ2ljIGZvciBTMyBkb3dubG9hZApNQVhfUkVUUklFUz0xMApSRVRSWV9ERUxBWT0xMApET1dOTE9BRF9TVUNDRVNTPWZhbHNlCgplY2hvICJBdHRlbXB0aW5nIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBmcm9tIFMzLi4uIgpmb3IgaSBpbiAkKHNlcSAxICRNQVhfUkVUUklFUyk7IGRvCiAgICBlY2hvICJEb3dubG9hZCBhdHRlbXB0ICRpIG9mICRNQVhfUkVUUklFUy4uLiIKICAgIGlmIGF3cyBzMyBjcCAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvJHtTM19LRVl9IiAiJFVTRVJEQVRBX1NDUklQVCIgLS1yZWdpb24gInVzLWVhc3QtMSIgMj4mMTsgdGhlbgogICAgICAgIGVjaG8gIuKchSBTdWNjZXNzZnVsbHkgZG93bmxvYWRlZCB1c2VyZGF0YSBzY3JpcHQiCiAgICAgICAgRE9XTkxPQURfU1VDQ0VTUz10cnVlCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICBFUlJPUl9DT0RFPSQ/CiAgICAgICAgZWNobyAi4pqg77iPICBEb3dubG9hZCBhdHRlbXB0ICRpIGZhaWxlZCAoZXhpdCBjb2RlOiAkRVJST1JfQ09ERSkiCiAgICAgICAgaWYgWyAkaSAtbHQgJE1BWF9SRVRSSUVTIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiICAgUmV0cnlpbmcgaW4gJFJFVFJZX0RFTEFZIHNlY29uZHMuLi4iCiAgICAgICAgICAgIHNsZWVwICRSRVRSWV9ERUxBWQogICAgICAgIGZpCiAgICBmaQpkb25lCgojIFZlcmlmeSBzY3JpcHQgd2FzIGRvd25sb2FkZWQKaWYgWyAiJERPV05MT0FEX1NVQ0NFU1MiID0gZmFsc2UgXSB8fCBbICEgLWYgIiRVU0VSREFUQV9TQ1JJUFQiIF07IHRoZW4KICAgIGVjaG8gIuKdjCBDUklUSUNBTDogRmFpbGVkIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBhZnRlciAkTUFYX1JFVFJJRVMgYXR0ZW1wdHMiCiAgICBlY2hvICIgICBTMyBCdWNrZXQ6IGRldi13ZWItYXBwLTE1NzAyMSIKICAgIGVjaG8gIiAgIFMzIEtleTogJHtTM19LRVl9IgogICAgZWNobyAiICAgUmVnaW9uOiB1cy1lYXN0LTEiCiAgICBlY2hvICIgICBGaWxlIHBhdGg6ICRVU0VSREFUQV9TQ1JJUFQiCiAgICBlY2hvICIiCiAgICBlY2hvICJDaGVja2luZyBBV1MgQ0xJIGF2YWlsYWJpbGl0eS4uLiIKICAgIHdoaWNoIGF3cyB8fCBlY2hvICJBV1MgQ0xJIG5vdCBmb3VuZCIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkNoZWNraW5nIFMzIGFjY2Vzcy4uLiIKICAgIGF3cyBzMyBscyAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvIiAtLXJlZ2lvbiAidXMtZWFzdC0xIiB8fCBlY2hvICJDYW5ub3QgbGlzdCBTMyBidWNrZXQiCiAgICBlY2hvICIiCiAgICBlY2hvICJCb290c3RyYXAgc2NyaXB0IHdpbGwgZXhpdC4gQ2hlY2sgbG9ncyBhYm92ZSBmb3IgZGV0YWlscy4iCiAgICBleGl0IDEKZmkKCiMgTWFrZSBzY3JpcHQgZXhlY3V0YWJsZQplY2hvICJNYWtpbmcgc2NyaXB0IGV4ZWN1dGFibGUuLi4iCmNobW9kICt4ICIkVVNFUkRBVEFfU0NSSVBUIiB8fCB7CiAgICBlY2hvICLimqDvuI8gIEZhaWxlZCB0byBtYWtlIHNjcmlwdCBleGVjdXRhYmxlLCB0cnlpbmcgYW55d2F5Li4uIgp9CgojIEV4ZWN1dGUgdGhlIGRvd25sb2FkZWQgc2NyaXB0CmVjaG8gIkV4ZWN1dGluZyB1c2VyZGF0YSBzY3JpcHQuLi4iCmVjaG8gIlRpbWVzdGFtcCBiZWZvcmUgZXhlY3V0aW9uOiAkKGRhdGUpIgoKIyBFeGVjdXRlIHNjcmlwdCBhbmQgY2FwdHVyZSBleGl0IGNvZGUKaWYgYmFzaCAiJFVTRVJEQVRBX1NDUklQVCI7IHRoZW4KICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pyFIFVzZXJkYXRhIHNjcmlwdCBjb21wbGV0ZWQgKGV4aXQgY29kZTogJEVYSVRfQ09ERSkiCmVsc2UKICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pqg77iPICBVc2VyZGF0YSBzY3JpcHQgZXhpdGVkIHdpdGggY29kZTogJEVYSVRfQ09ERSIKICAgIGVjaG8gIkNoZWNrIC92YXIvbG9nL3VzZXItZGF0YS5sb2cgZm9yIGRldGFpbHMiCmZpCgplY2hvICI9PT0gQm9vdHN0cmFwIFNjcmlwdCBDb21wbGV0ZWQgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIkZpbmFsIGV4aXQgY29kZTogJEVYSVRfQ09ERSIK",
          "vpc_security_group_ids": [
            "sg-009ab7c7d8df7eceb"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {}
          ],
          "instance_market_options": [],
          "instance_requirements": [],
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "security_group_names": [],
          "tag_specifications": [
            {
              "tags": {}
            }
          ],
          "tags": {},
          "tags_all": {},
          "vpc_security_group_ids": [
            false
          ]
        },
        "after_sensitive": {
          "block_device_mappings": [],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {}
          ],
          "instance_market_options": [],
          "instance_requirements": [],
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "network_interfaces": [],
          "placement": [],
          "private_dns_name_options": [],
          "security_group_names": [],
          "tag_specifications": [
            {
              "tags": {}
            }
          ],
          "tags": {},
          "tags_all": {},
          "vpc_security_group_ids": [
            false
          ]
        }
      }
    },
    {
      "address": "aws_lb.app-server-lb",
      "mode": "managed",
      "type": "aws_lb",
      "name": "app-server-lb",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "access_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "arn_suffix": "app/web-app-dev-lb/eac1ccc084f24a3b",
          "client_keep_alive": 3600,
          "connection_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "customer_owned_ipv4_pool": "",
          "desync_mitigation_mode": "defensive",
          "dns_name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
          "dns_record_client_routing_policy": null,
          "drop_invalid_header_fields": false,
          "enable_cross_zone_load_balancing": true,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_tls_version_and_cipher_suite_headers": false,
          "enable_waf_fail_open": false,
          "enable_xff_client_port": false,
          "enable_zonal_shift": false,
          "enforce_security_group_inbound_rules_on_private_link_traffic": "",
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "idle_timeout": 60,
          "internal": false,
          "ip_address_type": "ipv4",
          "ipam_pools": [],
          "load_balancer_type": "application",
          "minimum_load_balancer_capacity": [],
          "name": "web-app-dev-lb",
          "name_prefix": "",
          "preserve_host_header": false,
          "security_groups": [
            "sg-00830d59372461d2c"
          ],
          "subnet_mapping": [
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0257115d2a1ef35ea"
            },
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0aaa1627feff66ddf"
            }
          ],
          "subnets": [
            "subnet-0257115d2a1ef35ea",
            "subnet-0aaa1627feff66ddf"
          ],
          "tags": {},
          "tags_all": {},
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f",
          "xff_header_processing_mode": "append",
          "zone_id": "Z35SXDOTRQ7X7K"
        },
        "after": {
          "access_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "arn_suffix": "app/web-app-dev-lb/eac1ccc084f24a3b",
          "client_keep_alive": 3600,
          "connection_logs": [
            {
              "bucket": "",
              "enabled": false,
              "prefix": ""
            }
          ],
          "customer_owned_ipv4_pool": "",
          "desync_mitigation_mode": "defensive",
          "dns_name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
          "dns_record_client_routing_policy": null,
          "drop_invalid_header_fields": false,
          "enable_cross_zone_load_balancing": true,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_tls_version_and_cipher_suite_headers": false,
          "enable_waf_fail_open": false,
          "enable_xff_client_port": false,
          "enable_zonal_shift": false,
          "enforce_security_group_inbound_rules_on_private_link_traffic": "",
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "idle_timeout": 60,
          "internal": false,
          "ip_address_type": "ipv4",
          "ipam_pools": [],
          "load_balancer_type": "application",
          "minimum_load_balancer_capacity": [],
          "name": "web-app-dev-lb",
          "name_prefix": "",
          "preserve_host_header": false,
          "security_groups": [
            "sg-00830d59372461d2c"
          ],
          "subnet_mapping": [
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0257115d2a1ef35ea"
            },
            {
              "allocation_id": "",
              "ipv6_address": "",
              "outpost_id": "",
              "private_ipv4_address": "",
              "subnet_id": "subnet-0aaa1627feff66ddf"
            }
          ],
          "subnets": [
            "subnet-0257115d2a1ef35ea",
            "subnet-0aaa1627feff66ddf"
          ],
          "tags": {},
          "tags_all": {},
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f",
          "xff_header_processing_mode": "append",
          "zone_id": "Z35SXDOTRQ7X7K"
        },
        "after_unknown": {},
        "before_sensitive": {
          "access_logs": [
            {}
          ],
          "connection_logs": [
            {}
          ],
          "ipam_pools": [],
          "minimum_load_balancer_capacity": [],
          "security_groups": [
            false
          ],
          "subnet_mapping": [
            {},
            {}
          ],
          "subnets": [
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "access_logs": [
            {}
          ],
          "connection_logs": [
            {}
          ],
          "ipam_pools": [],
          "minimum_load_balancer_capacity": [],
          "security_groups": [
            false
          ],
          "subnet_mapping": [
            {},
            {}
          ],
          "subnets": [
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_lb_listener.app-server-listener",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "app-server-listener",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [],
              "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "forward"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [
            {
              "advertise_trust_store_ca_names": "",
              "ignore_client_certificate_expiry": false,
              "mode": "off",
              "trust_store_arn": ""
            }
          ],
          "port": 443,
          "protocol": "HTTPS",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": "",
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": "",
          "routing_http_request_x_amzn_tls_version_header_name": "",
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "ELBSecurityPolicy-2016-08",
          "tags": {},
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [],
              "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "type": "forward"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [
            {
              "advertise_trust_store_ca_names": "",
              "ignore_client_certificate_expiry": false,
              "mode": "off",
              "trust_store_arn": ""
            }
          ],
          "port": 443,
          "protocol": "HTTPS",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": "",
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": "",
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": "",
          "routing_http_request_x_amzn_tls_version_header_name": "",
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "ELBSecurityPolicy-2016-08",
          "tags": {},
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "mutual_authentication": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "mutual_authentication": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_lb_listener.app-server-listener-http",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "app-server-listener-http",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [
                {
                  "host": "#{host}",
                  "path": "/#{path}",
                  "port": "443",
                  "protocol": "HTTPS",
                  "query": "#{query}",
                  "status_code": "HTTP_301"
                }
              ],
              "target_group_arn": "",
              "type": "redirect"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [],
          "port": 80,
          "protocol": "HTTP",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": null,
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": null,
          "routing_http_request_x_amzn_tls_version_header_name": null,
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "",
          "tags": {},
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after": {
          "alpn_policy": null,
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": 1,
              "redirect": [
                {
                  "host": "#{host}",
                  "path": "/#{path}",
                  "port": "443",
                  "protocol": "HTTPS",
                  "query": "#{query}",
                  "status_code": "HTTP_301"
                }
              ],
              "target_group_arn": "",
              "type": "redirect"
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
          "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
          "mutual_authentication": [],
          "port": 80,
          "protocol": "HTTP",
          "routing_http_request_x_amzn_mtls_clientcert_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": null,
          "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": null,
          "routing_http_request_x_amzn_tls_cipher_suite_header_name": null,
          "routing_http_request_x_amzn_tls_version_header_name": null,
          "routing_http_response_access_control_allow_credentials_header_value": "",
          "routing_http_response_access_control_allow_headers_header_value": "",
          "routing_http_response_access_control_allow_methods_header_value": "",
          "routing_http_response_access_control_allow_origin_header_value": "",
          "routing_http_response_access_control_expose_headers_header_value": "",
          "routing_http_response_access_control_max_age_header_value": "",
          "routing_http_response_content_security_policy_header_value": "",
          "routing_http_response_server_enabled": true,
          "routing_http_response_strict_transport_security_header_value": "",
          "routing_http_response_x_content_type_options_header_value": "",
          "routing_http_response_x_frame_options_header_value": "",
          "ssl_policy": "",
          "tags": {},
          "tags_all": {},
          "tcp_idle_timeout_seconds": null,
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [
                {}
              ]
            }
          ],
          "mutual_authentication": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [
                {}
              ]
            }
          ],
          "mutual_authentication": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_lb_target_group.app-server-tg",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "app-server-tg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "arn_suffix": "targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "connection_termination": null,
          "deregistration_delay": "30",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 2,
              "interval": 30,
              "matcher": "200",
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 10,
              "unhealthy_threshold": 3
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "ip_address_type": "ipv4",
          "lambda_multi_value_headers_enabled": false,
          "load_balancer_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b"
          ],
          "load_balancing_algorithm_type": "round_robin",
          "load_balancing_anomaly_mitigation": "off",
          "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
          "name": "web-app-dev-tg",
          "name_prefix": "",
          "port": 80,
          "preserve_client_ip": null,
          "protocol": "HTTP",
          "protocol_version": "HTTP1",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 86400,
              "cookie_name": "",
              "enabled": false,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Name": "web-app-dev-tg"
          },
          "tags_all": {
            "Name": "web-app-dev-tg"
          },
          "target_failover": [
            {
              "on_deregistration": null,
              "on_unhealthy": null
            }
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {
                  "minimum_healthy_targets_count": "1",
                  "minimum_healthy_targets_percentage": "off"
                }
              ],
              "unhealthy_state_routing": [
                {
                  "minimum_healthy_targets_count": 1,
                  "minimum_healthy_targets_percentage": "off"
                }
              ]
            }
          ],
          "target_health_state": [
            {
              "enable_unhealthy_connection_termination": null,
              "unhealthy_draining_interval": null
            }
          ],
          "target_type": "instance",
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "arn_suffix": "targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "connection_termination": null,
          "deregistration_delay": "30",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 2,
              "interval": 30,
              "matcher": "200",
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 10,
              "unhealthy_threshold": 3
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
          "ip_address_type": "ipv4",
          "lambda_multi_value_headers_enabled": false,
          "load_balancer_arns": [
            "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b"
          ],
          "load_balancing_algorithm_type": "round_robin",
          "load_balancing_anomaly_mitigation": "off",
          "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
          "name": "web-app-dev-tg",
          "name_prefix": "",
          "port": 80,
          "preserve_client_ip": null,
          "protocol": "HTTP",
          "protocol_version": "HTTP1",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 86400,
              "cookie_name": "",
              "enabled": false,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Name": "web-app-dev-tg"
          },
          "tags_all": {
            "Name": "web-app-dev-tg"
          },
          "target_failover": [
            {
              "on_deregistration": null,
              "on_unhealthy": null
            }
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {
                  "minimum_healthy_targets_count": "1",
                  "minimum_healthy_targets_percentage": "off"
                }
              ],
              "unhealthy_state_routing": [
                {
                  "minimum_healthy_targets_count": 1,
                  "minimum_healthy_targets_percentage": "off"
                }
              ]
            }
          ],
          "target_health_state": [
            {
              "enable_unhealthy_connection_termination": null,
              "unhealthy_draining_interval": null
            }
          ],
          "target_type": "instance",
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "health_check": [
            {}
          ],
          "load_balancer_arns": [
            false
          ],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "target_failover": [
            {}
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {}
              ],
              "unhealthy_state_routing": [
                {}
              ]
            }
          ],
          "target_health_state": [
            {}
          ]
        },
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "load_balancer_arns": [
            false
          ],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "target_failover": [
            {}
          ],
          "target_group_health": [
            {
              "dns_failover": [
                {}
              ],
              "unhealthy_state_routing": [
                {}
              ]
            }
          ],
          "target_health_state": [
            {}
          ]
        }
      }
    },
    {
      "address": "aws_route53_record.app-server",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "app-server",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "alias": [
            {
              "evaluate_target_health": true,
              "name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
              "zone_id": "Z35SXDOTRQ7X7K"
            }
          ],
          "allow_overwrite": null,
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "fqdn": "dev.211125336427.realhandsonlabs.net",
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "health_check_id": "",
          "id": "Z0476534LTCE2W6ERWDB_dev.211125336427.realhandsonlabs.net_A",
          "latency_routing_policy": [],
          "multivalue_answer_routing_policy": false,
          "name": "dev.211125336427.realhandsonlabs.net",
          "records": [],
          "set_identifier": "",
          "timeouts": null,
          "ttl": 0,
          "type": "A",
          "weighted_routing_policy": [],
          "zone_id": "Z0476534LTCE2W6ERWDB"
        },
        "after": {
          "alias": [
            {
              "evaluate_target_health": true,
              "name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
              "zone_id": "Z35SXDOTRQ7X7K"
            }
          ],
          "allow_overwrite": null,
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "fqdn": "dev.211125336427.realhandsonlabs.net",
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "health_check_id": "",
          "id": "Z0476534LTCE2W6ERWDB_dev.211125336427.realhandsonlabs.net_A",
          "latency_routing_policy": [],
          "multivalue_answer_routing_policy": false,
          "name": "dev.211125336427.realhandsonlabs.net",
          "records": [],
          "set_identifier": "",
          "timeouts": null,
          "ttl": 0,
          "type": "A",
          "weighted_routing_policy": [],
          "zone_id": "Z0476534LTCE2W6ERWDB"
        },
        "after_unknown": {},
        "before_sensitive": {
          "alias": [
            {}
          ],
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "latency_routing_policy": [],
          "records": [],
          "weighted_routing_policy": []
        },
        "after_sensitive": {
          "alias": [
            {}
          ],
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "latency_routing_policy": [],
          "records": [],
          "weighted_routing_policy": []
        }
      }
    },
    {
      "address": "aws_route53_record.app-server-cert-validation-record[\"dev.211125336427.realhandsonlabs.net\"]",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "app-server-cert-validation-record",
      "index": "dev.211125336427.realhandsonlabs.net",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "alias": [],
          "allow_overwrite": null,
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "fqdn": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "health_check_id": "",
          "id": "Z0476534LTCE2W6ERWDB__3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net._CNAME",
          "latency_routing_policy": [],
          "multivalue_answer_routing_policy": false,
          "name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
          "records": [
            "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
          ],
          "set_identifier": "",
          "timeouts": null,
          "ttl": 60,
          "type": "CNAME",
          "weighted_routing_policy": [],
          "zone_id": "Z0476534LTCE2W6ERWDB"
        },
        "after": {
          "alias": [],
          "allow_overwrite": null,
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "fqdn": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "health_check_id": "",
          "id": "Z0476534LTCE2W6ERWDB__3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net._CNAME",
          "latency_routing_policy": [],
          "multivalue_answer_routing_policy": false,
          "name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
          "records": [
            "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
          ],
          "set_identifier": "",
          "timeouts": null,
          "ttl": 60,
          "type": "CNAME",
          "weighted_routing_policy": [],
          "zone_id": "Z0476534LTCE2W6ERWDB"
        },
        "after_unknown": {},
        "before_sensitive": {
          "alias": [],
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "latency_routing_policy": [],
          "records": [
            false
          ],
          "weighted_routing_policy": []
        },
        "after_sensitive": {
          "alias": [],
          "cidr_routing_policy": [],
          "failover_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "latency_routing_policy": [],
          "records": [
            false
          ],
          "weighted_routing_policy": []
        }
      }
    },
    {
      "address": "aws_s3_bucket.app_assets",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "app_assets",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "acceleration_status": "",
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021",
          "bucket": "dev-web-app-157021",
          "bucket_domain_name": "dev-web-app-157021.s3.amazonaws.com",
          "bucket_prefix": "",
          "bucket_regional_domain_name": "dev-web-app-157021.s3.us-east-1.amazonaws.com",
          "cors_rule": [],
          "force_destroy": true,
          "grant": [
            {
              "id": "5e786dec603f1f50a0225e93545ae5bd23e4b91b5f1041d7f4faef6b27a8f84b",
              "permissions": [
                "FULL_CONTROL"
              ],
              "type": "CanonicalUser",
              "uri": ""
            }
          ],
          "hosted_zone_id": "Z3AQBSTGFYJSTF",
          "id": "dev-web-app-157021",
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "object_lock_enabled": false,
          "policy": "",
          "region": "us-east-1",
          "replication_configuration": [],
          "request_payer": "BucketOwner",
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {
                      "kms_master_key_id": "",
                      "sse_algorithm": "AES256"
                    }
                  ],
                  "bucket_key_enabled": false
                }
              ]
            }
          ],
          "tags": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "tags_all": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "timeouts": null,
          "versioning": [
            {
              "enabled": true,
              "mfa_delete": false
            }
          ],
          "website": [],
          "website_domain": null,
          "website_endpoint": null
        },
        "after": {
          "acceleration_status": "",
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021",
          "bucket": "dev-web-app-157021",
          "bucket_domain_name": "dev-web-app-157021.s3.amazonaws.com",
          "bucket_prefix": "",
          "bucket_regional_domain_name": "dev-web-app-157021.s3.us-east-1.amazonaws.com",
          "cors_rule": [],
          "force_destroy": true,
          "grant": [
            {
              "id": "5e786dec603f1f50a0225e93545ae5bd23e4b91b5f1041d7f4faef6b27a8f84b",
              "permissions": [
                "FULL_CONTROL"
              ],
              "type": "CanonicalUser",
              "uri": ""
            }
          ],
          "hosted_zone_id": "Z3AQBSTGFYJSTF",
          "id": "dev-web-app-157021",
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "object_lock_enabled": false,
          "policy": "",
          "region": "us-east-1",
          "replication_configuration": [],
          "request_payer": "BucketOwner",
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {
                      "kms_master_key_id": "",
                      "sse_algorithm": "AES256"
                    }
                  ],
                  "bucket_key_enabled": false
                }
              ]
            }
          ],
          "tags": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "tags_all": {
            "Environment": "dev",
            "Name": "web-app-dev-assets",
            "Purpose": "Application assets and userdata scripts"
          },
          "timeouts": null,
          "versioning": [
            {
              "enabled": true,
              "mfa_delete": false
            }
          ],
          "website": [],
          "website_domain": null,
          "website_endpoint": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "cors_rule": [],
          "grant": [
            {
              "permissions": [
                false
              ]
            }
          ],
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "replication_configuration": [],
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {}
                  ]
                }
              ]
            }
          ],
          "tags": {},
          "tags_all": {},
          "versioning": [
            {}
          ],
          "website": []
        },
        "after_sensitive": {
          "cors_rule": [],
          "grant": [
            {
              "permissions": [
                false
              ]
            }
          ],
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "replication_configuration": [],
          "server_side_encryption_configuration": [
            {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {}
                  ]
                }
              ]
            }
          ],
          "tags": {},
          "tags_all": {},
          "versioning": [
            {}
          ],
          "website": []
        }
      }
    },
    {
      "address": "aws_s3_bucket_public_access_block.app_assets",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "app_assets",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "block_public_acls": true,
          "block_public_policy": true,
          "bucket": "dev-web-app-157021",
          "id": "dev-web-app-157021",
          "ignore_public_acls": true,
          "restrict_public_buckets": true
        },
        "after": {
          "block_public_acls": true,
          "block_public_policy": true,
          "bucket": "dev-web-app-157021",
          "id": "dev-web-app-157021",
          "ignore_public_acls": true,
          "restrict_public_buckets": true
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_s3_bucket_server_side_encryption_configuration.app_assets",
      "mode": "managed",
      "type": "aws_s3_bucket_server_side_encryption_configuration",
      "name": "app_assets",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "bucket": "dev-web-app-157021",
          "expected_bucket_owner": "",
          "id": "dev-web-app-157021",
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {
                  "kms_master_key_id": "",
                  "sse_algorithm": "AES256"
                }
              ],
              "bucket_key_enabled": false
            }
          ]
        },
        "after": {
          "bucket": "dev-web-app-157021",
          "expected_bucket_owner": "",
          "id": "dev-web-app-157021",
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {
                  "kms_master_key_id": "",
                  "sse_algorithm": "AES256"
                }
              ],
              "bucket_key_enabled": false
            }
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {}
              ]
            }
          ]
        },
        "after_sensitive": {
          "rule": [
            {
              "apply_server_side_encryption_by_default": [
                {}
              ]
            }
          ]
        }
      }
    },
    {
      "address": "aws_s3_bucket_versioning.app_assets",
      "mode": "managed",
      "type": "aws_s3_bucket_versioning",
      "name": "app_assets",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "bucket": "dev-web-app-157021",
          "expected_bucket_owner": "",
          "id": "dev-web-app-157021",
          "mfa": null,
          "versioning_configuration": [
            {
              "mfa_delete": "",
              "status": "Enabled"
            }
          ]
        },
        "after": {
          "bucket": "dev-web-app-157021",
          "expected_bucket_owner": "",
          "id": "dev-web-app-157021",
          "mfa": null,
          "versioning_configuration": [
            {
              "mfa_delete": "",
              "status": "Enabled"
            }
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "versioning_configuration": [
            {}
          ]
        },
        "after_sensitive": {
          "versioning_configuration": [
            {}
          ]
        }
      }
    },
    {
      "address": "aws_s3_object.userdata_script",
      "mode": "managed",
      "type": "aws_s3_object",
      "name": "userdata_script",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021/scripts/userdata_client_app.sh",
          "bucket": "dev-web-app-157021",
          "bucket_key_enabled": false,
          "cache_control": "",
          "checksum_algorithm": null,
          "checksum_crc32": "",
          "checksum_crc32c": "",
          "checksum_crc64nvme": "",
          "checksum_sha1": "",
          "checksum_sha256": "",
          "content": "#!/bin/bash\n# User data script for Client Management Application\n# This script sets up a Flask application to manage client information\n\n# Don't use 'set -e' - we want to continue even if some commands fail\n# Use || true for commands that can safely fail\nset -u  # Only exit on undefined variables\nset -o pipefail  # Exit on pipe failures\n\necho \"=== Starting Client Management Application Setup ===\"\n\n# Update system and install Python\necho \"Updating system packages...\"\nsudo apt update -y\nsudo apt install -y python3 python3-pip\n\n# Install and start SSM Agent for Session Manager connectivity\necho \"Installing and starting SSM Agent...\"\nif ! command -v amazon-ssm-agent &> /dev/null; then\n    echo \"SSM Agent not found, installing via snap...\"\n    sudo snap install amazon-ssm-agent --classic || {\n        echo \"  Snap install failed, trying alternative method...\"\n        # Alternative: Install from deb package if snap fails\n        cd /tmp\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        sudo dpkg -i amazon-ssm-agent.deb || sudo apt-get install -f -y\n        rm -f amazon-ssm-agent.deb\n    }\nfi\n\n# Start SSM Agent\necho \"Starting SSM Agent...\"\nsudo systemctl enable amazon-ssm-agent || sudo systemctl enable snap.amazon-ssm-agent.amazon-ssm-agent.service || true\nsudo systemctl start amazon-ssm-agent || sudo systemctl start snap.amazon-ssm-agent.amazon-ssm-agent.service || sudo snap start amazon-ssm-agent || true\n\n# Verify SSM Agent is running\nsleep 2\nif sudo systemctl is-active --quiet amazon-ssm-agent || sudo systemctl is-active --quiet snap.amazon-ssm-agent.amazon-ssm-agent.service; then\n    echo \" SSM Agent is running\"\nelse\n    echo \"  SSM Agent may not be running, check logs with: sudo journalctl -u amazon-ssm-agent\"\nfi\n\n# Stop Apache if installed (to avoid port 80 conflict)\nsudo systemctl stop apache2 || true\nsudo systemctl disable apache2 || true\n\n# Install Python packages for PostgreSQL\necho \"Installing Python packages (Flask, psycopg2-binary, boto3)...\"\nsudo -H pip3 install flask psycopg2-binary boto3 || {\n    echo \"  pip3 install failed, trying with --break-system-packages...\"\n    sudo -H pip3 install --break-system-packages flask psycopg2-binary boto3\n}\n\n# Verify installation\necho \"Verifying Python packages...\"\npython3 -c \"import flask; import psycopg2; import boto3; print(' All packages installed successfully')\" || {\n    echo \" Package verification failed, trying alternative installation...\"\n    sudo apt-get install -y python3-flask python3-psycopg2 python3-boto3 || true\n    python3 -c \"import flask; import psycopg2; import boto3; print(' Packages verified')\" || echo \"  Some packages may not be available\"\n}\n\n# Create app directory\nmkdir -p /home/ubuntu/webapp\ncd /home/ubuntu/webapp\n\n# Copy the client application\n# Note: In production, you'd want to pull this from a Git repository or S3\n# For now, we'll create it inline\ncat << 'CLIENT_APP' > app.py\nimport os\nimport json\nimport boto3\nfrom flask import Flask, request, render_template_string, redirect, url_for\nimport psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# HTML Template\nCLIENT_FORM_HTML = \"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Client Information System</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background: white;\n            padding: 30px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .nav {\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .nav a {\n            margin: 0 10px;\n            padding: 8px 16px;\n            text-decoration: none;\n            background-color: #007bff;\n            color: white;\n            border-radius: 4px;\n        }\n        .nav a:hover {\n            background-color: #0056b3;\n        }\n        form {\n            display: grid;\n            gap: 15px;\n        }\n        label {\n            font-weight: bold;\n            color: #555;\n        }\n        input[type=\"text\"],\n        input[type=\"email\"],\n        input[type=\"tel\"],\n        textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        textarea {\n            resize: vertical;\n            min-height: 80px;\n        }\n        button {\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #218838;\n        }\n        .success {\n            background-color: #d4edda;\n            color: #155724;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        .error {\n            background-color: #f8d7da;\n            color: #721c24;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #007bff;\n            color: white;\n        }\n        tr:hover {\n            background-color: #f5f5f5;\n        }\n        .empty {\n            text-align: center;\n            color: #888;\n            padding: 40px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1> Client Information System</h1>\n        <div class=\"nav\">\n            <a href=\"/\">Add Client</a>\n            <a href=\"/clients\">View Clients</a>\n            <a href=\"/health\">Health Check</a>\n        </div>\n        {% if message %}\n        <div class=\"{{ message_type }}\">{{ message }}</div>\n        {% endif %}\n        {{ content|safe }}\n    </div>\n</body>\n</html>\n\"\"\"\n\nFORM_CONTENT = \"\"\"\n<h2>Add New Client</h2>\n<form method=\"POST\" action=\"/\">\n    <div>\n        <label for=\"name\">Full Name *</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"John Doe\">\n    </div>\n    \n    <div>\n        <label for=\"email\">Email Address *</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"john@example.com\">\n    </div>\n    \n    <div>\n        <label for=\"phone\">Phone Number</label>\n        <input type=\"tel\" id=\"phone\" name=\"phone\" placeholder=\"+1 234-567-8900\">\n    </div>\n    \n    <div>\n        <label for=\"company\">Company</label>\n        <input type=\"text\" id=\"company\" name=\"company\" placeholder=\"Acme Inc.\">\n    </div>\n    \n    <div>\n        <label for=\"address\">Address</label>\n        <textarea id=\"address\" name=\"address\" placeholder=\"123 Main St, City, State, ZIP\"></textarea>\n    </div>\n    \n    <div>\n        <label for=\"notes\">Notes</label>\n        <textarea id=\"notes\" name=\"notes\" placeholder=\"Additional information\"></textarea>\n    </div>\n    \n    <button type=\"submit\">Save Client</button>\n</form>\n\"\"\"\n\n\ndef get_db_credentials():\n    secret_name = os.getenv(\"SECRET_NAME\")\n    region = os.getenv(\"AWS_REGION\", \"us-east-1\")\n    \n    if not secret_name:\n        raise ValueError(\"SECRET_NAME environment variable not set\")\n    \n    client = boto3.client(\"secretsmanager\", region_name=region)\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response[\"SecretString\"])\n\n\ndef get_db_connection():\n    max_retries = 3\n    retry_delay = 2\n    \n    for attempt in range(max_retries):\n        try:\n            creds = get_db_credentials()\n            \n            # PostgreSQL RDS requires SSL connections\n            conn = psycopg2.connect(\n                host=creds[\"host\"],\n                database=creds[\"dbname\"],\n                user=creds[\"username\"],\n                password=creds[\"password\"],\n                port=int(creds[\"port\"]),\n                connect_timeout=10,\n                sslmode=\"require\"  # RDS PostgreSQL requires SSL\n            )\n            \n            print(f\" Database connection successful (attempt {attempt + 1})\")\n            return conn\n            \n        except psycopg2.OperationalError as e:\n            if \"password authentication failed\" in str(e).lower() or \"access denied\" in str(e).lower():\n                print(f\" Database access denied: {e}\")\n                raise Exception(f\"Database access denied: {e}\")\n            elif attempt < max_retries - 1:\n                print(f\"  Connection attempt {attempt + 1} failed, retrying...\")\n                import time\n                time.sleep(retry_delay)\n                continue\n            else:\n                raise Exception(f\"Database connection failed: {e}\")\n        except Exception as e:\n            print(f\" Database connection error: {e}\")\n            if attempt < max_retries - 1:\n                import time\n                time.sleep(retry_delay)\n                continue\n            raise\n\n\ndef init_database():\n    try:\n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS clients (\n                id SERIAL PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL,\n                phone VARCHAR(50),\n                company VARCHAR(255),\n                address TEXT,\n                notes TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                CONSTRAINT unique_email UNIQUE (email)\n            )\n        \"\"\")\n        \n        # Create indexes\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_email ON clients(email)\")\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_name ON clients(name)\")\n        \n        # Create trigger for updated_at (PostgreSQL equivalent of ON UPDATE CURRENT_TIMESTAMP)\n        cursor.execute(\"\"\"\n            CREATE OR REPLACE FUNCTION update_updated_at_column()\n            RETURNS TRIGGER AS $$\n            BEGIN\n                NEW.updated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ language 'plpgsql';\n        \"\"\")\n        cursor.execute(\"\"\"\n            DROP TRIGGER IF EXISTS update_clients_updated_at ON clients;\n            CREATE TRIGGER update_clients_updated_at\n                BEFORE UPDATE ON clients\n                FOR EACH ROW\n                EXECUTE FUNCTION update_updated_at_column();\n        \"\"\")\n        \n        conn.commit()\n        cursor.close()\n        conn.close()\n        \n        print(\" Database table initialized successfully\")\n        return True\n        \n    except psycopg2.OperationalError as e:\n        error_msg = str(e)\n        print(f\"  Database connection error: {error_msg}\")\n        print(f\"   Check: Security group, network connectivity, credentials\")\n        return False\n    except psycopg2.Error as e:\n        error_msg = str(e)\n        print(f\"  Database error: {error_msg}\")\n        return False\n    except Exception as e:\n        error_msg = str(e)\n        print(f\"  Database initialization error: {error_msg}\")\n        print(f\"   Error type: {type(e).__name__}\")\n        import traceback\n        print(f\"   Traceback: {traceback.format_exc()}\")\n        return False\n\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    # Handle POST request (form submission)\n    if request.method == \"POST\":\n        try:\n            name = request.form.get(\"name\", \"\").strip()\n            email = request.form.get(\"email\", \"\").strip()\n            phone = request.form.get(\"phone\", \"\").strip()\n            company = request.form.get(\"company\", \"\").strip()\n            address = request.form.get(\"address\", \"\").strip()\n            notes = request.form.get(\"notes\", \"\").strip()\n            \n            if not name or not email:\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: Name and Email are required fields.\",\n                    message_type=\"error\"\n                )\n            \n            # Try to initialize database and get the actual error if it fails\n            db_init_result = init_database()\n            if not db_init_result:\n                # Get the last error from logs or try connection again to get error\n                try:\n                    conn = get_db_connection()\n                    conn.close()\n                    # If connection works, try init again\n                    if not init_database():\n                        raise Exception(\"Failed to initialize database (connection works but init failed)\")\n                except Exception as conn_err:\n                    raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n            \n            conn = get_db_connection()\n            cursor = conn.cursor()\n            \n            try:\n                cursor.execute(\"\"\"\n                    INSERT INTO clients (name, email, phone, company, address, notes)\n                    VALUES (%s, %s, %s, %s, %s, %s)\n                    RETURNING id\n                \"\"\", (name, email, phone or None, company or None, address or None, notes or None))\n                \n                result = cursor.fetchone()\n                client_id = result[0] if result else None\n                conn.commit()\n                \n                cursor.close()\n                conn.close()\n                \n                success_msg = f\" Client '{name}' has been successfully added! (ID: {client_id})\"\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=success_msg,\n                    message_type=\"success\"\n                )\n                \n            except psycopg2.IntegrityError as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: A client with this email already exists.\",\n                    message_type=\"error\"\n                )\n            except Exception as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                raise\n                \n        except Exception as e:\n            error_msg = f\"Error saving client: {str(e)}\"\n            print(f\" {error_msg}\")\n            return render_template_string(\n                CLIENT_FORM_HTML,\n                content=FORM_CONTENT,\n                message=error_msg,\n                message_type=\"error\"\n            ), 500\n    \n    # Handle GET request (display form)\n    return render_template_string(CLIENT_FORM_HTML, content=FORM_CONTENT)\n\n\n@app.route(\"/clients\")\ndef list_clients():\n    try:\n        # Try to initialize database and get the actual error if it fails\n        db_init_result = init_database()\n        if not db_init_result:\n            # Get the last error from logs or try connection again to get error\n            try:\n                conn = get_db_connection()\n                conn.close()\n                # If connection works, try init again\n                if not init_database():\n                    raise Exception(\"Failed to initialize database (connection works but init failed)\")\n            except Exception as conn_err:\n                raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n        \n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            SELECT id, name, email, phone, company, address, notes, \n                   created_at, updated_at\n            FROM clients\n            ORDER BY created_at DESC\n        \"\"\")\n        \n        clients = cursor.fetchall()\n        cursor.close()\n        conn.close()\n        \n        if not clients:\n            content = '<div class=\"empty\"><h2>No clients found</h2><p>Start by adding a new client.</p></div>'\n            return render_template_string(CLIENT_FORM_HTML, content=content)\n        \n        table_html = \"\"\"\n        <h2> All Clients ({} total)</h2>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Company</th>\n                    <th>Created</th>\n                </tr>\n            </thead>\n            <tbody>\n        \"\"\".format(len(clients))\n        \n        for client in clients:\n            created_at = client['created_at'].strftime('%Y-%m-%d %H:%M') if client['created_at'] else 'N/A'\n            table_html += f\"\"\"\n                <tr>\n                    <td>{client['id']}</td>\n                    <td><strong>{client['name']}</strong></td>\n                    <td>{client['email']}</td>\n                    <td>{client['phone'] or '-'}</td>\n                    <td>{client['company'] or '-'}</td>\n                    <td>{created_at}</td>\n                </tr>\n            \"\"\"\n        \n        table_html += \"\"\"\n            </tbody>\n        </table>\n        \"\"\"\n        \n        return render_template_string(CLIENT_FORM_HTML, content=table_html)\n        \n    except Exception as e:\n        error_msg = f\"Error retrieving clients: {str(e)}\"\n        print(f\" {error_msg}\")\n        return render_template_string(\n            CLIENT_FORM_HTML,\n            content=f'<div class=\"error\">{error_msg}</div>',\n            message_type=\"error\"\n        ), 500\n\n\n@app.route(\"/health\")\ndef health():\n    # Health check endpoint - MUST NOT require database access\n    # ALB health checks will fail if this endpoint requires DB connection\n    # Returns 200 OK if Flask app is running (simple check)\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"running\",\n        \"timestamp\": datetime.now().isoformat()\n    }, 200\n\n\nif __name__ == \"__main__\":\n    try:\n        print(\"=== Client Management Application Starting ===\")\n        \n        # Start Flask IMMEDIATELY - don't block on database initialization\n        # Database will be initialized lazily on first request that needs it\n        # This ensures health checks work even if database is not ready\n        import threading\n        \n        def init_db_async():\n            \"\"\"Initialize database in background thread\"\"\"\n            try:\n                import time\n                time.sleep(5)  # Give Flask time to start first\n                print(\"Attempting database initialization in background...\")\n                init_database()\n                print(\" Database initialized successfully\")\n            except Exception as e:\n                print(f\"  Database initialization failed (will retry on first request): {e}\")\n        \n        # Start database initialization in background thread\n        db_thread = threading.Thread(target=init_db_async, daemon=True)\n        db_thread.start()\n        \n        print(\" Flask application starting (health check available immediately)\")\n        print(\"   Flask will listen on 0.0.0.0:80\")\n        app.run(host=\"0.0.0.0\", port=80, debug=False, threaded=True)\n    except Exception as e:\n        print(f\" CRITICAL: Flask failed to start: {e}\")\n        import traceback\n        traceback.print_exc()\n        raise\nCLIENT_APP\n\n# Install authbind to allow non-root user to bind to port 80\nsudo apt-get install -y authbind\n\n# Allow ubuntu user to bind to port 80\nsudo touch /etc/authbind/byport/80\nsudo chmod 500 /etc/authbind/byport/80\nsudo chown ubuntu:ubuntu /etc/authbind/byport/80\n\n# Create systemd service for Flask\ncat << SERVICE | sudo tee /etc/systemd/system/flaskapp.service\n[Unit]\nDescription=Client Management Flask Application\nAfter=network.target\n\n[Service]\nUser=ubuntu\nWorkingDirectory=/home/ubuntu/webapp\nEnvironment=\"SECRET_NAME=arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"\nEnvironment=\"AWS_REGION=us-east-1\"\nEnvironment=\"PATH=/usr/local/bin:/usr/bin:/bin\"\nExecStart=/usr/bin/authbind --deep /usr/bin/python3 /home/ubuntu/webapp/app.py\nRestart=on-failure\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=60\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# Enable and start Flask service\nsudo systemctl daemon-reload\nsudo systemctl enable flaskapp\n\n# Start Flask service\necho \"Starting Flask application...\"\nsudo systemctl start flaskapp\nsleep 10\n\n# Verify Flask is running\nif sudo systemctl is-active --quiet flaskapp; then\n    echo \" Flask service is running\"\n    sleep 2\n    if curl -f http://localhost/health > /dev/null 2>&1; then\n        echo \" Health endpoint is responding\"\n    else\n        echo \"  Health endpoint not responding yet, checking logs...\"\n        sudo journalctl -u flaskapp --no-pager -n 20 || true\n    fi\nelse\n    echo \" Flask service failed to start\"\n    echo \"Checking logs for errors...\"\n    sudo journalctl -u flaskapp --no-pager -n 50 || true\n    echo \"\"\n    echo \"  Flask service failed, but continuing userdata script...\"\n    echo \"Service will be retried by systemd with Restart=on-failure\"\n    echo \"You can check logs later with: sudo journalctl -u flaskapp -f\"\nfi\n\necho \"=== Client Management Application Setup Complete ===\"",
          "content_base64": null,
          "content_disposition": "",
          "content_encoding": "",
          "content_language": "",
          "content_type": "text/x-shellscript",
          "etag": "997b6435ce6d7f8eaaccd7d55dcb7e73",
          "force_destroy": false,
          "id": "scripts/userdata_client_app.sh",
          "key": "scripts/userdata_client_app.sh",
          "kms_key_id": null,
          "metadata": {},
          "object_lock_legal_hold_status": "",
          "object_lock_mode": "",
          "object_lock_retain_until_date": "",
          "override_provider": [],
          "server_side_encryption": "AES256",
          "source": null,
          "source_hash": null,
          "storage_class": "STANDARD",
          "tags": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "tags_all": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "version_id": "jyDvmEfJs2Urfvv7jnb1wdIftbKxK6Xh",
          "website_redirect": ""
        },
        "after": {
          "acl": null,
          "arn": "arn:aws:s3:::dev-web-app-157021/scripts/userdata_client_app.sh",
          "bucket": "dev-web-app-157021",
          "bucket_key_enabled": false,
          "cache_control": "",
          "checksum_algorithm": null,
          "checksum_crc32": "",
          "checksum_crc32c": "",
          "checksum_crc64nvme": "",
          "checksum_sha1": "",
          "checksum_sha256": "",
          "content": "#!/bin/bash\n# User data script for Client Management Application\n# This script sets up a Flask application to manage client information\n\n# Don't use 'set -e' - we want to continue even if some commands fail\n# Use || true for commands that can safely fail\nset -u  # Only exit on undefined variables\nset -o pipefail  # Exit on pipe failures\n\necho \"=== Starting Client Management Application Setup ===\"\n\n# Update system and install Python\necho \"Updating system packages...\"\nsudo apt update -y\nsudo apt install -y python3 python3-pip\n\n# Install and start SSM Agent for Session Manager connectivity\necho \"Installing and starting SSM Agent...\"\nif ! command -v amazon-ssm-agent &> /dev/null; then\n    echo \"SSM Agent not found, installing via snap...\"\n    sudo snap install amazon-ssm-agent --classic || {\n        echo \"  Snap install failed, trying alternative method...\"\n        # Alternative: Install from deb package if snap fails\n        cd /tmp\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        sudo dpkg -i amazon-ssm-agent.deb || sudo apt-get install -f -y\n        rm -f amazon-ssm-agent.deb\n    }\nfi\n\n# Start SSM Agent\necho \"Starting SSM Agent...\"\nsudo systemctl enable amazon-ssm-agent || sudo systemctl enable snap.amazon-ssm-agent.amazon-ssm-agent.service || true\nsudo systemctl start amazon-ssm-agent || sudo systemctl start snap.amazon-ssm-agent.amazon-ssm-agent.service || sudo snap start amazon-ssm-agent || true\n\n# Verify SSM Agent is running\nsleep 2\nif sudo systemctl is-active --quiet amazon-ssm-agent || sudo systemctl is-active --quiet snap.amazon-ssm-agent.amazon-ssm-agent.service; then\n    echo \" SSM Agent is running\"\nelse\n    echo \"  SSM Agent may not be running, check logs with: sudo journalctl -u amazon-ssm-agent\"\nfi\n\n# Stop Apache if installed (to avoid port 80 conflict)\nsudo systemctl stop apache2 || true\nsudo systemctl disable apache2 || true\n\n# Install Python packages for PostgreSQL\necho \"Installing Python packages (Flask, psycopg2-binary, boto3)...\"\nsudo -H pip3 install flask psycopg2-binary boto3 || {\n    echo \"  pip3 install failed, trying with --break-system-packages...\"\n    sudo -H pip3 install --break-system-packages flask psycopg2-binary boto3\n}\n\n# Verify installation\necho \"Verifying Python packages...\"\npython3 -c \"import flask; import psycopg2; import boto3; print(' All packages installed successfully')\" || {\n    echo \" Package verification failed, trying alternative installation...\"\n    sudo apt-get install -y python3-flask python3-psycopg2 python3-boto3 || true\n    python3 -c \"import flask; import psycopg2; import boto3; print(' Packages verified')\" || echo \"  Some packages may not be available\"\n}\n\n# Create app directory\nmkdir -p /home/ubuntu/webapp\ncd /home/ubuntu/webapp\n\n# Copy the client application\n# Note: In production, you'd want to pull this from a Git repository or S3\n# For now, we'll create it inline\ncat << 'CLIENT_APP' > app.py\nimport os\nimport json\nimport boto3\nfrom flask import Flask, request, render_template_string, redirect, url_for\nimport psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# HTML Template\nCLIENT_FORM_HTML = \"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Client Information System</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background: white;\n            padding: 30px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .nav {\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .nav a {\n            margin: 0 10px;\n            padding: 8px 16px;\n            text-decoration: none;\n            background-color: #007bff;\n            color: white;\n            border-radius: 4px;\n        }\n        .nav a:hover {\n            background-color: #0056b3;\n        }\n        form {\n            display: grid;\n            gap: 15px;\n        }\n        label {\n            font-weight: bold;\n            color: #555;\n        }\n        input[type=\"text\"],\n        input[type=\"email\"],\n        input[type=\"tel\"],\n        textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        textarea {\n            resize: vertical;\n            min-height: 80px;\n        }\n        button {\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #218838;\n        }\n        .success {\n            background-color: #d4edda;\n            color: #155724;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        .error {\n            background-color: #f8d7da;\n            color: #721c24;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #007bff;\n            color: white;\n        }\n        tr:hover {\n            background-color: #f5f5f5;\n        }\n        .empty {\n            text-align: center;\n            color: #888;\n            padding: 40px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1> Client Information System</h1>\n        <div class=\"nav\">\n            <a href=\"/\">Add Client</a>\n            <a href=\"/clients\">View Clients</a>\n            <a href=\"/health\">Health Check</a>\n        </div>\n        {% if message %}\n        <div class=\"{{ message_type }}\">{{ message }}</div>\n        {% endif %}\n        {{ content|safe }}\n    </div>\n</body>\n</html>\n\"\"\"\n\nFORM_CONTENT = \"\"\"\n<h2>Add New Client</h2>\n<form method=\"POST\" action=\"/\">\n    <div>\n        <label for=\"name\">Full Name *</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"John Doe\">\n    </div>\n    \n    <div>\n        <label for=\"email\">Email Address *</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"john@example.com\">\n    </div>\n    \n    <div>\n        <label for=\"phone\">Phone Number</label>\n        <input type=\"tel\" id=\"phone\" name=\"phone\" placeholder=\"+1 234-567-8900\">\n    </div>\n    \n    <div>\n        <label for=\"company\">Company</label>\n        <input type=\"text\" id=\"company\" name=\"company\" placeholder=\"Acme Inc.\">\n    </div>\n    \n    <div>\n        <label for=\"address\">Address</label>\n        <textarea id=\"address\" name=\"address\" placeholder=\"123 Main St, City, State, ZIP\"></textarea>\n    </div>\n    \n    <div>\n        <label for=\"notes\">Notes</label>\n        <textarea id=\"notes\" name=\"notes\" placeholder=\"Additional information\"></textarea>\n    </div>\n    \n    <button type=\"submit\">Save Client</button>\n</form>\n\"\"\"\n\n\ndef get_db_credentials():\n    secret_name = os.getenv(\"SECRET_NAME\")\n    region = os.getenv(\"AWS_REGION\", \"us-east-1\")\n    \n    if not secret_name:\n        raise ValueError(\"SECRET_NAME environment variable not set\")\n    \n    client = boto3.client(\"secretsmanager\", region_name=region)\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response[\"SecretString\"])\n\n\ndef get_db_connection():\n    max_retries = 3\n    retry_delay = 2\n    \n    for attempt in range(max_retries):\n        try:\n            creds = get_db_credentials()\n            \n            # PostgreSQL RDS requires SSL connections\n            conn = psycopg2.connect(\n                host=creds[\"host\"],\n                database=creds[\"dbname\"],\n                user=creds[\"username\"],\n                password=creds[\"password\"],\n                port=int(creds[\"port\"]),\n                connect_timeout=10,\n                sslmode=\"require\"  # RDS PostgreSQL requires SSL\n            )\n            \n            print(f\" Database connection successful (attempt {attempt + 1})\")\n            return conn\n            \n        except psycopg2.OperationalError as e:\n            if \"password authentication failed\" in str(e).lower() or \"access denied\" in str(e).lower():\n                print(f\" Database access denied: {e}\")\n                raise Exception(f\"Database access denied: {e}\")\n            elif attempt < max_retries - 1:\n                print(f\"  Connection attempt {attempt + 1} failed, retrying...\")\n                import time\n                time.sleep(retry_delay)\n                continue\n            else:\n                raise Exception(f\"Database connection failed: {e}\")\n        except Exception as e:\n            print(f\" Database connection error: {e}\")\n            if attempt < max_retries - 1:\n                import time\n                time.sleep(retry_delay)\n                continue\n            raise\n\n\ndef init_database():\n    try:\n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS clients (\n                id SERIAL PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL,\n                phone VARCHAR(50),\n                company VARCHAR(255),\n                address TEXT,\n                notes TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                CONSTRAINT unique_email UNIQUE (email)\n            )\n        \"\"\")\n        \n        # Create indexes\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_email ON clients(email)\")\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_name ON clients(name)\")\n        \n        # Create trigger for updated_at (PostgreSQL equivalent of ON UPDATE CURRENT_TIMESTAMP)\n        cursor.execute(\"\"\"\n            CREATE OR REPLACE FUNCTION update_updated_at_column()\n            RETURNS TRIGGER AS $$\n            BEGIN\n                NEW.updated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ language 'plpgsql';\n        \"\"\")\n        cursor.execute(\"\"\"\n            DROP TRIGGER IF EXISTS update_clients_updated_at ON clients;\n            CREATE TRIGGER update_clients_updated_at\n                BEFORE UPDATE ON clients\n                FOR EACH ROW\n                EXECUTE FUNCTION update_updated_at_column();\n        \"\"\")\n        \n        conn.commit()\n        cursor.close()\n        conn.close()\n        \n        print(\" Database table initialized successfully\")\n        return True\n        \n    except psycopg2.OperationalError as e:\n        error_msg = str(e)\n        print(f\"  Database connection error: {error_msg}\")\n        print(f\"   Check: Security group, network connectivity, credentials\")\n        return False\n    except psycopg2.Error as e:\n        error_msg = str(e)\n        print(f\"  Database error: {error_msg}\")\n        return False\n    except Exception as e:\n        error_msg = str(e)\n        print(f\"  Database initialization error: {error_msg}\")\n        print(f\"   Error type: {type(e).__name__}\")\n        import traceback\n        print(f\"   Traceback: {traceback.format_exc()}\")\n        return False\n\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    # Handle POST request (form submission)\n    if request.method == \"POST\":\n        try:\n            name = request.form.get(\"name\", \"\").strip()\n            email = request.form.get(\"email\", \"\").strip()\n            phone = request.form.get(\"phone\", \"\").strip()\n            company = request.form.get(\"company\", \"\").strip()\n            address = request.form.get(\"address\", \"\").strip()\n            notes = request.form.get(\"notes\", \"\").strip()\n            \n            if not name or not email:\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: Name and Email are required fields.\",\n                    message_type=\"error\"\n                )\n            \n            # Try to initialize database and get the actual error if it fails\n            db_init_result = init_database()\n            if not db_init_result:\n                # Get the last error from logs or try connection again to get error\n                try:\n                    conn = get_db_connection()\n                    conn.close()\n                    # If connection works, try init again\n                    if not init_database():\n                        raise Exception(\"Failed to initialize database (connection works but init failed)\")\n                except Exception as conn_err:\n                    raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n            \n            conn = get_db_connection()\n            cursor = conn.cursor()\n            \n            try:\n                cursor.execute(\"\"\"\n                    INSERT INTO clients (name, email, phone, company, address, notes)\n                    VALUES (%s, %s, %s, %s, %s, %s)\n                    RETURNING id\n                \"\"\", (name, email, phone or None, company or None, address or None, notes or None))\n                \n                result = cursor.fetchone()\n                client_id = result[0] if result else None\n                conn.commit()\n                \n                cursor.close()\n                conn.close()\n                \n                success_msg = f\" Client '{name}' has been successfully added! (ID: {client_id})\"\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=success_msg,\n                    message_type=\"success\"\n                )\n                \n            except psycopg2.IntegrityError as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: A client with this email already exists.\",\n                    message_type=\"error\"\n                )\n            except Exception as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                raise\n                \n        except Exception as e:\n            error_msg = f\"Error saving client: {str(e)}\"\n            print(f\" {error_msg}\")\n            return render_template_string(\n                CLIENT_FORM_HTML,\n                content=FORM_CONTENT,\n                message=error_msg,\n                message_type=\"error\"\n            ), 500\n    \n    # Handle GET request (display form)\n    return render_template_string(CLIENT_FORM_HTML, content=FORM_CONTENT)\n\n\n@app.route(\"/clients\")\ndef list_clients():\n    try:\n        # Try to initialize database and get the actual error if it fails\n        db_init_result = init_database()\n        if not db_init_result:\n            # Get the last error from logs or try connection again to get error\n            try:\n                conn = get_db_connection()\n                conn.close()\n                # If connection works, try init again\n                if not init_database():\n                    raise Exception(\"Failed to initialize database (connection works but init failed)\")\n            except Exception as conn_err:\n                raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n        \n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            SELECT id, name, email, phone, company, address, notes, \n                   created_at, updated_at\n            FROM clients\n            ORDER BY created_at DESC\n        \"\"\")\n        \n        clients = cursor.fetchall()\n        cursor.close()\n        conn.close()\n        \n        if not clients:\n            content = '<div class=\"empty\"><h2>No clients found</h2><p>Start by adding a new client.</p></div>'\n            return render_template_string(CLIENT_FORM_HTML, content=content)\n        \n        table_html = \"\"\"\n        <h2> All Clients ({} total)</h2>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Company</th>\n                    <th>Created</th>\n                </tr>\n            </thead>\n            <tbody>\n        \"\"\".format(len(clients))\n        \n        for client in clients:\n            created_at = client['created_at'].strftime('%Y-%m-%d %H:%M') if client['created_at'] else 'N/A'\n            table_html += f\"\"\"\n                <tr>\n                    <td>{client['id']}</td>\n                    <td><strong>{client['name']}</strong></td>\n                    <td>{client['email']}</td>\n                    <td>{client['phone'] or '-'}</td>\n                    <td>{client['company'] or '-'}</td>\n                    <td>{created_at}</td>\n                </tr>\n            \"\"\"\n        \n        table_html += \"\"\"\n            </tbody>\n        </table>\n        \"\"\"\n        \n        return render_template_string(CLIENT_FORM_HTML, content=table_html)\n        \n    except Exception as e:\n        error_msg = f\"Error retrieving clients: {str(e)}\"\n        print(f\" {error_msg}\")\n        return render_template_string(\n            CLIENT_FORM_HTML,\n            content=f'<div class=\"error\">{error_msg}</div>',\n            message_type=\"error\"\n        ), 500\n\n\n@app.route(\"/health\")\ndef health():\n    # Health check endpoint - MUST NOT require database access\n    # ALB health checks will fail if this endpoint requires DB connection\n    # Returns 200 OK if Flask app is running (simple check)\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"running\",\n        \"timestamp\": datetime.now().isoformat()\n    }, 200\n\n\nif __name__ == \"__main__\":\n    try:\n        print(\"=== Client Management Application Starting ===\")\n        \n        # Start Flask IMMEDIATELY - don't block on database initialization\n        # Database will be initialized lazily on first request that needs it\n        # This ensures health checks work even if database is not ready\n        import threading\n        \n        def init_db_async():\n            \"\"\"Initialize database in background thread\"\"\"\n            try:\n                import time\n                time.sleep(5)  # Give Flask time to start first\n                print(\"Attempting database initialization in background...\")\n                init_database()\n                print(\" Database initialized successfully\")\n            except Exception as e:\n                print(f\"  Database initialization failed (will retry on first request): {e}\")\n        \n        # Start database initialization in background thread\n        db_thread = threading.Thread(target=init_db_async, daemon=True)\n        db_thread.start()\n        \n        print(\" Flask application starting (health check available immediately)\")\n        print(\"   Flask will listen on 0.0.0.0:80\")\n        app.run(host=\"0.0.0.0\", port=80, debug=False, threaded=True)\n    except Exception as e:\n        print(f\" CRITICAL: Flask failed to start: {e}\")\n        import traceback\n        traceback.print_exc()\n        raise\nCLIENT_APP\n\n# Install authbind to allow non-root user to bind to port 80\nsudo apt-get install -y authbind\n\n# Allow ubuntu user to bind to port 80\nsudo touch /etc/authbind/byport/80\nsudo chmod 500 /etc/authbind/byport/80\nsudo chown ubuntu:ubuntu /etc/authbind/byport/80\n\n# Create systemd service for Flask\ncat << SERVICE | sudo tee /etc/systemd/system/flaskapp.service\n[Unit]\nDescription=Client Management Flask Application\nAfter=network.target\n\n[Service]\nUser=ubuntu\nWorkingDirectory=/home/ubuntu/webapp\nEnvironment=\"SECRET_NAME=arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"\nEnvironment=\"AWS_REGION=us-east-1\"\nEnvironment=\"PATH=/usr/local/bin:/usr/bin:/bin\"\nExecStart=/usr/bin/authbind --deep /usr/bin/python3 /home/ubuntu/webapp/app.py\nRestart=on-failure\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=60\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# Enable and start Flask service\nsudo systemctl daemon-reload\nsudo systemctl enable flaskapp\n\n# Start Flask service\necho \"Starting Flask application...\"\nsudo systemctl start flaskapp\nsleep 10\n\n# Verify Flask is running\nif sudo systemctl is-active --quiet flaskapp; then\n    echo \" Flask service is running\"\n    sleep 2\n    if curl -f http://localhost/health > /dev/null 2>&1; then\n        echo \" Health endpoint is responding\"\n    else\n        echo \"  Health endpoint not responding yet, checking logs...\"\n        sudo journalctl -u flaskapp --no-pager -n 20 || true\n    fi\nelse\n    echo \" Flask service failed to start\"\n    echo \"Checking logs for errors...\"\n    sudo journalctl -u flaskapp --no-pager -n 50 || true\n    echo \"\"\n    echo \"  Flask service failed, but continuing userdata script...\"\n    echo \"Service will be retried by systemd with Restart=on-failure\"\n    echo \"You can check logs later with: sudo journalctl -u flaskapp -f\"\nfi\n\necho \"=== Client Management Application Setup Complete ===\"",
          "content_base64": null,
          "content_disposition": "",
          "content_encoding": "",
          "content_language": "",
          "content_type": "text/x-shellscript",
          "etag": "997b6435ce6d7f8eaaccd7d55dcb7e73",
          "force_destroy": false,
          "id": "scripts/userdata_client_app.sh",
          "key": "scripts/userdata_client_app.sh",
          "kms_key_id": null,
          "metadata": {},
          "object_lock_legal_hold_status": "",
          "object_lock_mode": "",
          "object_lock_retain_until_date": "",
          "override_provider": [],
          "server_side_encryption": "AES256",
          "source": null,
          "source_hash": null,
          "storage_class": "STANDARD",
          "tags": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "tags_all": {
            "Name": "Client App Userdata Script",
            "Type": "Userdata"
          },
          "version_id": "jyDvmEfJs2Urfvv7jnb1wdIftbKxK6Xh",
          "website_redirect": ""
        },
        "after_unknown": {},
        "before_sensitive": {
          "metadata": {},
          "override_provider": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "metadata": {},
          "override_provider": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_secretsmanager_secret.db_credential",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "db_credential",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "description": "RDS database credentials for web-app-dev application",
          "force_overwrite_replica_secret": false,
          "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "kms_key_id": "",
          "name": "web-app-dev-db-credential",
          "name_prefix": "",
          "policy": "",
          "recovery_window_in_days": 0,
          "replica": [],
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "web-app-dev-db-credential"
          },
          "tags_all": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "web-app-dev-db-credential"
          }
        },
        "after": {
          "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "description": "RDS database credentials for web-app-dev application",
          "force_overwrite_replica_secret": false,
          "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "kms_key_id": "",
          "name": "web-app-dev-db-credential",
          "name_prefix": "",
          "policy": "",
          "recovery_window_in_days": 0,
          "replica": [],
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "web-app-dev-db-credential"
          },
          "tags_all": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "web-app-dev-db-credential"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "replica": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "replica": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_secretsmanager_secret_version.db_credential",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "db_credential",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "has_secret_string_wo": null,
          "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a|terraform-2025121017425850300000000b",
          "secret_binary": "",
          "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "secret_string": "{\"dbname\":\"app_db\",\"engine\":\"postgres\",\"host\":\"web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":5432,\"username\":\"dbadmin\"}",
          "secret_string_wo": null,
          "secret_string_wo_version": null,
          "version_id": "terraform-2025121017425850300000000b",
          "version_stages": [
            "AWSPREVIOUS"
          ]
        },
        "after": {
          "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "has_secret_string_wo": null,
          "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a|terraform-2025121017425850300000000b",
          "secret_binary": "",
          "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "secret_string": "{\"dbname\":\"app_db\",\"engine\":\"postgres\",\"host\":\"web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":5432,\"username\":\"dbadmin\"}",
          "secret_string_wo": null,
          "secret_string_wo_version": null,
          "version_id": "terraform-2025121017425850300000000b",
          "version_stages": [
            "AWSPREVIOUS"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "secret_binary": true,
          "secret_string": true,
          "secret_string_wo": true,
          "version_stages": [
            false
          ]
        },
        "after_sensitive": {
          "secret_binary": true,
          "secret_string": true,
          "secret_string_wo": true,
          "version_stages": [
            false
          ]
        }
      }
    },
    {
      "address": "aws_security_group.alb-sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "alb-sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00830d59372461d2c",
          "description": "Security Group for the Application Load Balancer",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-00830d59372461d2c",
          "ingress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow HTTP from internet",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow HTTPS from internet",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 443
            }
          ],
          "name": "web-app-dev-alb-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-alb-sg"
          },
          "tags_all": {
            "Name": "web-app-dev-alb-sg"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00830d59372461d2c",
          "description": "Security Group for the Application Load Balancer",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-00830d59372461d2c",
          "ingress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow HTTP from internet",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow HTTPS from internet",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 443
            }
          ],
          "name": "web-app-dev-alb-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-alb-sg"
          },
          "tags_all": {
            "Name": "web-app-dev-alb-sg"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_security_group.app-server-sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "app-server-sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-009ab7c7d8df7eceb",
          "description": "Security Group for the app-server instances",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-009ab7c7d8df7eceb",
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "Allow HTTP from ALB",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [],
              "description": "Allow HTTPS from ALB",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 443
            },
            {
              "cidr_blocks": [],
              "description": "Allow SSH from bastion host",
              "from_port": 22,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-0fe1c7c0045fffe5f"
              ],
              "self": false,
              "to_port": 22
            }
          ],
          "name": "web-app-dev-instance-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-instance-sg"
          },
          "tags_all": {
            "Name": "web-app-dev-instance-sg"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-009ab7c7d8df7eceb",
          "description": "Security Group for the app-server instances",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-009ab7c7d8df7eceb",
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "Allow HTTP from ALB",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [],
              "description": "Allow HTTPS from ALB",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "self": false,
              "to_port": 443
            }
          ],
          "name": "web-app-dev-instance-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-instance-sg"
          },
          "tags_all": {
            "Name": "web-app-dev-instance-sg"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_security_group.bastion_sg[0]",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "bastion_sg",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0fe1c7c0045fffe5f",
          "description": "Security Group for Bastion Host - Temporary troubleshooting instance",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0fe1c7c0045fffe5f",
          "ingress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow ICMP from internet",
              "from_port": -1,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "icmp",
              "security_groups": [],
              "self": false,
              "to_port": -1
            },
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "SSH from internet",
              "from_port": 22,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 22
            }
          ],
          "name": "web-app-dev-bastion-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "tags_all": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0fe1c7c0045fffe5f",
          "description": "Security Group for Bastion Host - Temporary troubleshooting instance",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow all outbound traffic",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0fe1c7c0045fffe5f",
          "ingress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Allow ICMP from internet",
              "from_port": -1,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "icmp",
              "security_groups": [],
              "self": false,
              "to_port": -1
            },
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "SSH from internet",
              "from_port": 22,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 22
            }
          ],
          "name": "web-app-dev-bastion-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "tags_all": {
            "ManagedBy": "Terraform",
            "Name": "web-app-dev-bastion",
            "Purpose": "Troubleshooting",
            "Temporary": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_security_group.db-sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "db-sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0aeb90adbedae575c",
          "description": "Security Group for the database",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0aeb90adbedae575c",
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "Allow PostgreSQL access from app servers",
              "from_port": 5432,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-009ab7c7d8df7eceb"
              ],
              "self": false,
              "to_port": 5432
            }
          ],
          "name": "web-app-dev-db-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "name": "web-app-dev"
          },
          "tags_all": {
            "name": "web-app-dev"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0aeb90adbedae575c",
          "description": "Security Group for the database",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0aeb90adbedae575c",
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "Allow PostgreSQL access from app servers",
              "from_port": 5432,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [
                "sg-009ab7c7d8df7eceb"
              ],
              "self": false,
              "to_port": 5432
            }
          ],
          "name": "web-app-dev-db-sg",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "name": "web-app-dev"
          },
          "tags_all": {
            "name": "web-app-dev"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": [
                false
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_security_group_rule.app_server_allow_bastion_ssh[0]",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "app_server_allow_bastion_ssh",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "cidr_blocks": null,
          "description": "Allow SSH from bastion host",
          "from_port": 22,
          "id": "sgrule-4047439005",
          "ipv6_cidr_blocks": null,
          "prefix_list_ids": null,
          "protocol": "tcp",
          "security_group_id": "sg-009ab7c7d8df7eceb",
          "security_group_rule_id": "sgr-0ef96201f154a23c8",
          "self": false,
          "source_security_group_id": "sg-0fe1c7c0045fffe5f",
          "timeouts": null,
          "to_port": 22,
          "type": "ingress"
        },
        "after": {
          "cidr_blocks": null,
          "description": "Allow SSH from bastion host",
          "from_port": 22,
          "id": "sgrule-4047439005",
          "ipv6_cidr_blocks": null,
          "prefix_list_ids": null,
          "protocol": "tcp",
          "security_group_id": "sg-009ab7c7d8df7eceb",
          "security_group_rule_id": "sgr-0ef96201f154a23c8",
          "self": false,
          "source_security_group_id": "sg-0fe1c7c0045fffe5f",
          "timeouts": null,
          "to_port": 22,
          "type": "ingress"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "null_resource.instance_refresh_trigger",
      "mode": "managed",
      "type": "null_resource",
      "name": "instance_refresh_trigger",
      "provider_name": "registry.terraform.io/hashicorp/null",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "1684440273615415533",
          "triggers": {
            "asg_name": "web-app-dev-asg",
            "user_data_hash": "e169ba65364e7db4265741e5b1e8e07e792d68a6109d351fc7fd1b1964e84459"
          }
        },
        "after": {
          "id": "1684440273615415533",
          "triggers": {
            "asg_name": "web-app-dev-asg",
            "user_data_hash": "e169ba65364e7db4265741e5b1e8e07e792d68a6109d351fc7fd1b1964e84459"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "triggers": {}
        },
        "after_sensitive": {
          "triggers": {}
        }
      }
    },
    {
      "address": "null_resource.sync_db_password",
      "mode": "managed",
      "type": "null_resource",
      "name": "sync_db_password",
      "provider_name": "registry.terraform.io/hashicorp/null",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "8795904885779171413",
          "triggers": {
            "db_instance_id": "web-app-dev-db-db",
            "db_instance_status": "available",
            "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a"
          }
        },
        "after": {
          "id": "8795904885779171413",
          "triggers": {
            "db_instance_id": "web-app-dev-db-db",
            "db_instance_status": "available",
            "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "triggers": {}
        },
        "after_sensitive": {
          "triggers": {}
        }
      }
    },
    {
      "address": "random_integer.random",
      "mode": "managed",
      "type": "random_integer",
      "name": "random",
      "provider_name": "registry.terraform.io/hashicorp/random",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "157021",
          "keepers": null,
          "max": 999999,
          "min": 100000,
          "result": 157021,
          "seed": null
        },
        "after": {
          "id": "157021",
          "keepers": null,
          "max": 999999,
          "min": 100000,
          "result": 157021,
          "seed": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_db_subnet_group.database[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_db_subnet_group",
      "name": "database",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:rds:us-east-1:211125336427:subgrp:dev-vpc",
          "description": "Database subnet group for dev-vpc",
          "id": "dev-vpc",
          "name": "dev-vpc",
          "name_prefix": "",
          "subnet_ids": [
            "subnet-0587e1bf569e9ba82",
            "subnet-0ba5709102532ea5a"
          ],
          "supported_network_types": [
            "IPV4"
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:rds:us-east-1:211125336427:subgrp:dev-vpc",
          "description": "Database subnet group for dev-vpc",
          "id": "dev-vpc",
          "name": "dev-vpc",
          "name_prefix": "",
          "subnet_ids": [
            "subnet-0587e1bf569e9ba82",
            "subnet-0ba5709102532ea5a"
          ],
          "supported_network_types": [
            "IPV4"
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "subnet_ids": [
            false,
            false
          ],
          "supported_network_types": [
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "subnet_ids": [
            false,
            false
          ],
          "supported_network_types": [
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_default_network_acl.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_default_network_acl",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:network-acl/acl-09d75561178c59659",
          "default_network_acl_id": "acl-09d75561178c59659",
          "egress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "id": "acl-09d75561178c59659",
          "ingress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "owner_id": "211125336427",
          "subnet_ids": [
            "subnet-0257115d2a1ef35ea",
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb",
            "subnet-0587e1bf569e9ba82",
            "subnet-0aaa1627feff66ddf",
            "subnet-0ba5709102532ea5a"
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:network-acl/acl-09d75561178c59659",
          "default_network_acl_id": "acl-09d75561178c59659",
          "egress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "id": "acl-09d75561178c59659",
          "ingress": [
            {
              "action": "allow",
              "cidr_block": "",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "::/0",
              "protocol": "-1",
              "rule_no": 101,
              "to_port": 0
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": 0,
              "icmp_type": 0,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "owner_id": "211125336427",
          "subnet_ids": [
            "subnet-0257115d2a1ef35ea",
            "subnet-045dee18d553a8a2a",
            "subnet-05450a4ab7f5408bb",
            "subnet-0587e1bf569e9ba82",
            "subnet-0aaa1627feff66ddf",
            "subnet-0ba5709102532ea5a"
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {},
            {}
          ],
          "ingress": [
            {},
            {}
          ],
          "subnet_ids": [
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {},
            {}
          ],
          "ingress": [
            {},
            {}
          ],
          "subnet_ids": [
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_default_route_table.default[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_default_route_table",
      "name": "default",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-044b5633fdaebb72d",
          "default_route_table_id": "rtb-044b5633fdaebb72d",
          "id": "rtb-044b5633fdaebb72d",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": {
            "create": "5m",
            "update": "5m"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-044b5633fdaebb72d",
          "default_route_table_id": "rtb-044b5633fdaebb72d",
          "id": "rtb-044b5633fdaebb72d",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": {
            "create": "5m",
            "update": "5m"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {}
        },
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_default_security_group.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_default_security_group",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00ba1002f2a04343d",
          "description": "default VPC security group",
          "egress": [],
          "id": "sg-00ba1002f2a04343d",
          "ingress": [],
          "name": "default",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00ba1002f2a04343d",
          "description": "default VPC security group",
          "egress": [],
          "id": "sg-00ba1002f2a04343d",
          "ingress": [],
          "name": "default",
          "name_prefix": "",
          "owner_id": "211125336427",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_eip.nat[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "address": null,
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "arn": "arn:aws:ec2:us-east-1:211125336427:elastic-ip/eipalloc-0ca1ddd3756729ba8",
          "associate_with_private_ip": null,
          "association_id": "eipassoc-03df71fc1245d42f4",
          "carrier_ip": "",
          "customer_owned_ip": "",
          "customer_owned_ipv4_pool": "",
          "domain": "vpc",
          "id": "eipalloc-0ca1ddd3756729ba8",
          "instance": "",
          "ipam_pool_id": null,
          "network_border_group": "us-east-1",
          "network_interface": "eni-0cfbbb29449a358a7",
          "private_dns": "ip-10-0-1-247.ec2.internal",
          "private_ip": "10.0.1.247",
          "ptr_record": "",
          "public_dns": "ec2-18-210-208-127.compute-1.amazonaws.com",
          "public_ip": "18.210.208.127",
          "public_ipv4_pool": "amazon",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc": true
        },
        "after": {
          "address": null,
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "arn": "arn:aws:ec2:us-east-1:211125336427:elastic-ip/eipalloc-0ca1ddd3756729ba8",
          "associate_with_private_ip": null,
          "association_id": "eipassoc-03df71fc1245d42f4",
          "carrier_ip": "",
          "customer_owned_ip": "",
          "customer_owned_ipv4_pool": "",
          "domain": "vpc",
          "id": "eipalloc-0ca1ddd3756729ba8",
          "instance": "",
          "ipam_pool_id": null,
          "network_border_group": "us-east-1",
          "network_interface": "eni-0cfbbb29449a358a7",
          "private_dns": "ip-10-0-1-247.ec2.internal",
          "private_ip": "10.0.1.247",
          "ptr_record": "",
          "public_dns": "ec2-18-210-208-127.compute-1.amazonaws.com",
          "public_ip": "18.210.208.127",
          "public_ipv4_pool": "amazon",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc": true
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_internet_gateway.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:internet-gateway/igw-01b50c1d9ccca0886",
          "id": "igw-01b50c1d9ccca0886",
          "owner_id": "211125336427",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:internet-gateway/igw-01b50c1d9ccca0886",
          "id": "igw-01b50c1d9ccca0886",
          "owner_id": "211125336427",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_nat_gateway.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "association_id": "eipassoc-03df71fc1245d42f4",
          "connectivity_type": "public",
          "id": "nat-09d5abcfcb652fc19",
          "network_interface_id": "eni-0cfbbb29449a358a7",
          "private_ip": "10.0.1.247",
          "public_ip": "18.210.208.127",
          "secondary_allocation_ids": [],
          "secondary_private_ip_address_count": 0,
          "secondary_private_ip_addresses": [],
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null
        },
        "after": {
          "allocation_id": "eipalloc-0ca1ddd3756729ba8",
          "association_id": "eipassoc-03df71fc1245d42f4",
          "connectivity_type": "public",
          "id": "nat-09d5abcfcb652fc19",
          "network_interface_id": "eni-0cfbbb29449a358a7",
          "private_ip": "10.0.1.247",
          "public_ip": "18.210.208.127",
          "secondary_allocation_ids": [],
          "secondary_private_ip_address_count": 0,
          "secondary_private_ip_addresses": [],
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {
          "secondary_allocation_ids": [],
          "secondary_private_ip_addresses": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "secondary_allocation_ids": [],
          "secondary_private_ip_addresses": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route.private_nat_gateway[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "carrier_gateway_id": "",
          "core_network_arn": "",
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": "",
          "destination_prefix_list_id": "",
          "egress_only_gateway_id": "",
          "gateway_id": "",
          "id": "r-rtb-0847470e04bef136e1080289494",
          "instance_id": "",
          "instance_owner_id": "",
          "local_gateway_id": "",
          "nat_gateway_id": "nat-09d5abcfcb652fc19",
          "network_interface_id": "",
          "origin": "CreateRoute",
          "route_table_id": "rtb-0847470e04bef136e",
          "state": "active",
          "timeouts": {
            "create": "5m",
            "delete": null,
            "update": null
          },
          "transit_gateway_id": "",
          "vpc_endpoint_id": "",
          "vpc_peering_connection_id": ""
        },
        "after": {
          "carrier_gateway_id": "",
          "core_network_arn": "",
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": "",
          "destination_prefix_list_id": "",
          "egress_only_gateway_id": "",
          "gateway_id": "",
          "id": "r-rtb-0847470e04bef136e1080289494",
          "instance_id": "",
          "instance_owner_id": "",
          "local_gateway_id": "",
          "nat_gateway_id": "nat-09d5abcfcb652fc19",
          "network_interface_id": "",
          "origin": "CreateRoute",
          "route_table_id": "rtb-0847470e04bef136e",
          "state": "active",
          "timeouts": {
            "create": "5m",
            "delete": null,
            "update": null
          },
          "transit_gateway_id": "",
          "vpc_endpoint_id": "",
          "vpc_peering_connection_id": ""
        },
        "after_unknown": {},
        "before_sensitive": {
          "timeouts": {}
        },
        "after_sensitive": {
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route.public_internet_gateway[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "carrier_gateway_id": "",
          "core_network_arn": "",
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": "",
          "destination_prefix_list_id": "",
          "egress_only_gateway_id": "",
          "gateway_id": "igw-01b50c1d9ccca0886",
          "id": "r-rtb-055d1aee5e7604d6b1080289494",
          "instance_id": "",
          "instance_owner_id": "",
          "local_gateway_id": "",
          "nat_gateway_id": "",
          "network_interface_id": "",
          "origin": "CreateRoute",
          "route_table_id": "rtb-055d1aee5e7604d6b",
          "state": "active",
          "timeouts": {
            "create": "5m",
            "delete": null,
            "update": null
          },
          "transit_gateway_id": "",
          "vpc_endpoint_id": "",
          "vpc_peering_connection_id": ""
        },
        "after": {
          "carrier_gateway_id": "",
          "core_network_arn": "",
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": "",
          "destination_prefix_list_id": "",
          "egress_only_gateway_id": "",
          "gateway_id": "igw-01b50c1d9ccca0886",
          "id": "r-rtb-055d1aee5e7604d6b1080289494",
          "instance_id": "",
          "instance_owner_id": "",
          "local_gateway_id": "",
          "nat_gateway_id": "",
          "network_interface_id": "",
          "origin": "CreateRoute",
          "route_table_id": "rtb-055d1aee5e7604d6b",
          "state": "active",
          "timeouts": {
            "create": "5m",
            "delete": null,
            "update": null
          },
          "transit_gateway_id": "",
          "vpc_endpoint_id": "",
          "vpc_peering_connection_id": ""
        },
        "after_unknown": {},
        "before_sensitive": {
          "timeouts": {}
        },
        "after_sensitive": {
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-0847470e04bef136e",
          "id": "rtb-0847470e04bef136e",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "gateway_id": "",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "nat-09d5abcfcb652fc19",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-0847470e04bef136e",
          "id": "rtb-0847470e04bef136e",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "gateway_id": "",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "nat-09d5abcfcb652fc19",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-055d1aee5e7604d6b",
          "id": "rtb-055d1aee5e7604d6b",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "gateway_id": "igw-01b50c1d9ccca0886",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-055d1aee5e7604d6b",
          "id": "rtb-055d1aee5e7604d6b",
          "owner_id": "211125336427",
          "propagating_vgws": [],
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "gateway_id": "igw-01b50c1d9ccca0886",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.database[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "database",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "gateway_id": "",
          "id": "rtbassoc-00130e3f52b5f1f9e",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-0587e1bf569e9ba82",
          "timeouts": null
        },
        "after": {
          "gateway_id": "",
          "id": "rtbassoc-00130e3f52b5f1f9e",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-0587e1bf569e9ba82",
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.database[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "database",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "gateway_id": "",
          "id": "rtbassoc-000885b4ae2ab5b0e",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-0ba5709102532ea5a",
          "timeouts": null
        },
        "after": {
          "gateway_id": "",
          "id": "rtbassoc-000885b4ae2ab5b0e",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-0ba5709102532ea5a",
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "gateway_id": "",
          "id": "rtbassoc-0f2c6a6de4e121e72",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-045dee18d553a8a2a",
          "timeouts": null
        },
        "after": {
          "gateway_id": "",
          "id": "rtbassoc-0f2c6a6de4e121e72",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-045dee18d553a8a2a",
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "gateway_id": "",
          "id": "rtbassoc-0baa3ef024b1a808e",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-05450a4ab7f5408bb",
          "timeouts": null
        },
        "after": {
          "gateway_id": "",
          "id": "rtbassoc-0baa3ef024b1a808e",
          "route_table_id": "rtb-0847470e04bef136e",
          "subnet_id": "subnet-05450a4ab7f5408bb",
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "gateway_id": "",
          "id": "rtbassoc-043ba94e3ac9b3a0b",
          "route_table_id": "rtb-055d1aee5e7604d6b",
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "timeouts": null
        },
        "after": {
          "gateway_id": "",
          "id": "rtbassoc-043ba94e3ac9b3a0b",
          "route_table_id": "rtb-055d1aee5e7604d6b",
          "subnet_id": "subnet-0257115d2a1ef35ea",
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "gateway_id": "",
          "id": "rtbassoc-03a0263e0e8699145",
          "route_table_id": "rtb-055d1aee5e7604d6b",
          "subnet_id": "subnet-0aaa1627feff66ddf",
          "timeouts": null
        },
        "after": {
          "gateway_id": "",
          "id": "rtbassoc-03a0263e0e8699145",
          "route_table_id": "rtb-055d1aee5e7604d6b",
          "subnet_id": "subnet-0aaa1627feff66ddf",
          "timeouts": null
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_subnet.database[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "database",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0587e1bf569e9ba82",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "availability_zone_id": "use1-az4",
          "cidr_block": "10.0.81.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0587e1bf569e9ba82",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0587e1bf569e9ba82",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "availability_zone_id": "use1-az4",
          "cidr_block": "10.0.81.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0587e1bf569e9ba82",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.database[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "database",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0ba5709102532ea5a",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "availability_zone_id": "use1-az6",
          "cidr_block": "10.0.82.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0ba5709102532ea5a",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0ba5709102532ea5a",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "availability_zone_id": "use1-az6",
          "cidr_block": "10.0.82.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0ba5709102532ea5a",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-045dee18d553a8a2a",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "availability_zone_id": "use1-az4",
          "cidr_block": "10.0.11.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-045dee18d553a8a2a",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-045dee18d553a8a2a",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "availability_zone_id": "use1-az4",
          "cidr_block": "10.0.11.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-045dee18d553a8a2a",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-05450a4ab7f5408bb",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "availability_zone_id": "use1-az6",
          "cidr_block": "10.0.12.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-05450a4ab7f5408bb",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-05450a4ab7f5408bb",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "availability_zone_id": "use1-az6",
          "cidr_block": "10.0.12.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-05450a4ab7f5408bb",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0257115d2a1ef35ea",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "availability_zone_id": "use1-az4",
          "cidr_block": "10.0.1.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0257115d2a1ef35ea",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0257115d2a1ef35ea",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "availability_zone_id": "use1-az4",
          "cidr_block": "10.0.1.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0257115d2a1ef35ea",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0aaa1627feff66ddf",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "availability_zone_id": "use1-az6",
          "cidr_block": "10.0.2.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0aaa1627feff66ddf",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0aaa1627feff66ddf",
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "availability_zone_id": "use1-az6",
          "cidr_block": "10.0.2.0/24",
          "customer_owned_ipv4_pool": "",
          "enable_dns64": false,
          "enable_lni_at_device_index": 0,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "id": "subnet-0aaa1627feff66ddf",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_association_id": "",
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": false,
          "map_public_ip_on_launch": false,
          "outpost_arn": "",
          "owner_id": "211125336427",
          "private_dns_hostname_type_on_launch": "ip-name",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "timeouts": null,
          "vpc_id": "vpc-04a411e97b88a5e4f"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_vpc.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:vpc/vpc-04a411e97b88a5e4f",
          "assign_generated_ipv6_cidr_block": false,
          "cidr_block": "10.0.0.0/16",
          "default_network_acl_id": "acl-09d75561178c59659",
          "default_route_table_id": "rtb-044b5633fdaebb72d",
          "default_security_group_id": "sg-00ba1002f2a04343d",
          "dhcp_options_id": "dopt-0daf33fc72d9a76a9",
          "enable_dns_hostnames": true,
          "enable_dns_support": true,
          "enable_network_address_usage_metrics": false,
          "id": "vpc-04a411e97b88a5e4f",
          "instance_tenancy": "default",
          "ipv4_ipam_pool_id": null,
          "ipv4_netmask_length": null,
          "ipv6_association_id": "",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_network_border_group": "",
          "ipv6_ipam_pool_id": "",
          "ipv6_netmask_length": 0,
          "main_route_table_id": "rtb-044b5633fdaebb72d",
          "owner_id": "211125336427",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          }
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:211125336427:vpc/vpc-04a411e97b88a5e4f",
          "assign_generated_ipv6_cidr_block": false,
          "cidr_block": "10.0.0.0/16",
          "default_network_acl_id": "acl-09d75561178c59659",
          "default_route_table_id": "rtb-044b5633fdaebb72d",
          "default_security_group_id": "sg-00ba1002f2a04343d",
          "dhcp_options_id": "dopt-0daf33fc72d9a76a9",
          "enable_dns_hostnames": true,
          "enable_dns_support": true,
          "enable_network_address_usage_metrics": false,
          "id": "vpc-04a411e97b88a5e4f",
          "instance_tenancy": "default",
          "ipv4_ipam_pool_id": null,
          "ipv4_netmask_length": null,
          "ipv6_association_id": "",
          "ipv6_cidr_block": "",
          "ipv6_cidr_block_network_border_group": "",
          "ipv6_ipam_pool_id": "",
          "ipv6_netmask_length": 0,
          "main_route_table_id": "rtb-044b5633fdaebb72d",
          "owner_id": "211125336427",
          "tags": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          },
          "tags_all": {
            "Name": "web-app-dev-vpc",
            "Terraform": "true"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
      "module_address": "module.database.module.db_instance",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "enhanced_monitoring",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "override_json": null,
          "override_policy_documents": null,
          "policy_id": null,
          "source_json": null,
          "source_policy_documents": null,
          "statement": [
            {
              "actions": [
                "sts:AssumeRole"
              ],
              "condition": [],
              "effect": null,
              "not_actions": null,
              "not_principals": [],
              "not_resources": null,
              "principals": [
                {
                  "identifiers": [
                    "monitoring.rds.amazonaws.com"
                  ],
                  "type": "Service"
                }
              ],
              "resources": null,
              "sid": null
            }
          ],
          "version": null
        },
        "after_unknown": {
          "id": true,
          "json": true,
          "minified_json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ]
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ]
            }
          ]
        }
      },
      "action_reason": "read_because_dependency_pending"
    },
    {
      "address": "module.database.module.db_instance.data.aws_partition.current",
      "module_address": "module.database.module.db_instance",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {},
        "after_unknown": {
          "dns_suffix": true,
          "id": true,
          "partition": true,
          "reverse_dns_prefix": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      },
      "action_reason": "read_because_dependency_pending"
    },
    {
      "address": "module.database.module.db_instance.aws_db_instance.this[0]",
      "module_address": "module.database.module.db_instance",
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "address": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com",
          "allocated_storage": 20,
          "allow_major_version_upgrade": false,
          "apply_immediately": false,
          "arn": "arn:aws:rds:us-east-1:211125336427:db:web-app-dev-db-db",
          "auto_minor_version_upgrade": true,
          "availability_zone": "us-east-1a",
          "backup_retention_period": 7,
          "backup_target": "region",
          "backup_window": "00:00-03:00",
          "blue_green_update": [],
          "ca_cert_identifier": "rds-ca-rsa2048-g1",
          "character_set_name": "",
          "copy_tags_to_snapshot": false,
          "custom_iam_instance_profile": "",
          "customer_owned_ip_enabled": false,
          "database_insights_mode": "standard",
          "db_name": "app_db",
          "db_subnet_group_name": "dev-vpc",
          "dedicated_log_volume": false,
          "delete_automated_backups": true,
          "deletion_protection": false,
          "domain": "",
          "domain_auth_secret_arn": "",
          "domain_dns_ips": [],
          "domain_fqdn": "",
          "domain_iam_role_name": "",
          "domain_ou": "",
          "enabled_cloudwatch_logs_exports": [],
          "endpoint": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com:5432",
          "engine": "postgres",
          "engine_lifecycle_support": "open-source-rds-extended-support",
          "engine_version": "16.11",
          "engine_version_actual": "16.11",
          "final_snapshot_identifier": null,
          "hosted_zone_id": "Z2R2ITUGPM61AM",
          "iam_database_authentication_enabled": false,
          "id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "identifier": "web-app-dev-db-db",
          "identifier_prefix": "",
          "instance_class": "db.t3.micro",
          "iops": 0,
          "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/b18b28a3-e535-46b1-ba2d-5b133d648613",
          "latest_restorable_time": "2025-12-10T19:09:33Z",
          "license_model": "postgresql-license",
          "listener_endpoint": [],
          "maintenance_window": "mon:03:25-mon:03:55",
          "manage_master_user_password": true,
          "master_user_secret": [
            {
              "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/c38f0f90-5203-454e-9074-d8d29853d4b3",
              "secret_arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi",
              "secret_status": "active"
            }
          ],
          "master_user_secret_kms_key_id": null,
          "max_allocated_storage": 100,
          "monitoring_interval": 0,
          "monitoring_role_arn": "",
          "multi_az": false,
          "nchar_character_set_name": "",
          "network_type": "IPV4",
          "option_group_name": "default:postgres-16",
          "parameter_group_name": "default.postgres16",
          "password": null,
          "password_wo": null,
          "password_wo_version": null,
          "performance_insights_enabled": false,
          "performance_insights_kms_key_id": "",
          "performance_insights_retention_period": 0,
          "port": 5432,
          "publicly_accessible": false,
          "replica_mode": "",
          "replicas": [],
          "replicate_source_db": "",
          "resource_id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "restore_to_point_in_time": [],
          "s3_import": [],
          "skip_final_snapshot": true,
          "snapshot_identifier": null,
          "status": "available",
          "storage_encrypted": true,
          "storage_throughput": 0,
          "storage_type": "gp2",
          "tags": {
            "Name": "web-app-dev-db-157021"
          },
          "tags_all": {
            "Name": "web-app-dev-db-157021"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "timezone": "",
          "upgrade_storage_config": null,
          "username": "dbadmin",
          "vpc_security_group_ids": [
            "sg-0aeb90adbedae575c"
          ]
        },
        "after": {
          "address": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com",
          "allocated_storage": 20,
          "allow_major_version_upgrade": false,
          "apply_immediately": false,
          "arn": "arn:aws:rds:us-east-1:211125336427:db:web-app-dev-db-db",
          "auto_minor_version_upgrade": true,
          "availability_zone": "us-east-1a",
          "backup_retention_period": 7,
          "backup_target": "region",
          "backup_window": "00:00-03:00",
          "blue_green_update": [],
          "ca_cert_identifier": "rds-ca-rsa2048-g1",
          "character_set_name": "",
          "copy_tags_to_snapshot": false,
          "custom_iam_instance_profile": "",
          "customer_owned_ip_enabled": false,
          "database_insights_mode": "standard",
          "db_name": "app_db",
          "db_subnet_group_name": "dev-vpc",
          "dedicated_log_volume": false,
          "delete_automated_backups": true,
          "deletion_protection": false,
          "domain": "",
          "domain_auth_secret_arn": "",
          "domain_dns_ips": [],
          "domain_fqdn": "",
          "domain_iam_role_name": "",
          "domain_ou": "",
          "enabled_cloudwatch_logs_exports": [],
          "endpoint": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com:5432",
          "engine": "postgres",
          "engine_lifecycle_support": "open-source-rds-extended-support",
          "engine_version": "16.11",
          "engine_version_actual": "16.11",
          "final_snapshot_identifier": null,
          "hosted_zone_id": "Z2R2ITUGPM61AM",
          "iam_database_authentication_enabled": false,
          "id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "identifier": "web-app-dev-db-db",
          "identifier_prefix": "",
          "instance_class": "db.t3.micro",
          "iops": 0,
          "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/b18b28a3-e535-46b1-ba2d-5b133d648613",
          "latest_restorable_time": "2025-12-10T19:09:33Z",
          "license_model": "postgresql-license",
          "listener_endpoint": [],
          "maintenance_window": "mon:03:25-mon:03:55",
          "manage_master_user_password": true,
          "master_user_secret": [
            {
              "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/c38f0f90-5203-454e-9074-d8d29853d4b3",
              "secret_arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi",
              "secret_status": "active"
            }
          ],
          "master_user_secret_kms_key_id": null,
          "max_allocated_storage": 100,
          "monitoring_interval": 0,
          "monitoring_role_arn": "",
          "multi_az": false,
          "nchar_character_set_name": "",
          "network_type": "IPV4",
          "option_group_name": "default:postgres-16",
          "parameter_group_name": "default.postgres16",
          "password": null,
          "password_wo": null,
          "password_wo_version": null,
          "performance_insights_enabled": false,
          "performance_insights_kms_key_id": "",
          "performance_insights_retention_period": 0,
          "port": 5432,
          "publicly_accessible": false,
          "replica_mode": "",
          "replicas": [],
          "replicate_source_db": "",
          "resource_id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
          "restore_to_point_in_time": [],
          "s3_import": [],
          "skip_final_snapshot": true,
          "snapshot_identifier": null,
          "status": "available",
          "storage_encrypted": true,
          "storage_throughput": 0,
          "storage_type": "gp2",
          "tags": {
            "Name": "web-app-dev-db-157021"
          },
          "tags_all": {
            "Name": "web-app-dev-db-157021"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "timezone": "",
          "upgrade_storage_config": null,
          "username": "dbadmin",
          "vpc_security_group_ids": [
            "sg-0aeb90adbedae575c"
          ]
        },
        "after_unknown": {},
        "before_sensitive": {
          "blue_green_update": [],
          "domain_dns_ips": [],
          "enabled_cloudwatch_logs_exports": [],
          "listener_endpoint": [],
          "master_user_secret": [
            {}
          ],
          "password": true,
          "password_wo": true,
          "replicas": [],
          "restore_to_point_in_time": [],
          "s3_import": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_security_group_ids": [
            false
          ]
        },
        "after_sensitive": {
          "blue_green_update": [],
          "domain_dns_ips": [],
          "enabled_cloudwatch_logs_exports": [],
          "listener_endpoint": [],
          "master_user_secret": [
            {}
          ],
          "password": true,
          "password_wo": true,
          "replicas": [],
          "restore_to_point_in_time": [],
          "s3_import": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_security_group_ids": [
            false
          ]
        }
      }
    }
  ],
  "output_changes": {
    "alb_https_url": {
      "actions": [
        "no-op"
      ],
      "before": "https://dev.211125336427.realhandsonlabs.net",
      "after": "https://dev.211125336427.realhandsonlabs.net",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "bastion_instance_id": {
      "actions": [
        "no-op"
      ],
      "before": "i-013c15bb6a15f5186",
      "after": "i-013c15bb6a15f5186",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "bastion_public_ip": {
      "actions": [
        "no-op"
      ],
      "before": "3.80.112.34",
      "after": "3.80.112.34",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "bastion_ssh_command": {
      "actions": [
        "no-op"
      ],
      "before": "SSH requires key_name. Public IP: 3.80.112.34",
      "after": "SSH requires key_name. Public IP: 3.80.112.34",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "bastion_ssm_command": {
      "actions": [
        "no-op"
      ],
      "before": "aws ssm start-session --target i-013c15bb6a15f5186 --region us-east-1",
      "after": "aws ssm start-session --target i-013c15bb6a15f5186 --region us-east-1",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "db_instance_id": {
      "actions": [
        "no-op"
      ],
      "before": "web-app-dev-db-db",
      "after": "web-app-dev-db-db",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "db_secret_arn": {
      "actions": [
        "no-op"
      ],
      "before": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
      "after": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "instance_count": {
      "actions": [
        "no-op"
      ],
      "before": 1,
      "after": 1,
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "launch_template_latest_version": {
      "actions": [
        "no-op"
      ],
      "before": 1,
      "after": 1,
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "s3_bucket_app_assets": {
      "actions": [
        "no-op"
      ],
      "before": "dev-web-app-157021",
      "after": "dev-web-app-157021",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "secret_name": {
      "actions": [
        "no-op"
      ],
      "before": "web-app-dev-db-credential",
      "after": "web-app-dev-db-credential",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "ssm_connect_command": {
      "actions": [
        "update"
      ],
      "before": "aws ssm start-session --target i-0d7891393efcb3dc4 --region us-east-1",
      "after": "aws ssm start-session --target i-02c6018c5d9a55ba4 --region us-east-1",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    }
  },
  "prior_state": {
    "format_version": "1.0",
    "terraform_version": "1.13.5",
    "values": {
      "outputs": {
        "alb_https_url": {
          "sensitive": false,
          "value": "https://dev.211125336427.realhandsonlabs.net",
          "type": "string"
        },
        "bastion_instance_id": {
          "sensitive": false,
          "value": "i-013c15bb6a15f5186",
          "type": "string"
        },
        "bastion_public_ip": {
          "sensitive": false,
          "value": "3.80.112.34",
          "type": "string"
        },
        "bastion_ssh_command": {
          "sensitive": false,
          "value": "SSH requires key_name. Public IP: 3.80.112.34",
          "type": "string"
        },
        "bastion_ssm_command": {
          "sensitive": false,
          "value": "aws ssm start-session --target i-013c15bb6a15f5186 --region us-east-1",
          "type": "string"
        },
        "db_instance_id": {
          "sensitive": false,
          "value": "web-app-dev-db-db",
          "type": "string"
        },
        "db_secret_arn": {
          "sensitive": false,
          "value": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
          "type": "string"
        },
        "instance_count": {
          "sensitive": false,
          "value": 1,
          "type": "number"
        },
        "launch_template_latest_version": {
          "sensitive": false,
          "value": 1,
          "type": "number"
        },
        "s3_bucket_app_assets": {
          "sensitive": false,
          "value": "dev-web-app-157021",
          "type": "string"
        },
        "secret_name": {
          "sensitive": false,
          "value": "web-app-dev-db-credential",
          "type": "string"
        },
        "ssm_connect_command": {
          "sensitive": false,
          "value": "aws ssm start-session --target i-02c6018c5d9a55ba4 --region us-east-1",
          "type": "string"
        }
      },
      "root_module": {
        "resources": [
          {
            "address": "data.aws_ami.ubuntu",
            "mode": "data",
            "type": "aws_ami",
            "name": "ubuntu",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "architecture": "x86_64",
              "arn": "arn:aws:ec2:us-east-1::image/ami-0c1f44f890950b53c",
              "block_device_mappings": [
                {
                  "device_name": "/dev/sda1",
                  "ebs": {
                    "delete_on_termination": "true",
                    "encrypted": "false",
                    "iops": "0",
                    "snapshot_id": "snap-0736cc13bfb0099dd",
                    "throughput": "0",
                    "volume_initialization_rate": "0",
                    "volume_size": "8",
                    "volume_type": "gp3"
                  },
                  "no_device": "",
                  "virtual_name": ""
                },
                {
                  "device_name": "/dev/sdb",
                  "ebs": {},
                  "no_device": "",
                  "virtual_name": "ephemeral0"
                },
                {
                  "device_name": "/dev/sdc",
                  "ebs": {},
                  "no_device": "",
                  "virtual_name": "ephemeral1"
                }
              ],
              "boot_mode": "uefi-preferred",
              "creation_date": "2025-11-26T10:51:39.000Z",
              "deprecation_time": "2027-11-26T10:51:39.000Z",
              "description": "Canonical, Ubuntu, 24.04, amd64 noble image",
              "ena_support": true,
              "executable_users": null,
              "filter": [
                {
                  "name": "name",
                  "values": [
                    "ubuntu/images/hvm-ssd-gp3/ubuntu-noble-24.04-amd64-server-*"
                  ]
                }
              ],
              "hypervisor": "xen",
              "id": "ami-0c1f44f890950b53c",
              "image_id": "ami-0c1f44f890950b53c",
              "image_location": "amazon/ubuntu/images/hvm-ssd-gp3/ubuntu-noble-24.04-amd64-server-20251126",
              "image_owner_alias": "amazon",
              "image_type": "machine",
              "imds_support": "v2.0",
              "include_deprecated": false,
              "kernel_id": "",
              "last_launched_time": "",
              "most_recent": true,
              "name": "ubuntu/images/hvm-ssd-gp3/ubuntu-noble-24.04-amd64-server-20251126",
              "name_regex": null,
              "owner_id": "099720109477",
              "owners": [
                "099720109477"
              ],
              "platform": "",
              "platform_details": "Linux/UNIX",
              "product_codes": [],
              "public": true,
              "ramdisk_id": "",
              "root_device_name": "/dev/sda1",
              "root_device_type": "ebs",
              "root_snapshot_id": "snap-0736cc13bfb0099dd",
              "sriov_net_support": "simple",
              "state": "available",
              "state_reason": {
                "code": "UNSET",
                "message": "UNSET"
              },
              "tags": {},
              "timeouts": null,
              "tpm_support": "",
              "uefi_data": null,
              "usage_operation": "RunInstances",
              "virtualization_type": "hvm"
            },
            "sensitive_values": {
              "block_device_mappings": [
                {
                  "ebs": {}
                },
                {
                  "ebs": {}
                },
                {
                  "ebs": {}
                }
              ],
              "filter": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "owners": [
                false
              ],
              "product_codes": [],
              "state_reason": {},
              "tags": {}
            }
          },
          {
            "address": "data.aws_iam_policy_document.ec2_assume",
            "mode": "data",
            "type": "aws_iam_policy_document",
            "name": "ec2_assume",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "id": "2851119427",
              "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
              "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}]}",
              "override_json": null,
              "override_policy_documents": null,
              "policy_id": null,
              "source_json": null,
              "source_policy_documents": null,
              "statement": [
                {
                  "actions": [
                    "sts:AssumeRole"
                  ],
                  "condition": [],
                  "effect": "Allow",
                  "not_actions": [],
                  "not_principals": [],
                  "not_resources": [],
                  "principals": [
                    {
                      "identifiers": [
                        "ec2.amazonaws.com"
                      ],
                      "type": "Service"
                    }
                  ],
                  "resources": [],
                  "sid": ""
                }
              ],
              "version": "2012-10-17"
            },
            "sensitive_values": {
              "statement": [
                {
                  "actions": [
                    false
                  ],
                  "condition": [],
                  "not_actions": [],
                  "not_principals": [],
                  "not_resources": [],
                  "principals": [
                    {
                      "identifiers": [
                        false
                      ]
                    }
                  ],
                  "resources": []
                }
              ]
            }
          },
          {
            "address": "data.aws_route53_zone.hosted_zone",
            "mode": "data",
            "type": "aws_route53_zone",
            "name": "hosted_zone",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:route53:::hostedzone/Z0476534LTCE2W6ERWDB",
              "caller_reference": "211125336427.realhandsonlabs.net2025-02-25 14:59:15.488747",
              "comment": "",
              "id": "Z0476534LTCE2W6ERWDB",
              "linked_service_description": null,
              "linked_service_principal": null,
              "name": "211125336427.realhandsonlabs.net",
              "name_servers": [
                "ns-592.awsdns-10.net",
                "ns-1814.awsdns-34.co.uk",
                "ns-378.awsdns-47.com",
                "ns-1397.awsdns-46.org"
              ],
              "primary_name_server": "ns-592.awsdns-10.net",
              "private_zone": false,
              "resource_record_set_count": 4,
              "tags": {},
              "vpc_id": null,
              "zone_id": "Z0476534LTCE2W6ERWDB"
            },
            "sensitive_values": {
              "name_servers": [
                false,
                false,
                false,
                false
              ],
              "tags": {}
            }
          },
          {
            "address": "data.external.asg_instances",
            "mode": "data",
            "type": "external",
            "name": "asg_instances",
            "provider_name": "registry.terraform.io/hashicorp/external",
            "schema_version": 0,
            "values": {
              "id": "-",
              "program": [
                "bash",
                "-c",
                "ASG_NAME=\"web-app-dev-asg\"\nREGION=\"us-east-1\"\n    \n# Get current instances from ASG (always fresh from AWS API)\nINSTANCES=$(aws autoscaling describe-auto-scaling-groups \\\n  --auto-scaling-group-names \"$ASG_NAME\" \\\n  --region \"$REGION\" \\\n  --query 'AutoScalingGroups[0].Instances[?LifecycleState==`InService` || LifecycleState==`Pending`].InstanceId' \\\n  --output text 2>/dev/null || echo \"\")\n    \n# Convert space-separated to JSON array (works without jq)\nif [ -z \"$INSTANCES\" ] || [ \"$INSTANCES\" == \"None\" ]; then\n  echo '{\"instance_ids\": \"[]\", \"first_instance_id\": \"\", \"count\": \"0\"}'\nelse\n  # Convert space-separated to JSON array manually (no jq dependency)\n  FIRST_ID=$(echo \"$INSTANCES\" | awk '{print $1}')\n  COUNT=$(echo \"$INSTANCES\" | wc -w)\n      \n  # Build JSON array manually and encode it as a JSON string\n  # Terraform external data source requires all values to be strings\n  JSON_ARRAY=\"[\"\n  FIRST=true\n  for INSTANCE in $INSTANCES; do\n    if [ \"$FIRST\" = true ]; then\n      JSON_ARRAY=\"${JSON_ARRAY}\\\"${INSTANCE}\\\"\"\n      FIRST=false\n    else\n      JSON_ARRAY=\"${JSON_ARRAY},\\\"${INSTANCE}\\\"\"\n    fi\n  done\n  JSON_ARRAY=\"${JSON_ARRAY}]\"\n      \n  # Escape the JSON array for embedding in another JSON string\n  # Replace \" with \\\", \\ with \\\\, and newlines with \\n\n  ESCAPED_ARRAY=$(echo \"${JSON_ARRAY}\" | sed 's/\\\\/\\\\\\\\/g' | sed 's/\"/\\\\\"/g' | tr -d '\\n')\n      \n  # Output as JSON with instance_ids as a JSON-encoded string\n  echo \"{\\\"instance_ids\\\": \\\"${ESCAPED_ARRAY}\\\", \\\"first_instance_id\\\": \\\"${FIRST_ID}\\\", \\\"count\\\": \\\"${COUNT}\\\"}\"\nfi\n"
              ],
              "query": null,
              "result": {
                "count": "1",
                "first_instance_id": "i-02c6018c5d9a55ba4",
                "instance_ids": "[\"i-02c6018c5d9a55ba4\"]"
              },
              "working_dir": null
            },
            "sensitive_values": {
              "program": [
                false,
                false,
                false
              ],
              "result": {}
            }
          },
          {
            "address": "aws_acm_certificate.app-server-cert",
            "mode": "managed",
            "type": "aws_acm_certificate",
            "name": "app-server-cert",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
              "certificate_authority_arn": "",
              "certificate_body": null,
              "certificate_chain": null,
              "domain_name": "dev.211125336427.realhandsonlabs.net",
              "domain_validation_options": [
                {
                  "domain_name": "dev.211125336427.realhandsonlabs.net",
                  "resource_record_name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net.",
                  "resource_record_type": "CNAME",
                  "resource_record_value": "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
                }
              ],
              "early_renewal_duration": "",
              "id": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
              "key_algorithm": "RSA_2048",
              "not_after": "2027-01-08T23:59:59Z",
              "not_before": "2025-12-10T00:00:00Z",
              "options": [
                {
                  "certificate_transparency_logging_preference": "ENABLED"
                }
              ],
              "pending_renewal": false,
              "private_key": null,
              "renewal_eligibility": "ELIGIBLE",
              "renewal_summary": [],
              "status": "ISSUED",
              "subject_alternative_names": [
                "dev.211125336427.realhandsonlabs.net"
              ],
              "tags": {
                "Name": "web-app-dev-ssl-cert"
              },
              "tags_all": {
                "Name": "web-app-dev-ssl-cert"
              },
              "type": "AMAZON_ISSUED",
              "validation_emails": [],
              "validation_method": "DNS",
              "validation_option": []
            },
            "sensitive_values": {
              "domain_validation_options": [
                {}
              ],
              "options": [
                {}
              ],
              "private_key": true,
              "renewal_summary": [],
              "subject_alternative_names": [
                false
              ],
              "tags": {},
              "tags_all": {},
              "validation_emails": [],
              "validation_option": []
            }
          },
          {
            "address": "aws_acm_certificate_validation.app-server-cert-validation",
            "mode": "managed",
            "type": "aws_acm_certificate_validation",
            "name": "app-server-cert-validation",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
              "id": "2025-12-10 17:34:11.163 +0000 UTC",
              "timeouts": null,
              "validation_record_fqdns": [
                "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net"
              ]
            },
            "sensitive_values": {
              "validation_record_fqdns": [
                false
              ]
            },
            "depends_on": [
              "aws_acm_certificate.app-server-cert",
              "aws_route53_record.app-server-cert-validation-record",
              "data.aws_route53_zone.hosted_zone"
            ]
          },
          {
            "address": "aws_autoscaling_group.app-server-asg",
            "mode": "managed",
            "type": "aws_autoscaling_group",
            "name": "app-server-asg",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 1,
            "values": {
              "arn": "arn:aws:autoscaling:us-east-1:211125336427:autoScalingGroup:37baf768-dba8-458d-9bf5-5ac5e8e75037:autoScalingGroupName/web-app-dev-asg",
              "availability_zone_distribution": [
                {
                  "capacity_distribution_strategy": "balanced-best-effort"
                }
              ],
              "availability_zones": [
                "us-east-1a",
                "us-east-1b"
              ],
              "capacity_rebalance": false,
              "capacity_reservation_specification": [
                {
                  "capacity_reservation_preference": "default",
                  "capacity_reservation_target": []
                }
              ],
              "context": "",
              "default_cooldown": 300,
              "default_instance_warmup": 0,
              "desired_capacity": 1,
              "desired_capacity_type": "",
              "enabled_metrics": [],
              "force_delete": false,
              "force_delete_warm_pool": false,
              "health_check_grace_period": 600,
              "health_check_type": "ELB",
              "id": "web-app-dev-asg",
              "ignore_failed_scaling_activities": false,
              "initial_lifecycle_hook": [],
              "instance_maintenance_policy": [],
              "instance_refresh": [
                {
                  "preferences": [
                    {
                      "alarm_specification": [],
                      "auto_rollback": true,
                      "checkpoint_delay": "",
                      "checkpoint_percentages": [],
                      "instance_warmup": "120",
                      "max_healthy_percentage": 100,
                      "min_healthy_percentage": 50,
                      "scale_in_protected_instances": "Ignore",
                      "skip_matching": true,
                      "standby_instances": "Ignore"
                    }
                  ],
                  "strategy": "Rolling",
                  "triggers": []
                }
              ],
              "launch_configuration": "",
              "launch_template": [
                {
                  "id": "lt-0906519c6427ecc9c",
                  "name": "web-app-dev-lt-lt-157021",
                  "version": "1"
                }
              ],
              "load_balancers": [],
              "max_instance_lifetime": 0,
              "max_size": 2,
              "metrics_granularity": "1Minute",
              "min_elb_capacity": null,
              "min_size": 1,
              "mixed_instances_policy": [],
              "name": "web-app-dev-asg",
              "name_prefix": "",
              "placement_group": "",
              "predicted_capacity": 0,
              "protect_from_scale_in": false,
              "service_linked_role_arn": "arn:aws:iam::211125336427:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
              "suspended_processes": [],
              "tag": [
                {
                  "key": "Name",
                  "propagate_at_launch": true,
                  "value": "web-app-dev-instance"
                }
              ],
              "target_group_arns": [
                "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881"
              ],
              "termination_policies": [
                "OldestInstance",
                "Default"
              ],
              "timeouts": null,
              "traffic_source": [
                {
                  "identifier": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
                  "type": "elbv2"
                }
              ],
              "vpc_zone_identifier": [
                "subnet-045dee18d553a8a2a",
                "subnet-05450a4ab7f5408bb"
              ],
              "wait_for_capacity_timeout": "10m",
              "wait_for_elb_capacity": null,
              "warm_pool": [],
              "warm_pool_size": 0
            },
            "sensitive_values": {
              "availability_zone_distribution": [
                {}
              ],
              "availability_zones": [
                false,
                false
              ],
              "capacity_reservation_specification": [
                {
                  "capacity_reservation_target": []
                }
              ],
              "enabled_metrics": [],
              "initial_lifecycle_hook": [],
              "instance_maintenance_policy": [],
              "instance_refresh": [
                {
                  "preferences": [
                    {
                      "alarm_specification": [],
                      "checkpoint_percentages": []
                    }
                  ],
                  "triggers": []
                }
              ],
              "launch_template": [
                {}
              ],
              "load_balancers": [],
              "mixed_instances_policy": [],
              "suspended_processes": [],
              "tag": [
                {}
              ],
              "target_group_arns": [
                false
              ],
              "termination_policies": [
                false,
                false
              ],
              "traffic_source": [
                {}
              ],
              "vpc_zone_identifier": [
                false,
                false
              ],
              "warm_pool": []
            },
            "depends_on": [
              "aws_iam_instance_profile.app-server-instance-profile",
              "aws_iam_role.app-server-role",
              "aws_launch_template.app-server-lt",
              "aws_lb.app-server-lb",
              "aws_lb_target_group.app-server-tg",
              "aws_s3_bucket.app_assets",
              "aws_s3_object.userdata_script",
              "aws_secretsmanager_secret.db_credential",
              "aws_secretsmanager_secret_version.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "data.aws_ami.ubuntu",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.aws_iam_role_policy_attachment.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_partition.current",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "null_resource.sync_db_password",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_iam_instance_profile.app-server-instance-profile",
            "mode": "managed",
            "type": "aws_iam_instance_profile",
            "name": "app-server-instance-profile",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:iam::211125336427:instance-profile/web-app-dev-instance-profile",
              "create_date": "2025-12-10T17:33:53Z",
              "id": "web-app-dev-instance-profile",
              "name": "web-app-dev-instance-profile",
              "name_prefix": "",
              "path": "/",
              "role": "web-app-dev-role",
              "tags": {
                "name": "web-app-dev-instance-profile"
              },
              "tags_all": {
                "name": "web-app-dev-instance-profile"
              },
              "unique_id": "AIPATCKAM7FVXGFEZNHXR"
            },
            "sensitive_values": {
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_iam_role.app-server-role"
            ]
          },
          {
            "address": "aws_iam_instance_profile.ssm_instance_profile",
            "mode": "managed",
            "type": "aws_iam_instance_profile",
            "name": "ssm_instance_profile",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:iam::211125336427:instance-profile/ssm-instance-profile",
              "create_date": "2025-12-10T17:33:53Z",
              "id": "ssm-instance-profile",
              "name": "ssm-instance-profile",
              "name_prefix": "",
              "path": "/",
              "role": "ssm-role",
              "tags": {},
              "tags_all": {},
              "unique_id": "AIPATCKAM7FV7RJGPYVU3"
            },
            "sensitive_values": {
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_iam_role.ssm_role",
              "data.aws_iam_policy_document.ec2_assume"
            ]
          },
          {
            "address": "aws_iam_policy.app-server-policy",
            "mode": "managed",
            "type": "aws_iam_policy",
            "name": "app-server-policy",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
              "attachment_count": 1,
              "description": "",
              "id": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
              "name": "web-app-dev-policy",
              "name_prefix": "",
              "path": "/",
              "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::dev-web-app-157021\"},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"},{\"Action\":[\"ssm:StartSession\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:instance/*\",\"arn:aws:ssm:*:*:document/AWS-StartSSHSession\",\"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"]},{\"Action\":[\"ssm:DescribeInstanceInformation\",\"ssm:DescribeInstanceProperties\",\"ssm:DescribeSessions\",\"ssm:GetConnectionStatus\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeInstances\",\"ec2:DescribeInstanceStatus\",\"ec2:DescribeInstanceAttribute\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
              "policy_id": "ANPATCKAM7FV3WMIZO273",
              "tags": {},
              "tags_all": {}
            },
            "sensitive_values": {
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_s3_bucket.app_assets",
              "aws_secretsmanager_secret.db_credential",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_iam_policy.secrets_manager_read",
            "mode": "managed",
            "type": "aws_iam_policy",
            "name": "secrets_manager_read",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
              "attachment_count": 1,
              "description": "Policy to allow EC2 instances to read database credentials from Secrets Manager",
              "id": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
              "name": "web-app-dev-secrets-read-policy",
              "name_prefix": "",
              "path": "/",
              "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\",\"arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi\"]}],\"Version\":\"2012-10-17\"}",
              "policy_id": "ANPATCKAM7FV3GSJZIBKZ",
              "tags": {
                "Name": "web-app-dev-secrets-read-policy"
              },
              "tags_all": {
                "Name": "web-app-dev-secrets-read-policy"
              }
            },
            "sensitive_values": {
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_secretsmanager_secret.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_iam_role.app-server-role",
            "mode": "managed",
            "type": "aws_iam_role",
            "name": "app-server-role",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:iam::211125336427:role/web-app-dev-role",
              "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
              "create_date": "2025-12-10T17:33:52Z",
              "description": "",
              "force_detach_policies": false,
              "id": "web-app-dev-role",
              "inline_policy": [],
              "managed_policy_arns": [
                "arn:aws:iam::211125336427:policy/web-app-dev-policy",
                "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
                "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
              ],
              "max_session_duration": 3600,
              "name": "web-app-dev-role",
              "name_prefix": "",
              "path": "/",
              "permissions_boundary": "",
              "tags": {
                "name": "web-app-dev-role"
              },
              "tags_all": {
                "name": "web-app-dev-role"
              },
              "unique_id": "AROATCKAM7FV536YUY4AK"
            },
            "sensitive_values": {
              "inline_policy": [],
              "managed_policy_arns": [
                false,
                false,
                false
              ],
              "tags": {},
              "tags_all": {}
            }
          },
          {
            "address": "aws_iam_role.ssm_role",
            "mode": "managed",
            "type": "aws_iam_role",
            "name": "ssm_role",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:iam::211125336427:role/ssm-role",
              "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
              "create_date": "2025-12-10T17:33:52Z",
              "description": "",
              "force_detach_policies": false,
              "id": "ssm-role",
              "inline_policy": [],
              "managed_policy_arns": [
                "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
              ],
              "max_session_duration": 3600,
              "name": "ssm-role",
              "name_prefix": "",
              "path": "/",
              "permissions_boundary": "",
              "tags": {},
              "tags_all": {},
              "unique_id": "AROATCKAM7FV5PRYDL7WF"
            },
            "sensitive_values": {
              "inline_policy": [],
              "managed_policy_arns": [
                false
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "data.aws_iam_policy_document.ec2_assume"
            ]
          },
          {
            "address": "aws_iam_role_policy_attachment.app-server-role-policy-attachment",
            "mode": "managed",
            "type": "aws_iam_role_policy_attachment",
            "name": "app-server-role-policy-attachment",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "id": "web-app-dev-role-20251210173353992600000005",
              "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-policy",
              "role": "web-app-dev-role"
            },
            "sensitive_values": {},
            "depends_on": [
              "aws_iam_policy.app-server-policy",
              "aws_iam_role.app-server-role",
              "aws_s3_bucket.app_assets",
              "aws_secretsmanager_secret.db_credential",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_iam_role_policy_attachment.app-server-role-ssm-attachment",
            "mode": "managed",
            "type": "aws_iam_role_policy_attachment",
            "name": "app-server-role-ssm-attachment",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "id": "web-app-dev-role-20251210173353204900000004",
              "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
              "role": "web-app-dev-role"
            },
            "sensitive_values": {},
            "depends_on": [
              "aws_iam_role.app-server-role"
            ]
          },
          {
            "address": "aws_iam_role_policy_attachment.secrets_manager_read",
            "mode": "managed",
            "type": "aws_iam_role_policy_attachment",
            "name": "secrets_manager_read",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "id": "web-app-dev-role-2025121017425347160000000a",
              "policy_arn": "arn:aws:iam::211125336427:policy/web-app-dev-secrets-read-policy",
              "role": "web-app-dev-role"
            },
            "sensitive_values": {},
            "depends_on": [
              "aws_iam_policy.secrets_manager_read",
              "aws_iam_role.app-server-role",
              "aws_secretsmanager_secret.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_iam_role_policy_attachment.ssm_attach",
            "mode": "managed",
            "type": "aws_iam_role_policy_attachment",
            "name": "ssm_attach",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "id": "ssm-role-20251210173353096200000003",
              "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
              "role": "ssm-role"
            },
            "sensitive_values": {},
            "depends_on": [
              "aws_iam_role.ssm_role",
              "data.aws_iam_policy_document.ec2_assume"
            ]
          },
          {
            "address": "aws_instance.bastion[0]",
            "mode": "managed",
            "type": "aws_instance",
            "name": "bastion",
            "index": 0,
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 1,
            "values": {
              "ami": "ami-0c1f44f890950b53c",
              "arn": "arn:aws:ec2:us-east-1:211125336427:instance/i-013c15bb6a15f5186",
              "associate_public_ip_address": true,
              "availability_zone": "us-east-1a",
              "capacity_reservation_specification": [
                {
                  "capacity_reservation_preference": "open",
                  "capacity_reservation_target": []
                }
              ],
              "cpu_core_count": 1,
              "cpu_options": [
                {
                  "amd_sev_snp": "",
                  "core_count": 1,
                  "threads_per_core": 2
                }
              ],
              "cpu_threads_per_core": 2,
              "credit_specification": [
                {
                  "cpu_credits": "unlimited"
                }
              ],
              "disable_api_stop": false,
              "disable_api_termination": false,
              "ebs_block_device": [],
              "ebs_optimized": false,
              "enable_primary_ipv6": null,
              "enclave_options": [
                {
                  "enabled": false
                }
              ],
              "ephemeral_block_device": [],
              "get_password_data": false,
              "hibernation": false,
              "host_id": "",
              "host_resource_group_arn": null,
              "iam_instance_profile": "web-app-dev-instance-profile",
              "id": "i-013c15bb6a15f5186",
              "instance_initiated_shutdown_behavior": "stop",
              "instance_lifecycle": "",
              "instance_market_options": [],
              "instance_state": "running",
              "instance_type": "t3.micro",
              "ipv6_address_count": 0,
              "ipv6_addresses": [],
              "key_name": "",
              "launch_template": [],
              "maintenance_options": [
                {
                  "auto_recovery": "default"
                }
              ],
              "metadata_options": [
                {
                  "http_endpoint": "enabled",
                  "http_protocol_ipv6": "disabled",
                  "http_put_response_hop_limit": 2,
                  "http_tokens": "required",
                  "instance_metadata_tags": "disabled"
                }
              ],
              "monitoring": false,
              "network_interface": [],
              "outpost_arn": "",
              "password_data": "",
              "placement_group": "",
              "placement_partition_number": 0,
              "primary_network_interface_id": "eni-029d15f0576428dd7",
              "private_dns": "ip-10-0-1-249.ec2.internal",
              "private_dns_name_options": [
                {
                  "enable_resource_name_dns_a_record": false,
                  "enable_resource_name_dns_aaaa_record": false,
                  "hostname_type": "ip-name"
                }
              ],
              "private_ip": "10.0.1.249",
              "public_dns": "ec2-3-80-112-34.compute-1.amazonaws.com",
              "public_ip": "3.80.112.34",
              "root_block_device": [
                {
                  "delete_on_termination": true,
                  "device_name": "/dev/sda1",
                  "encrypted": false,
                  "iops": 3000,
                  "kms_key_id": "",
                  "tags": {},
                  "tags_all": {},
                  "throughput": 125,
                  "volume_id": "vol-0272bc9303f01ae45",
                  "volume_size": 8,
                  "volume_type": "gp3"
                }
              ],
              "secondary_private_ips": [],
              "security_groups": [],
              "source_dest_check": true,
              "spot_instance_request_id": "",
              "subnet_id": "subnet-0257115d2a1ef35ea",
              "tags": {
                "ManagedBy": "Terraform",
                "Name": "web-app-dev-bastion",
                "Purpose": "Troubleshooting",
                "Temporary": "true"
              },
              "tags_all": {
                "ManagedBy": "Terraform",
                "Name": "web-app-dev-bastion",
                "Purpose": "Troubleshooting",
                "Temporary": "true"
              },
              "tenancy": "default",
              "timeouts": null,
              "user_data": "b2a1bccdbe9bbc2b9692b37a8b7f1b040f3f2f72",
              "user_data_base64": null,
              "user_data_replace_on_change": false,
              "volume_tags": null,
              "vpc_security_group_ids": [
                "sg-0fe1c7c0045fffe5f"
              ]
            },
            "sensitive_values": {
              "capacity_reservation_specification": [
                {
                  "capacity_reservation_target": []
                }
              ],
              "cpu_options": [
                {}
              ],
              "credit_specification": [
                {}
              ],
              "ebs_block_device": [],
              "enclave_options": [
                {}
              ],
              "ephemeral_block_device": [],
              "instance_market_options": [],
              "ipv6_addresses": [],
              "launch_template": [],
              "maintenance_options": [
                {}
              ],
              "metadata_options": [
                {}
              ],
              "network_interface": [],
              "private_dns_name_options": [
                {}
              ],
              "root_block_device": [
                {
                  "tags": {},
                  "tags_all": {}
                }
              ],
              "secondary_private_ips": [],
              "security_groups": [],
              "tags": {},
              "tags_all": {},
              "vpc_security_group_ids": [
                false
              ]
            },
            "depends_on": [
              "aws_iam_instance_profile.app-server-instance-profile",
              "aws_iam_role.app-server-role",
              "aws_security_group.bastion_sg",
              "data.aws_ami.ubuntu",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
            ]
          },
          {
            "address": "aws_launch_template.app-server-lt",
            "mode": "managed",
            "type": "aws_launch_template",
            "name": "app-server-lt",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:ec2:us-east-1:211125336427:launch-template/lt-0906519c6427ecc9c",
              "block_device_mappings": [],
              "capacity_reservation_specification": [],
              "cpu_options": [],
              "credit_specification": [],
              "default_version": 1,
              "description": "",
              "disable_api_stop": false,
              "disable_api_termination": false,
              "ebs_optimized": "",
              "elastic_gpu_specifications": [],
              "elastic_inference_accelerator": [],
              "enclave_options": [],
              "hibernation_options": [],
              "iam_instance_profile": [
                {
                  "arn": "",
                  "name": "web-app-dev-instance-profile"
                }
              ],
              "id": "lt-0906519c6427ecc9c",
              "image_id": "ami-0c1f44f890950b53c",
              "instance_initiated_shutdown_behavior": "",
              "instance_market_options": [],
              "instance_requirements": [],
              "instance_type": "t3.micro",
              "kernel_id": "",
              "key_name": "",
              "latest_version": 1,
              "license_specification": [],
              "maintenance_options": [],
              "metadata_options": [],
              "monitoring": [],
              "name": "web-app-dev-lt-lt-157021",
              "name_prefix": "",
              "network_interfaces": [],
              "placement": [],
              "private_dns_name_options": [],
              "ram_disk_id": "",
              "security_group_names": [],
              "tag_specifications": [
                {
                  "resource_type": "volume",
                  "tags": {
                    "Name": "web-app-dev-instance-volume"
                  }
                }
              ],
              "tags": {},
              "tags_all": {},
              "update_default_version": true,
              "user_data": "IyEvYmluL2Jhc2gKIyBCb290c3RyYXAgc2NyaXB0IC0gZG93bmxvYWRzIGFuZCBleGVjdXRlcyB0aGUgZnVsbCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwojIFRoaXMgc2NyaXB0IG11c3QgcmVtYWluIHVuZGVyIDE2S0IgdG8gZml0IGluIEVDMiB1c2VyX2RhdGEKCiMgRG9uJ3QgdXNlICdzZXQgLWUnIC0gd2Ugd2FudCB0byBjb250aW51ZSBhbmQgbG9nIGVycm9ycyBpbnN0ZWFkIG9mIGV4aXRpbmcKIyBMb2cgZXZlcnl0aGluZyBmb3IgZGVidWdnaW5nCmV4ZWMgPiA+KHRlZSAtYSAvdmFyL2xvZy9ib290c3RyYXAubG9nfGxvZ2dlciAtdCBib290c3RyYXAgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCiMgQ29uZmlndXJhdGlvbiAtIHRoZXNlIHdpbGwgYmUgaW5qZWN0ZWQgYnkgVGVycmFmb3JtIHRlbXBsYXRlClMzX0tFWT0ic2NyaXB0cy91c2VyZGF0YV9jbGllbnRfYXBwLnNoIgoKZWNobyAiPT09IEJvb3RzdHJhcCBTY3JpcHQgU3RhcnRpbmcgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIlMzIEJ1Y2tldDogZGV2LXdlYi1hcHAtMTU3MDIxIgplY2hvICJTMyBLZXk6ICR7UzNfS0VZfSIKZWNobyAiUmVnaW9uOiB1cy1lYXN0LTEiCgojIEluc3RhbGwgQVdTIENMSSBpZiBub3QgcHJlc2VudAppZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbDsgdGhlbgogICAgZWNobyAiSW5zdGFsbGluZyBBV1MgQ0xJLi4uIgogICAgCiAgICAjIFRyeSBzbmFwIGZpcnN0IChkb2Vzbid0IHJlcXVpcmUgYXB0IHJlcG9zaXRvcmllcywgd29ya3MgZXZlbiB3aXRoIG5ldHdvcmsgaXNzdWVzKQogICAgaWYgY29tbWFuZCAtdiBzbmFwICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIGVjaG8gIlRyeWluZyB0byBpbnN0YWxsIEFXUyBDTEkgdmlhIHNuYXAuLi4iCiAgICAgICAgaWYgc3VkbyBzbmFwIGluc3RhbGwgYXdzLWNsaSAtLWNsYXNzaWMgMj4vZGV2L251bGw7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBzbmFwIgogICAgICAgICAgICAjIEVuc3VyZSBzbmFwIGJpbiBpcyBpbiBQQVRICiAgICAgICAgICAgIGV4cG9ydCBQQVRIPSIvc25hcC9iaW46JFBBVEgiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIFNuYXAgaW5zdGFsbCBmYWlsZWQsIHRyeWluZyBhcHQuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmFsbGJhY2sgdG8gYXB0IGlmIHNuYXAgZGlkbid0IHdvcmsKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIHRvIGluc3RhbGwgQVdTIENMSSB2aWEgYXB0Li4uIgogICAgICAgICMgVHJ5IGFwdCB1cGRhdGUsIGJ1dCBkb24ndCBmYWlsIGlmIGl0IGZhaWxzIChuZXR3b3JrIGlzc3VlcykKICAgICAgICBzdWRvIGFwdC1nZXQgdXBkYXRlIC15IDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiB8fCB0cnVlCiAgICAgICAgCiAgICAgICAgIyBUcnkgaW5zdGFsbGluZyBhd3NjbGksIGJ1dCBjb250aW51ZSBpZiBpdCBmYWlscwogICAgICAgIGlmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGF3c2NsaSAyPiYxIHwgZ3JlcCAtdiAiTmV0d29yayBpcyB1bnJlYWNoYWJsZSI7IHRoZW4KICAgICAgICAgICAgZWNobyAi4pyFIEFXUyBDTEkgaW5zdGFsbGVkIHZpYSBhcHQiCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICLimqDvuI8gIEFwdCBpbnN0YWxsIG1heSBoYXZlIGZhaWxlZCwgY2hlY2tpbmcgaWYgQVdTIENMSSBpcyBhdmFpbGFibGUuLi4iCiAgICAgICAgZmkKICAgIGZpCiAgICAKICAgICMgRmluYWwgZmFsbGJhY2s6IE9mZmljaWFsIEFXUyBpbnN0YWxsZXIKICAgIGlmICEgY29tbWFuZCAtdiBhd3MgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgZWNobyAiVHJ5aW5nIG9mZmljaWFsIEFXUyBDTEkgaW5zdGFsbGVyLi4uIgogICAgICAgIGN1cmwgLWZzU0wgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiL3RtcC9hd3NjbGl2Mi56aXAiIHx8IHsKICAgICAgICAgICAgZWNobyAi4pqg77iPICBGYWlsZWQgdG8gZG93bmxvYWQgQVdTIENMSSBpbnN0YWxsZXIiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIFsgLWYgIi90bXAvYXdzY2xpdjIuemlwIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIGNvbW1hbmQgLXYgdW56aXAgJj4gL2Rldi9udWxsIHx8IHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IHVuemlwIDI+JjEgfCBncmVwIC12ICJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIjsgdGhlbgogICAgICAgICAgICAgICAgdW56aXAgLXEgL3RtcC9hd3NjbGl2Mi56aXAgLWQgL3RtcCAyPi9kZXYvbnVsbCAmJiBcCiAgICAgICAgICAgICAgICBzdWRvIC90bXAvYXdzL2luc3RhbGwgMj4vZGV2L251bGwgJiYgXAogICAgICAgICAgICAgICAgcm0gLXJmIC90bXAvYXdzIC90bXAvYXdzY2xpdjIuemlwICYmIFwKICAgICAgICAgICAgICAgIGVjaG8gIuKchSBBV1MgQ0xJIGluc3RhbGxlZCB2aWEgb2ZmaWNpYWwgaW5zdGFsbGVyIgogICAgICAgICAgICBmaQogICAgICAgIGZpCiAgICBmaQogICAgCiAgICAjIFdhaXQgZm9yIEFXUyBDTEkgdG8gYmUgYXZhaWxhYmxlIGFuZCB2ZXJpZnkgaW5zdGFsbGF0aW9uCiAgICBlY2hvICJWZXJpZnlpbmcgQVdTIENMSSBpbnN0YWxsYXRpb24uLi4iCiAgICBSRVRSWV9DT1VOVD0wCiAgICBNQVhfUkVUUklFUz01CiAgICB3aGlsZSBbICRSRVRSWV9DT1VOVCAtbHQgJE1BWF9SRVRSSUVTIF07IGRvCiAgICAgICAgIyBDaGVjayBtdWx0aXBsZSBwb3NzaWJsZSBsb2NhdGlvbnMKICAgICAgICBpZiBjb21tYW5kIC12IGF3cyAmPiAvZGV2L251bGwgfHwgWyAtZiAvdXNyL2xvY2FsL2Jpbi9hd3MgXSB8fCBbIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgICAgICAjIFNldCBQQVRIIHRvIGluY2x1ZGUgY29tbW9uIGxvY2F0aW9ucwogICAgICAgICAgICBleHBvcnQgUEFUSD0iL3Vzci9sb2NhbC9iaW46L3NuYXAvYmluOiRQQVRIIgogICAgICAgICAgICBpZiBhd3MgLS12ZXJzaW9uIDI+L2Rldi9udWxsOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICLinIUgQVdTIENMSSBpcyByZWFkeSIKICAgICAgICAgICAgICAgIGF3cyAtLXZlcnNpb24KICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICBSRVRSWV9DT1VOVD0kKChSRVRSWV9DT1VOVCArIDEpKQogICAgICAgIGVjaG8gIldhaXRpbmcgZm9yIEFXUyBDTEkuLi4gKGF0dGVtcHQgJFJFVFJZX0NPVU5ULyRNQVhfUkVUUklFUykiCiAgICAgICAgc2xlZXAgMgogICAgZG9uZQogICAgCiAgICBpZiAhIGNvbW1hbmQgLXYgYXdzICY+IC9kZXYvbnVsbCAmJiBbICEgLWYgL3Vzci9sb2NhbC9iaW4vYXdzIF0gJiYgWyAhIC1mIC9zbmFwL2Jpbi9hd3MgXTsgdGhlbgogICAgICAgIGVjaG8gIuKdjCBDUklUSUNBTDogQVdTIENMSSBpbnN0YWxsYXRpb24gZmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0cyIKICAgICAgICBlY2hvICJDYW5ub3QgcHJvY2VlZCB3aXRob3V0IEFXUyBDTEkgdG8gZG93bmxvYWQgdXNlcmRhdGEgc2NyaXB0IGZyb20gUzMiCiAgICAgICAgZWNobyAiQm9vdHN0cmFwIHNjcmlwdCB3aWxsIGV4aXQiCiAgICAgICAgZXhpdCAxCiAgICBmaQplbHNlCiAgICBlY2hvICLinIUgQVdTIENMSSBhbHJlYWR5IGluc3RhbGxlZCIKICAgIGF3cyAtLXZlcnNpb24KZmkKCiMgQ29uZmlndXJlIEFXUyBDTEkgcmVnaW9uCmV4cG9ydCBBV1NfREVGQVVMVF9SRUdJT049InVzLWVhc3QtMSIKZWNobyAiQVdTIENMSSByZWdpb24gY29uZmlndXJlZDogdXMtZWFzdC0xIgoKIyBEb3dubG9hZCB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMwplY2hvICJEb3dubG9hZGluZyB1c2VyZGF0YSBzY3JpcHQgZnJvbSBTMy4uLiIKVVNFUkRBVEFfU0NSSVBUPSIvdG1wL3VzZXJkYXRhX2NsaWVudF9hcHAuc2giCgojIFJldHJ5IGxvZ2ljIGZvciBTMyBkb3dubG9hZApNQVhfUkVUUklFUz0xMApSRVRSWV9ERUxBWT0xMApET1dOTE9BRF9TVUNDRVNTPWZhbHNlCgplY2hvICJBdHRlbXB0aW5nIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBmcm9tIFMzLi4uIgpmb3IgaSBpbiAkKHNlcSAxICRNQVhfUkVUUklFUyk7IGRvCiAgICBlY2hvICJEb3dubG9hZCBhdHRlbXB0ICRpIG9mICRNQVhfUkVUUklFUy4uLiIKICAgIGlmIGF3cyBzMyBjcCAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvJHtTM19LRVl9IiAiJFVTRVJEQVRBX1NDUklQVCIgLS1yZWdpb24gInVzLWVhc3QtMSIgMj4mMTsgdGhlbgogICAgICAgIGVjaG8gIuKchSBTdWNjZXNzZnVsbHkgZG93bmxvYWRlZCB1c2VyZGF0YSBzY3JpcHQiCiAgICAgICAgRE9XTkxPQURfU1VDQ0VTUz10cnVlCiAgICAgICAgYnJlYWsKICAgIGVsc2UKICAgICAgICBFUlJPUl9DT0RFPSQ/CiAgICAgICAgZWNobyAi4pqg77iPICBEb3dubG9hZCBhdHRlbXB0ICRpIGZhaWxlZCAoZXhpdCBjb2RlOiAkRVJST1JfQ09ERSkiCiAgICAgICAgaWYgWyAkaSAtbHQgJE1BWF9SRVRSSUVTIF07IHRoZW4KICAgICAgICAgICAgZWNobyAiICAgUmV0cnlpbmcgaW4gJFJFVFJZX0RFTEFZIHNlY29uZHMuLi4iCiAgICAgICAgICAgIHNsZWVwICRSRVRSWV9ERUxBWQogICAgICAgIGZpCiAgICBmaQpkb25lCgojIFZlcmlmeSBzY3JpcHQgd2FzIGRvd25sb2FkZWQKaWYgWyAiJERPV05MT0FEX1NVQ0NFU1MiID0gZmFsc2UgXSB8fCBbICEgLWYgIiRVU0VSREFUQV9TQ1JJUFQiIF07IHRoZW4KICAgIGVjaG8gIuKdjCBDUklUSUNBTDogRmFpbGVkIHRvIGRvd25sb2FkIHVzZXJkYXRhIHNjcmlwdCBhZnRlciAkTUFYX1JFVFJJRVMgYXR0ZW1wdHMiCiAgICBlY2hvICIgICBTMyBCdWNrZXQ6IGRldi13ZWItYXBwLTE1NzAyMSIKICAgIGVjaG8gIiAgIFMzIEtleTogJHtTM19LRVl9IgogICAgZWNobyAiICAgUmVnaW9uOiB1cy1lYXN0LTEiCiAgICBlY2hvICIgICBGaWxlIHBhdGg6ICRVU0VSREFUQV9TQ1JJUFQiCiAgICBlY2hvICIiCiAgICBlY2hvICJDaGVja2luZyBBV1MgQ0xJIGF2YWlsYWJpbGl0eS4uLiIKICAgIHdoaWNoIGF3cyB8fCBlY2hvICJBV1MgQ0xJIG5vdCBmb3VuZCIKICAgIGVjaG8gIiIKICAgIGVjaG8gIkNoZWNraW5nIFMzIGFjY2Vzcy4uLiIKICAgIGF3cyBzMyBscyAiczM6Ly9kZXYtd2ViLWFwcC0xNTcwMjEvIiAtLXJlZ2lvbiAidXMtZWFzdC0xIiB8fCBlY2hvICJDYW5ub3QgbGlzdCBTMyBidWNrZXQiCiAgICBlY2hvICIiCiAgICBlY2hvICJCb290c3RyYXAgc2NyaXB0IHdpbGwgZXhpdC4gQ2hlY2sgbG9ncyBhYm92ZSBmb3IgZGV0YWlscy4iCiAgICBleGl0IDEKZmkKCiMgTWFrZSBzY3JpcHQgZXhlY3V0YWJsZQplY2hvICJNYWtpbmcgc2NyaXB0IGV4ZWN1dGFibGUuLi4iCmNobW9kICt4ICIkVVNFUkRBVEFfU0NSSVBUIiB8fCB7CiAgICBlY2hvICLimqDvuI8gIEZhaWxlZCB0byBtYWtlIHNjcmlwdCBleGVjdXRhYmxlLCB0cnlpbmcgYW55d2F5Li4uIgp9CgojIEV4ZWN1dGUgdGhlIGRvd25sb2FkZWQgc2NyaXB0CmVjaG8gIkV4ZWN1dGluZyB1c2VyZGF0YSBzY3JpcHQuLi4iCmVjaG8gIlRpbWVzdGFtcCBiZWZvcmUgZXhlY3V0aW9uOiAkKGRhdGUpIgoKIyBFeGVjdXRlIHNjcmlwdCBhbmQgY2FwdHVyZSBleGl0IGNvZGUKaWYgYmFzaCAiJFVTRVJEQVRBX1NDUklQVCI7IHRoZW4KICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pyFIFVzZXJkYXRhIHNjcmlwdCBjb21wbGV0ZWQgKGV4aXQgY29kZTogJEVYSVRfQ09ERSkiCmVsc2UKICAgIEVYSVRfQ09ERT0kPwogICAgZWNobyAi4pqg77iPICBVc2VyZGF0YSBzY3JpcHQgZXhpdGVkIHdpdGggY29kZTogJEVYSVRfQ09ERSIKICAgIGVjaG8gIkNoZWNrIC92YXIvbG9nL3VzZXItZGF0YS5sb2cgZm9yIGRldGFpbHMiCmZpCgplY2hvICI9PT0gQm9vdHN0cmFwIFNjcmlwdCBDb21wbGV0ZWQgPT09IgplY2hvICJUaW1lc3RhbXA6ICQoZGF0ZSkiCmVjaG8gIkZpbmFsIGV4aXQgY29kZTogJEVYSVRfQ09ERSIK",
              "vpc_security_group_ids": [
                "sg-009ab7c7d8df7eceb"
              ]
            },
            "sensitive_values": {
              "block_device_mappings": [],
              "capacity_reservation_specification": [],
              "cpu_options": [],
              "credit_specification": [],
              "elastic_gpu_specifications": [],
              "elastic_inference_accelerator": [],
              "enclave_options": [],
              "hibernation_options": [],
              "iam_instance_profile": [
                {}
              ],
              "instance_market_options": [],
              "instance_requirements": [],
              "license_specification": [],
              "maintenance_options": [],
              "metadata_options": [],
              "monitoring": [],
              "network_interfaces": [],
              "placement": [],
              "private_dns_name_options": [],
              "security_group_names": [],
              "tag_specifications": [
                {
                  "tags": {}
                }
              ],
              "tags": {},
              "tags_all": {},
              "vpc_security_group_ids": [
                false
              ]
            },
            "depends_on": [
              "aws_iam_instance_profile.app-server-instance-profile",
              "aws_iam_role.app-server-role",
              "aws_s3_bucket.app_assets",
              "aws_s3_object.userdata_script",
              "aws_secretsmanager_secret.db_credential",
              "aws_secretsmanager_secret_version.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "data.aws_ami.ubuntu",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.aws_iam_role_policy_attachment.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_partition.current",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "null_resource.sync_db_password",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_lb.app-server-lb",
            "mode": "managed",
            "type": "aws_lb",
            "name": "app-server-lb",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "access_logs": [
                {
                  "bucket": "",
                  "enabled": false,
                  "prefix": ""
                }
              ],
              "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
              "arn_suffix": "app/web-app-dev-lb/eac1ccc084f24a3b",
              "client_keep_alive": 3600,
              "connection_logs": [
                {
                  "bucket": "",
                  "enabled": false,
                  "prefix": ""
                }
              ],
              "customer_owned_ipv4_pool": "",
              "desync_mitigation_mode": "defensive",
              "dns_name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
              "dns_record_client_routing_policy": null,
              "drop_invalid_header_fields": false,
              "enable_cross_zone_load_balancing": true,
              "enable_deletion_protection": false,
              "enable_http2": true,
              "enable_tls_version_and_cipher_suite_headers": false,
              "enable_waf_fail_open": false,
              "enable_xff_client_port": false,
              "enable_zonal_shift": false,
              "enforce_security_group_inbound_rules_on_private_link_traffic": "",
              "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
              "idle_timeout": 60,
              "internal": false,
              "ip_address_type": "ipv4",
              "ipam_pools": [],
              "load_balancer_type": "application",
              "minimum_load_balancer_capacity": [],
              "name": "web-app-dev-lb",
              "name_prefix": "",
              "preserve_host_header": false,
              "security_groups": [
                "sg-00830d59372461d2c"
              ],
              "subnet_mapping": [
                {
                  "allocation_id": "",
                  "ipv6_address": "",
                  "outpost_id": "",
                  "private_ipv4_address": "",
                  "subnet_id": "subnet-0257115d2a1ef35ea"
                },
                {
                  "allocation_id": "",
                  "ipv6_address": "",
                  "outpost_id": "",
                  "private_ipv4_address": "",
                  "subnet_id": "subnet-0aaa1627feff66ddf"
                }
              ],
              "subnets": [
                "subnet-0257115d2a1ef35ea",
                "subnet-0aaa1627feff66ddf"
              ],
              "tags": {},
              "tags_all": {},
              "timeouts": null,
              "vpc_id": "vpc-04a411e97b88a5e4f",
              "xff_header_processing_mode": "append",
              "zone_id": "Z35SXDOTRQ7X7K"
            },
            "sensitive_values": {
              "access_logs": [
                {}
              ],
              "connection_logs": [
                {}
              ],
              "ipam_pools": [],
              "minimum_load_balancer_capacity": [],
              "security_groups": [
                false
              ],
              "subnet_mapping": [
                {},
                {}
              ],
              "subnets": [
                false,
                false
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_security_group.alb-sg",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
            ]
          },
          {
            "address": "aws_lb_listener.app-server-listener",
            "mode": "managed",
            "type": "aws_lb_listener",
            "name": "app-server-listener",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "alpn_policy": null,
              "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
              "certificate_arn": "arn:aws:acm:us-east-1:211125336427:certificate/161cd95f-7a8a-4104-827c-f23a3d05c594",
              "default_action": [
                {
                  "authenticate_cognito": [],
                  "authenticate_oidc": [],
                  "fixed_response": [],
                  "forward": [],
                  "order": 1,
                  "redirect": [],
                  "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
                  "type": "forward"
                }
              ],
              "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/a2ec6eba641126ff",
              "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
              "mutual_authentication": [
                {
                  "advertise_trust_store_ca_names": "",
                  "ignore_client_certificate_expiry": false,
                  "mode": "off",
                  "trust_store_arn": ""
                }
              ],
              "port": 443,
              "protocol": "HTTPS",
              "routing_http_request_x_amzn_mtls_clientcert_header_name": "",
              "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": "",
              "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": "",
              "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": "",
              "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": "",
              "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": "",
              "routing_http_request_x_amzn_tls_cipher_suite_header_name": "",
              "routing_http_request_x_amzn_tls_version_header_name": "",
              "routing_http_response_access_control_allow_credentials_header_value": "",
              "routing_http_response_access_control_allow_headers_header_value": "",
              "routing_http_response_access_control_allow_methods_header_value": "",
              "routing_http_response_access_control_allow_origin_header_value": "",
              "routing_http_response_access_control_expose_headers_header_value": "",
              "routing_http_response_access_control_max_age_header_value": "",
              "routing_http_response_content_security_policy_header_value": "",
              "routing_http_response_server_enabled": true,
              "routing_http_response_strict_transport_security_header_value": "",
              "routing_http_response_x_content_type_options_header_value": "",
              "routing_http_response_x_frame_options_header_value": "",
              "ssl_policy": "ELBSecurityPolicy-2016-08",
              "tags": {},
              "tags_all": {},
              "tcp_idle_timeout_seconds": null,
              "timeouts": null
            },
            "sensitive_values": {
              "default_action": [
                {
                  "authenticate_cognito": [],
                  "authenticate_oidc": [],
                  "fixed_response": [],
                  "forward": [],
                  "redirect": []
                }
              ],
              "mutual_authentication": [
                {}
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_acm_certificate.app-server-cert",
              "aws_acm_certificate_validation.app-server-cert-validation",
              "aws_lb.app-server-lb",
              "aws_lb_target_group.app-server-tg",
              "aws_route53_record.app-server-cert-validation-record",
              "aws_security_group.alb-sg",
              "data.aws_route53_zone.hosted_zone",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
            ]
          },
          {
            "address": "aws_lb_listener.app-server-listener-http",
            "mode": "managed",
            "type": "aws_lb_listener",
            "name": "app-server-listener-http",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "alpn_policy": null,
              "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
              "certificate_arn": null,
              "default_action": [
                {
                  "authenticate_cognito": [],
                  "authenticate_oidc": [],
                  "fixed_response": [],
                  "forward": [],
                  "order": 1,
                  "redirect": [
                    {
                      "host": "#{host}",
                      "path": "/#{path}",
                      "port": "443",
                      "protocol": "HTTPS",
                      "query": "#{query}",
                      "status_code": "HTTP_301"
                    }
                  ],
                  "target_group_arn": "",
                  "type": "redirect"
                }
              ],
              "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:listener/app/web-app-dev-lb/eac1ccc084f24a3b/e7854695b0a428ac",
              "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b",
              "mutual_authentication": [],
              "port": 80,
              "protocol": "HTTP",
              "routing_http_request_x_amzn_mtls_clientcert_header_name": null,
              "routing_http_request_x_amzn_mtls_clientcert_issuer_header_name": null,
              "routing_http_request_x_amzn_mtls_clientcert_leaf_header_name": null,
              "routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name": null,
              "routing_http_request_x_amzn_mtls_clientcert_subject_header_name": null,
              "routing_http_request_x_amzn_mtls_clientcert_validity_header_name": null,
              "routing_http_request_x_amzn_tls_cipher_suite_header_name": null,
              "routing_http_request_x_amzn_tls_version_header_name": null,
              "routing_http_response_access_control_allow_credentials_header_value": "",
              "routing_http_response_access_control_allow_headers_header_value": "",
              "routing_http_response_access_control_allow_methods_header_value": "",
              "routing_http_response_access_control_allow_origin_header_value": "",
              "routing_http_response_access_control_expose_headers_header_value": "",
              "routing_http_response_access_control_max_age_header_value": "",
              "routing_http_response_content_security_policy_header_value": "",
              "routing_http_response_server_enabled": true,
              "routing_http_response_strict_transport_security_header_value": "",
              "routing_http_response_x_content_type_options_header_value": "",
              "routing_http_response_x_frame_options_header_value": "",
              "ssl_policy": "",
              "tags": {},
              "tags_all": {},
              "tcp_idle_timeout_seconds": null,
              "timeouts": null
            },
            "sensitive_values": {
              "default_action": [
                {
                  "authenticate_cognito": [],
                  "authenticate_oidc": [],
                  "fixed_response": [],
                  "forward": [],
                  "redirect": [
                    {}
                  ]
                }
              ],
              "mutual_authentication": [],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_lb.app-server-lb",
              "aws_security_group.alb-sg",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
            ]
          },
          {
            "address": "aws_lb_target_group.app-server-tg",
            "mode": "managed",
            "type": "aws_lb_target_group",
            "name": "app-server-tg",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "arn_suffix": "targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "connection_termination": null,
              "deregistration_delay": "30",
              "health_check": [
                {
                  "enabled": true,
                  "healthy_threshold": 2,
                  "interval": 30,
                  "matcher": "200",
                  "path": "/health",
                  "port": "traffic-port",
                  "protocol": "HTTP",
                  "timeout": 10,
                  "unhealthy_threshold": 3
                }
              ],
              "id": "arn:aws:elasticloadbalancing:us-east-1:211125336427:targetgroup/web-app-dev-tg/e8dc1a9f28d15881",
              "ip_address_type": "ipv4",
              "lambda_multi_value_headers_enabled": false,
              "load_balancer_arns": [
                "arn:aws:elasticloadbalancing:us-east-1:211125336427:loadbalancer/app/web-app-dev-lb/eac1ccc084f24a3b"
              ],
              "load_balancing_algorithm_type": "round_robin",
              "load_balancing_anomaly_mitigation": "off",
              "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
              "name": "web-app-dev-tg",
              "name_prefix": "",
              "port": 80,
              "preserve_client_ip": null,
              "protocol": "HTTP",
              "protocol_version": "HTTP1",
              "proxy_protocol_v2": false,
              "slow_start": 0,
              "stickiness": [
                {
                  "cookie_duration": 86400,
                  "cookie_name": "",
                  "enabled": false,
                  "type": "lb_cookie"
                }
              ],
              "tags": {
                "Name": "web-app-dev-tg"
              },
              "tags_all": {
                "Name": "web-app-dev-tg"
              },
              "target_failover": [
                {
                  "on_deregistration": null,
                  "on_unhealthy": null
                }
              ],
              "target_group_health": [
                {
                  "dns_failover": [
                    {
                      "minimum_healthy_targets_count": "1",
                      "minimum_healthy_targets_percentage": "off"
                    }
                  ],
                  "unhealthy_state_routing": [
                    {
                      "minimum_healthy_targets_count": 1,
                      "minimum_healthy_targets_percentage": "off"
                    }
                  ]
                }
              ],
              "target_health_state": [
                {
                  "enable_unhealthy_connection_termination": null,
                  "unhealthy_draining_interval": null
                }
              ],
              "target_type": "instance",
              "vpc_id": "vpc-04a411e97b88a5e4f"
            },
            "sensitive_values": {
              "health_check": [
                {}
              ],
              "load_balancer_arns": [
                false
              ],
              "stickiness": [
                {}
              ],
              "tags": {},
              "tags_all": {},
              "target_failover": [
                {}
              ],
              "target_group_health": [
                {
                  "dns_failover": [
                    {}
                  ],
                  "unhealthy_state_routing": [
                    {}
                  ]
                }
              ],
              "target_health_state": [
                {}
              ]
            },
            "depends_on": [
              "module.vpc.aws_vpc.this"
            ]
          },
          {
            "address": "aws_route53_record.app-server",
            "mode": "managed",
            "type": "aws_route53_record",
            "name": "app-server",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 2,
            "values": {
              "alias": [
                {
                  "evaluate_target_health": true,
                  "name": "web-app-dev-lb-153718289.us-east-1.elb.amazonaws.com",
                  "zone_id": "Z35SXDOTRQ7X7K"
                }
              ],
              "allow_overwrite": null,
              "cidr_routing_policy": [],
              "failover_routing_policy": [],
              "fqdn": "dev.211125336427.realhandsonlabs.net",
              "geolocation_routing_policy": [],
              "geoproximity_routing_policy": [],
              "health_check_id": "",
              "id": "Z0476534LTCE2W6ERWDB_dev.211125336427.realhandsonlabs.net_A",
              "latency_routing_policy": [],
              "multivalue_answer_routing_policy": false,
              "name": "dev.211125336427.realhandsonlabs.net",
              "records": [],
              "set_identifier": "",
              "timeouts": null,
              "ttl": 0,
              "type": "A",
              "weighted_routing_policy": [],
              "zone_id": "Z0476534LTCE2W6ERWDB"
            },
            "sensitive_values": {
              "alias": [
                {}
              ],
              "cidr_routing_policy": [],
              "failover_routing_policy": [],
              "geolocation_routing_policy": [],
              "geoproximity_routing_policy": [],
              "latency_routing_policy": [],
              "records": [],
              "weighted_routing_policy": []
            },
            "depends_on": [
              "aws_lb.app-server-lb",
              "aws_security_group.alb-sg",
              "data.aws_route53_zone.hosted_zone",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
            ]
          },
          {
            "address": "aws_route53_record.app-server-cert-validation-record[\"dev.211125336427.realhandsonlabs.net\"]",
            "mode": "managed",
            "type": "aws_route53_record",
            "name": "app-server-cert-validation-record",
            "index": "dev.211125336427.realhandsonlabs.net",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 2,
            "values": {
              "alias": [],
              "allow_overwrite": null,
              "cidr_routing_policy": [],
              "failover_routing_policy": [],
              "fqdn": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
              "geolocation_routing_policy": [],
              "geoproximity_routing_policy": [],
              "health_check_id": "",
              "id": "Z0476534LTCE2W6ERWDB__3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net._CNAME",
              "latency_routing_policy": [],
              "multivalue_answer_routing_policy": false,
              "name": "_3c742ca177b5f4311554f39a77564388.dev.211125336427.realhandsonlabs.net",
              "records": [
                "_08408b6ad0946dc84b2499da9d9946f0.jkddzztszm.acm-validations.aws."
              ],
              "set_identifier": "",
              "timeouts": null,
              "ttl": 60,
              "type": "CNAME",
              "weighted_routing_policy": [],
              "zone_id": "Z0476534LTCE2W6ERWDB"
            },
            "sensitive_values": {
              "alias": [],
              "cidr_routing_policy": [],
              "failover_routing_policy": [],
              "geolocation_routing_policy": [],
              "geoproximity_routing_policy": [],
              "latency_routing_policy": [],
              "records": [
                false
              ],
              "weighted_routing_policy": []
            },
            "depends_on": [
              "aws_acm_certificate.app-server-cert",
              "data.aws_route53_zone.hosted_zone"
            ]
          },
          {
            "address": "aws_s3_bucket.app_assets",
            "mode": "managed",
            "type": "aws_s3_bucket",
            "name": "app_assets",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "acceleration_status": "",
              "acl": null,
              "arn": "arn:aws:s3:::dev-web-app-157021",
              "bucket": "dev-web-app-157021",
              "bucket_domain_name": "dev-web-app-157021.s3.amazonaws.com",
              "bucket_prefix": "",
              "bucket_regional_domain_name": "dev-web-app-157021.s3.us-east-1.amazonaws.com",
              "cors_rule": [],
              "force_destroy": true,
              "grant": [
                {
                  "id": "5e786dec603f1f50a0225e93545ae5bd23e4b91b5f1041d7f4faef6b27a8f84b",
                  "permissions": [
                    "FULL_CONTROL"
                  ],
                  "type": "CanonicalUser",
                  "uri": ""
                }
              ],
              "hosted_zone_id": "Z3AQBSTGFYJSTF",
              "id": "dev-web-app-157021",
              "lifecycle_rule": [],
              "logging": [],
              "object_lock_configuration": [],
              "object_lock_enabled": false,
              "policy": "",
              "region": "us-east-1",
              "replication_configuration": [],
              "request_payer": "BucketOwner",
              "server_side_encryption_configuration": [
                {
                  "rule": [
                    {
                      "apply_server_side_encryption_by_default": [
                        {
                          "kms_master_key_id": "",
                          "sse_algorithm": "AES256"
                        }
                      ],
                      "bucket_key_enabled": false
                    }
                  ]
                }
              ],
              "tags": {
                "Environment": "dev",
                "Name": "web-app-dev-assets",
                "Purpose": "Application assets and userdata scripts"
              },
              "tags_all": {
                "Environment": "dev",
                "Name": "web-app-dev-assets",
                "Purpose": "Application assets and userdata scripts"
              },
              "timeouts": null,
              "versioning": [
                {
                  "enabled": true,
                  "mfa_delete": false
                }
              ],
              "website": [],
              "website_domain": null,
              "website_endpoint": null
            },
            "sensitive_values": {
              "cors_rule": [],
              "grant": [
                {
                  "permissions": [
                    false
                  ]
                }
              ],
              "lifecycle_rule": [],
              "logging": [],
              "object_lock_configuration": [],
              "replication_configuration": [],
              "server_side_encryption_configuration": [
                {
                  "rule": [
                    {
                      "apply_server_side_encryption_by_default": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "tags": {},
              "tags_all": {},
              "versioning": [
                {}
              ],
              "website": []
            },
            "depends_on": [
              "random_integer.random"
            ]
          },
          {
            "address": "aws_s3_bucket_public_access_block.app_assets",
            "mode": "managed",
            "type": "aws_s3_bucket_public_access_block",
            "name": "app_assets",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "block_public_acls": true,
              "block_public_policy": true,
              "bucket": "dev-web-app-157021",
              "id": "dev-web-app-157021",
              "ignore_public_acls": true,
              "restrict_public_buckets": true
            },
            "sensitive_values": {},
            "depends_on": [
              "aws_s3_bucket.app_assets",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_s3_bucket_server_side_encryption_configuration.app_assets",
            "mode": "managed",
            "type": "aws_s3_bucket_server_side_encryption_configuration",
            "name": "app_assets",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "bucket": "dev-web-app-157021",
              "expected_bucket_owner": "",
              "id": "dev-web-app-157021",
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {
                      "kms_master_key_id": "",
                      "sse_algorithm": "AES256"
                    }
                  ],
                  "bucket_key_enabled": false
                }
              ]
            },
            "sensitive_values": {
              "rule": [
                {
                  "apply_server_side_encryption_by_default": [
                    {}
                  ]
                }
              ]
            },
            "depends_on": [
              "aws_s3_bucket.app_assets",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_s3_bucket_versioning.app_assets",
            "mode": "managed",
            "type": "aws_s3_bucket_versioning",
            "name": "app_assets",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "bucket": "dev-web-app-157021",
              "expected_bucket_owner": "",
              "id": "dev-web-app-157021",
              "mfa": null,
              "versioning_configuration": [
                {
                  "mfa_delete": "",
                  "status": "Enabled"
                }
              ]
            },
            "sensitive_values": {
              "versioning_configuration": [
                {}
              ]
            },
            "depends_on": [
              "aws_s3_bucket.app_assets",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_s3_object.userdata_script",
            "mode": "managed",
            "type": "aws_s3_object",
            "name": "userdata_script",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "acl": null,
              "arn": "arn:aws:s3:::dev-web-app-157021/scripts/userdata_client_app.sh",
              "bucket": "dev-web-app-157021",
              "bucket_key_enabled": false,
              "cache_control": "",
              "checksum_algorithm": null,
              "checksum_crc32": "",
              "checksum_crc32c": "",
              "checksum_crc64nvme": "",
              "checksum_sha1": "",
              "checksum_sha256": "",
              "content": "#!/bin/bash\n# User data script for Client Management Application\n# This script sets up a Flask application to manage client information\n\n# Don't use 'set -e' - we want to continue even if some commands fail\n# Use || true for commands that can safely fail\nset -u  # Only exit on undefined variables\nset -o pipefail  # Exit on pipe failures\n\necho \"=== Starting Client Management Application Setup ===\"\n\n# Update system and install Python\necho \"Updating system packages...\"\nsudo apt update -y\nsudo apt install -y python3 python3-pip\n\n# Install and start SSM Agent for Session Manager connectivity\necho \"Installing and starting SSM Agent...\"\nif ! command -v amazon-ssm-agent &> /dev/null; then\n    echo \"SSM Agent not found, installing via snap...\"\n    sudo snap install amazon-ssm-agent --classic || {\n        echo \"  Snap install failed, trying alternative method...\"\n        # Alternative: Install from deb package if snap fails\n        cd /tmp\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        sudo dpkg -i amazon-ssm-agent.deb || sudo apt-get install -f -y\n        rm -f amazon-ssm-agent.deb\n    }\nfi\n\n# Start SSM Agent\necho \"Starting SSM Agent...\"\nsudo systemctl enable amazon-ssm-agent || sudo systemctl enable snap.amazon-ssm-agent.amazon-ssm-agent.service || true\nsudo systemctl start amazon-ssm-agent || sudo systemctl start snap.amazon-ssm-agent.amazon-ssm-agent.service || sudo snap start amazon-ssm-agent || true\n\n# Verify SSM Agent is running\nsleep 2\nif sudo systemctl is-active --quiet amazon-ssm-agent || sudo systemctl is-active --quiet snap.amazon-ssm-agent.amazon-ssm-agent.service; then\n    echo \" SSM Agent is running\"\nelse\n    echo \"  SSM Agent may not be running, check logs with: sudo journalctl -u amazon-ssm-agent\"\nfi\n\n# Stop Apache if installed (to avoid port 80 conflict)\nsudo systemctl stop apache2 || true\nsudo systemctl disable apache2 || true\n\n# Install Python packages for PostgreSQL\necho \"Installing Python packages (Flask, psycopg2-binary, boto3)...\"\nsudo -H pip3 install flask psycopg2-binary boto3 || {\n    echo \"  pip3 install failed, trying with --break-system-packages...\"\n    sudo -H pip3 install --break-system-packages flask psycopg2-binary boto3\n}\n\n# Verify installation\necho \"Verifying Python packages...\"\npython3 -c \"import flask; import psycopg2; import boto3; print(' All packages installed successfully')\" || {\n    echo \" Package verification failed, trying alternative installation...\"\n    sudo apt-get install -y python3-flask python3-psycopg2 python3-boto3 || true\n    python3 -c \"import flask; import psycopg2; import boto3; print(' Packages verified')\" || echo \"  Some packages may not be available\"\n}\n\n# Create app directory\nmkdir -p /home/ubuntu/webapp\ncd /home/ubuntu/webapp\n\n# Copy the client application\n# Note: In production, you'd want to pull this from a Git repository or S3\n# For now, we'll create it inline\ncat << 'CLIENT_APP' > app.py\nimport os\nimport json\nimport boto3\nfrom flask import Flask, request, render_template_string, redirect, url_for\nimport psycopg2\nfrom psycopg2.extras import RealDictCursor\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# HTML Template\nCLIENT_FORM_HTML = \"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Client Information System</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .container {\n            background: white;\n            padding: 30px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        h1 {\n            color: #333;\n            text-align: center;\n        }\n        .nav {\n            text-align: center;\n            margin-bottom: 30px;\n        }\n        .nav a {\n            margin: 0 10px;\n            padding: 8px 16px;\n            text-decoration: none;\n            background-color: #007bff;\n            color: white;\n            border-radius: 4px;\n        }\n        .nav a:hover {\n            background-color: #0056b3;\n        }\n        form {\n            display: grid;\n            gap: 15px;\n        }\n        label {\n            font-weight: bold;\n            color: #555;\n        }\n        input[type=\"text\"],\n        input[type=\"email\"],\n        input[type=\"tel\"],\n        textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            box-sizing: border-box;\n        }\n        textarea {\n            resize: vertical;\n            min-height: 80px;\n        }\n        button {\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n        }\n        button:hover {\n            background-color: #218838;\n        }\n        .success {\n            background-color: #d4edda;\n            color: #155724;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        .error {\n            background-color: #f8d7da;\n            color: #721c24;\n            padding: 15px;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            padding: 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background-color: #007bff;\n            color: white;\n        }\n        tr:hover {\n            background-color: #f5f5f5;\n        }\n        .empty {\n            text-align: center;\n            color: #888;\n            padding: 40px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1> Client Information System</h1>\n        <div class=\"nav\">\n            <a href=\"/\">Add Client</a>\n            <a href=\"/clients\">View Clients</a>\n            <a href=\"/health\">Health Check</a>\n        </div>\n        {% if message %}\n        <div class=\"{{ message_type }}\">{{ message }}</div>\n        {% endif %}\n        {{ content|safe }}\n    </div>\n</body>\n</html>\n\"\"\"\n\nFORM_CONTENT = \"\"\"\n<h2>Add New Client</h2>\n<form method=\"POST\" action=\"/\">\n    <div>\n        <label for=\"name\">Full Name *</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"John Doe\">\n    </div>\n    \n    <div>\n        <label for=\"email\">Email Address *</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"john@example.com\">\n    </div>\n    \n    <div>\n        <label for=\"phone\">Phone Number</label>\n        <input type=\"tel\" id=\"phone\" name=\"phone\" placeholder=\"+1 234-567-8900\">\n    </div>\n    \n    <div>\n        <label for=\"company\">Company</label>\n        <input type=\"text\" id=\"company\" name=\"company\" placeholder=\"Acme Inc.\">\n    </div>\n    \n    <div>\n        <label for=\"address\">Address</label>\n        <textarea id=\"address\" name=\"address\" placeholder=\"123 Main St, City, State, ZIP\"></textarea>\n    </div>\n    \n    <div>\n        <label for=\"notes\">Notes</label>\n        <textarea id=\"notes\" name=\"notes\" placeholder=\"Additional information\"></textarea>\n    </div>\n    \n    <button type=\"submit\">Save Client</button>\n</form>\n\"\"\"\n\n\ndef get_db_credentials():\n    secret_name = os.getenv(\"SECRET_NAME\")\n    region = os.getenv(\"AWS_REGION\", \"us-east-1\")\n    \n    if not secret_name:\n        raise ValueError(\"SECRET_NAME environment variable not set\")\n    \n    client = boto3.client(\"secretsmanager\", region_name=region)\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response[\"SecretString\"])\n\n\ndef get_db_connection():\n    max_retries = 3\n    retry_delay = 2\n    \n    for attempt in range(max_retries):\n        try:\n            creds = get_db_credentials()\n            \n            # PostgreSQL RDS requires SSL connections\n            conn = psycopg2.connect(\n                host=creds[\"host\"],\n                database=creds[\"dbname\"],\n                user=creds[\"username\"],\n                password=creds[\"password\"],\n                port=int(creds[\"port\"]),\n                connect_timeout=10,\n                sslmode=\"require\"  # RDS PostgreSQL requires SSL\n            )\n            \n            print(f\" Database connection successful (attempt {attempt + 1})\")\n            return conn\n            \n        except psycopg2.OperationalError as e:\n            if \"password authentication failed\" in str(e).lower() or \"access denied\" in str(e).lower():\n                print(f\" Database access denied: {e}\")\n                raise Exception(f\"Database access denied: {e}\")\n            elif attempt < max_retries - 1:\n                print(f\"  Connection attempt {attempt + 1} failed, retrying...\")\n                import time\n                time.sleep(retry_delay)\n                continue\n            else:\n                raise Exception(f\"Database connection failed: {e}\")\n        except Exception as e:\n            print(f\" Database connection error: {e}\")\n            if attempt < max_retries - 1:\n                import time\n                time.sleep(retry_delay)\n                continue\n            raise\n\n\ndef init_database():\n    try:\n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS clients (\n                id SERIAL PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL,\n                phone VARCHAR(50),\n                company VARCHAR(255),\n                address TEXT,\n                notes TEXT,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                CONSTRAINT unique_email UNIQUE (email)\n            )\n        \"\"\")\n        \n        # Create indexes\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_email ON clients(email)\")\n        cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_name ON clients(name)\")\n        \n        # Create trigger for updated_at (PostgreSQL equivalent of ON UPDATE CURRENT_TIMESTAMP)\n        cursor.execute(\"\"\"\n            CREATE OR REPLACE FUNCTION update_updated_at_column()\n            RETURNS TRIGGER AS $$\n            BEGIN\n                NEW.updated_at = CURRENT_TIMESTAMP;\n                RETURN NEW;\n            END;\n            $$ language 'plpgsql';\n        \"\"\")\n        cursor.execute(\"\"\"\n            DROP TRIGGER IF EXISTS update_clients_updated_at ON clients;\n            CREATE TRIGGER update_clients_updated_at\n                BEFORE UPDATE ON clients\n                FOR EACH ROW\n                EXECUTE FUNCTION update_updated_at_column();\n        \"\"\")\n        \n        conn.commit()\n        cursor.close()\n        conn.close()\n        \n        print(\" Database table initialized successfully\")\n        return True\n        \n    except psycopg2.OperationalError as e:\n        error_msg = str(e)\n        print(f\"  Database connection error: {error_msg}\")\n        print(f\"   Check: Security group, network connectivity, credentials\")\n        return False\n    except psycopg2.Error as e:\n        error_msg = str(e)\n        print(f\"  Database error: {error_msg}\")\n        return False\n    except Exception as e:\n        error_msg = str(e)\n        print(f\"  Database initialization error: {error_msg}\")\n        print(f\"   Error type: {type(e).__name__}\")\n        import traceback\n        print(f\"   Traceback: {traceback.format_exc()}\")\n        return False\n\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    # Handle POST request (form submission)\n    if request.method == \"POST\":\n        try:\n            name = request.form.get(\"name\", \"\").strip()\n            email = request.form.get(\"email\", \"\").strip()\n            phone = request.form.get(\"phone\", \"\").strip()\n            company = request.form.get(\"company\", \"\").strip()\n            address = request.form.get(\"address\", \"\").strip()\n            notes = request.form.get(\"notes\", \"\").strip()\n            \n            if not name or not email:\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: Name and Email are required fields.\",\n                    message_type=\"error\"\n                )\n            \n            # Try to initialize database and get the actual error if it fails\n            db_init_result = init_database()\n            if not db_init_result:\n                # Get the last error from logs or try connection again to get error\n                try:\n                    conn = get_db_connection()\n                    conn.close()\n                    # If connection works, try init again\n                    if not init_database():\n                        raise Exception(\"Failed to initialize database (connection works but init failed)\")\n                except Exception as conn_err:\n                    raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n            \n            conn = get_db_connection()\n            cursor = conn.cursor()\n            \n            try:\n                cursor.execute(\"\"\"\n                    INSERT INTO clients (name, email, phone, company, address, notes)\n                    VALUES (%s, %s, %s, %s, %s, %s)\n                    RETURNING id\n                \"\"\", (name, email, phone or None, company or None, address or None, notes or None))\n                \n                result = cursor.fetchone()\n                client_id = result[0] if result else None\n                conn.commit()\n                \n                cursor.close()\n                conn.close()\n                \n                success_msg = f\" Client '{name}' has been successfully added! (ID: {client_id})\"\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=success_msg,\n                    message_type=\"success\"\n                )\n                \n            except psycopg2.IntegrityError as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                return render_template_string(\n                    CLIENT_FORM_HTML,\n                    content=FORM_CONTENT,\n                    message=\"Error: A client with this email already exists.\",\n                    message_type=\"error\"\n                )\n            except Exception as e:\n                conn.rollback()\n                cursor.close()\n                conn.close()\n                raise\n                \n        except Exception as e:\n            error_msg = f\"Error saving client: {str(e)}\"\n            print(f\" {error_msg}\")\n            return render_template_string(\n                CLIENT_FORM_HTML,\n                content=FORM_CONTENT,\n                message=error_msg,\n                message_type=\"error\"\n            ), 500\n    \n    # Handle GET request (display form)\n    return render_template_string(CLIENT_FORM_HTML, content=FORM_CONTENT)\n\n\n@app.route(\"/clients\")\ndef list_clients():\n    try:\n        # Try to initialize database and get the actual error if it fails\n        db_init_result = init_database()\n        if not db_init_result:\n            # Get the last error from logs or try connection again to get error\n            try:\n                conn = get_db_connection()\n                conn.close()\n                # If connection works, try init again\n                if not init_database():\n                    raise Exception(\"Failed to initialize database (connection works but init failed)\")\n            except Exception as conn_err:\n                raise Exception(f\"Failed to initialize database: {str(conn_err)}\")\n        \n        conn = get_db_connection()\n        cursor = conn.cursor(cursor_factory=RealDictCursor)\n        \n        cursor.execute(\"\"\"\n            SELECT id, name, email, phone, company, address, notes, \n                   created_at, updated_at\n            FROM clients\n            ORDER BY created_at DESC\n        \"\"\")\n        \n        clients = cursor.fetchall()\n        cursor.close()\n        conn.close()\n        \n        if not clients:\n            content = '<div class=\"empty\"><h2>No clients found</h2><p>Start by adding a new client.</p></div>'\n            return render_template_string(CLIENT_FORM_HTML, content=content)\n        \n        table_html = \"\"\"\n        <h2> All Clients ({} total)</h2>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Company</th>\n                    <th>Created</th>\n                </tr>\n            </thead>\n            <tbody>\n        \"\"\".format(len(clients))\n        \n        for client in clients:\n            created_at = client['created_at'].strftime('%Y-%m-%d %H:%M') if client['created_at'] else 'N/A'\n            table_html += f\"\"\"\n                <tr>\n                    <td>{client['id']}</td>\n                    <td><strong>{client['name']}</strong></td>\n                    <td>{client['email']}</td>\n                    <td>{client['phone'] or '-'}</td>\n                    <td>{client['company'] or '-'}</td>\n                    <td>{created_at}</td>\n                </tr>\n            \"\"\"\n        \n        table_html += \"\"\"\n            </tbody>\n        </table>\n        \"\"\"\n        \n        return render_template_string(CLIENT_FORM_HTML, content=table_html)\n        \n    except Exception as e:\n        error_msg = f\"Error retrieving clients: {str(e)}\"\n        print(f\" {error_msg}\")\n        return render_template_string(\n            CLIENT_FORM_HTML,\n            content=f'<div class=\"error\">{error_msg}</div>',\n            message_type=\"error\"\n        ), 500\n\n\n@app.route(\"/health\")\ndef health():\n    # Health check endpoint - MUST NOT require database access\n    # ALB health checks will fail if this endpoint requires DB connection\n    # Returns 200 OK if Flask app is running (simple check)\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"running\",\n        \"timestamp\": datetime.now().isoformat()\n    }, 200\n\n\nif __name__ == \"__main__\":\n    try:\n        print(\"=== Client Management Application Starting ===\")\n        \n        # Start Flask IMMEDIATELY - don't block on database initialization\n        # Database will be initialized lazily on first request that needs it\n        # This ensures health checks work even if database is not ready\n        import threading\n        \n        def init_db_async():\n            \"\"\"Initialize database in background thread\"\"\"\n            try:\n                import time\n                time.sleep(5)  # Give Flask time to start first\n                print(\"Attempting database initialization in background...\")\n                init_database()\n                print(\" Database initialized successfully\")\n            except Exception as e:\n                print(f\"  Database initialization failed (will retry on first request): {e}\")\n        \n        # Start database initialization in background thread\n        db_thread = threading.Thread(target=init_db_async, daemon=True)\n        db_thread.start()\n        \n        print(\" Flask application starting (health check available immediately)\")\n        print(\"   Flask will listen on 0.0.0.0:80\")\n        app.run(host=\"0.0.0.0\", port=80, debug=False, threaded=True)\n    except Exception as e:\n        print(f\" CRITICAL: Flask failed to start: {e}\")\n        import traceback\n        traceback.print_exc()\n        raise\nCLIENT_APP\n\n# Install authbind to allow non-root user to bind to port 80\nsudo apt-get install -y authbind\n\n# Allow ubuntu user to bind to port 80\nsudo touch /etc/authbind/byport/80\nsudo chmod 500 /etc/authbind/byport/80\nsudo chown ubuntu:ubuntu /etc/authbind/byport/80\n\n# Create systemd service for Flask\ncat << SERVICE | sudo tee /etc/systemd/system/flaskapp.service\n[Unit]\nDescription=Client Management Flask Application\nAfter=network.target\n\n[Service]\nUser=ubuntu\nWorkingDirectory=/home/ubuntu/webapp\nEnvironment=\"SECRET_NAME=arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a\"\nEnvironment=\"AWS_REGION=us-east-1\"\nEnvironment=\"PATH=/usr/local/bin:/usr/bin:/bin\"\nExecStart=/usr/bin/authbind --deep /usr/bin/python3 /home/ubuntu/webapp/app.py\nRestart=on-failure\nRestartSec=10\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=60\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# Enable and start Flask service\nsudo systemctl daemon-reload\nsudo systemctl enable flaskapp\n\n# Start Flask service\necho \"Starting Flask application...\"\nsudo systemctl start flaskapp\nsleep 10\n\n# Verify Flask is running\nif sudo systemctl is-active --quiet flaskapp; then\n    echo \" Flask service is running\"\n    sleep 2\n    if curl -f http://localhost/health > /dev/null 2>&1; then\n        echo \" Health endpoint is responding\"\n    else\n        echo \"  Health endpoint not responding yet, checking logs...\"\n        sudo journalctl -u flaskapp --no-pager -n 20 || true\n    fi\nelse\n    echo \" Flask service failed to start\"\n    echo \"Checking logs for errors...\"\n    sudo journalctl -u flaskapp --no-pager -n 50 || true\n    echo \"\"\n    echo \"  Flask service failed, but continuing userdata script...\"\n    echo \"Service will be retried by systemd with Restart=on-failure\"\n    echo \"You can check logs later with: sudo journalctl -u flaskapp -f\"\nfi\n\necho \"=== Client Management Application Setup Complete ===\"",
              "content_base64": null,
              "content_disposition": "",
              "content_encoding": "",
              "content_language": "",
              "content_type": "text/x-shellscript",
              "etag": "997b6435ce6d7f8eaaccd7d55dcb7e73",
              "force_destroy": false,
              "id": "scripts/userdata_client_app.sh",
              "key": "scripts/userdata_client_app.sh",
              "kms_key_id": null,
              "metadata": {},
              "object_lock_legal_hold_status": "",
              "object_lock_mode": "",
              "object_lock_retain_until_date": "",
              "override_provider": [],
              "server_side_encryption": "AES256",
              "source": null,
              "source_hash": null,
              "storage_class": "STANDARD",
              "tags": {
                "Name": "Client App Userdata Script",
                "Type": "Userdata"
              },
              "tags_all": {
                "Name": "Client App Userdata Script",
                "Type": "Userdata"
              },
              "version_id": "jyDvmEfJs2Urfvv7jnb1wdIftbKxK6Xh",
              "website_redirect": ""
            },
            "sensitive_values": {
              "metadata": {},
              "override_provider": [],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_s3_bucket.app_assets",
              "aws_secretsmanager_secret.db_credential",
              "aws_secretsmanager_secret_version.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.aws_iam_role_policy_attachment.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_partition.current",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "null_resource.sync_db_password",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_secretsmanager_secret.db_credential",
            "mode": "managed",
            "type": "aws_secretsmanager_secret",
            "name": "db_credential",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
              "description": "RDS database credentials for web-app-dev application",
              "force_overwrite_replica_secret": false,
              "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
              "kms_key_id": "",
              "name": "web-app-dev-db-credential",
              "name_prefix": "",
              "policy": "",
              "recovery_window_in_days": 0,
              "replica": [],
              "tags": {
                "Environment": "dev",
                "ManagedBy": "terraform",
                "Name": "web-app-dev-db-credential"
              },
              "tags_all": {
                "Environment": "dev",
                "ManagedBy": "terraform",
                "Name": "web-app-dev-db-credential"
              }
            },
            "sensitive_values": {
              "replica": [],
              "tags": {},
              "tags_all": {}
            }
          },
          {
            "address": "aws_secretsmanager_secret_version.db_credential",
            "mode": "managed",
            "type": "aws_secretsmanager_secret_version",
            "name": "db_credential",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
              "has_secret_string_wo": null,
              "id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a|terraform-2025121017425850300000000b",
              "secret_binary": "",
              "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a",
              "secret_string": "{\"dbname\":\"app_db\",\"engine\":\"postgres\",\"host\":\"web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com\",\"password\":\"password\",\"port\":5432,\"username\":\"dbadmin\"}",
              "secret_string_wo": null,
              "secret_string_wo_version": null,
              "version_id": "terraform-2025121017425850300000000b",
              "version_stages": [
                "AWSPREVIOUS"
              ]
            },
            "sensitive_values": {
              "secret_binary": true,
              "secret_string": true,
              "secret_string_wo": true,
              "version_stages": [
                false
              ]
            },
            "depends_on": [
              "aws_secretsmanager_secret.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.aws_iam_role_policy_attachment.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_partition.current",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "null_resource.sync_db_password",
              "random_integer.random"
            ]
          },
          {
            "address": "aws_security_group.alb-sg",
            "mode": "managed",
            "type": "aws_security_group",
            "name": "alb-sg",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 1,
            "values": {
              "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00830d59372461d2c",
              "description": "Security Group for the Application Load Balancer",
              "egress": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow all outbound traffic",
                  "from_port": 0,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "-1",
                  "security_groups": [],
                  "self": false,
                  "to_port": 0
                }
              ],
              "id": "sg-00830d59372461d2c",
              "ingress": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow HTTP from internet",
                  "from_port": 80,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [],
                  "self": false,
                  "to_port": 80
                },
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow HTTPS from internet",
                  "from_port": 443,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [],
                  "self": false,
                  "to_port": 443
                }
              ],
              "name": "web-app-dev-alb-sg",
              "name_prefix": "",
              "owner_id": "211125336427",
              "revoke_rules_on_delete": false,
              "tags": {
                "Name": "web-app-dev-alb-sg"
              },
              "tags_all": {
                "Name": "web-app-dev-alb-sg"
              },
              "timeouts": null,
              "vpc_id": "vpc-04a411e97b88a5e4f"
            },
            "sensitive_values": {
              "egress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "ingress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                },
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "module.vpc.aws_vpc.this"
            ]
          },
          {
            "address": "aws_security_group.app-server-sg",
            "mode": "managed",
            "type": "aws_security_group",
            "name": "app-server-sg",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 1,
            "values": {
              "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-009ab7c7d8df7eceb",
              "description": "Security Group for the app-server instances",
              "egress": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow all outbound traffic",
                  "from_port": 0,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "-1",
                  "security_groups": [],
                  "self": false,
                  "to_port": 0
                }
              ],
              "id": "sg-009ab7c7d8df7eceb",
              "ingress": [
                {
                  "cidr_blocks": [],
                  "description": "Allow HTTP from ALB",
                  "from_port": 80,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [
                    "sg-00830d59372461d2c"
                  ],
                  "self": false,
                  "to_port": 80
                },
                {
                  "cidr_blocks": [],
                  "description": "Allow HTTPS from ALB",
                  "from_port": 443,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [
                    "sg-00830d59372461d2c"
                  ],
                  "self": false,
                  "to_port": 443
                },
                {
                  "cidr_blocks": [],
                  "description": "Allow SSH from bastion host",
                  "from_port": 22,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [
                    "sg-0fe1c7c0045fffe5f"
                  ],
                  "self": false,
                  "to_port": 22
                }
              ],
              "name": "web-app-dev-instance-sg",
              "name_prefix": "",
              "owner_id": "211125336427",
              "revoke_rules_on_delete": false,
              "tags": {
                "Name": "web-app-dev-instance-sg"
              },
              "tags_all": {
                "Name": "web-app-dev-instance-sg"
              },
              "timeouts": null,
              "vpc_id": "vpc-04a411e97b88a5e4f"
            },
            "sensitive_values": {
              "egress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "ingress": [
                {
                  "cidr_blocks": [],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": [
                    false
                  ]
                },
                {
                  "cidr_blocks": [],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": [
                    false
                  ]
                },
                {
                  "cidr_blocks": [],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": [
                    false
                  ]
                }
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_security_group.alb-sg",
              "module.vpc.aws_vpc.this"
            ]
          },
          {
            "address": "aws_security_group.bastion_sg[0]",
            "mode": "managed",
            "type": "aws_security_group",
            "name": "bastion_sg",
            "index": 0,
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 1,
            "values": {
              "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0fe1c7c0045fffe5f",
              "description": "Security Group for Bastion Host - Temporary troubleshooting instance",
              "egress": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow all outbound traffic",
                  "from_port": 0,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "-1",
                  "security_groups": [],
                  "self": false,
                  "to_port": 0
                }
              ],
              "id": "sg-0fe1c7c0045fffe5f",
              "ingress": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow ICMP from internet",
                  "from_port": -1,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "icmp",
                  "security_groups": [],
                  "self": false,
                  "to_port": -1
                },
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "SSH from internet",
                  "from_port": 22,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [],
                  "self": false,
                  "to_port": 22
                }
              ],
              "name": "web-app-dev-bastion-sg",
              "name_prefix": "",
              "owner_id": "211125336427",
              "revoke_rules_on_delete": false,
              "tags": {
                "ManagedBy": "Terraform",
                "Name": "web-app-dev-bastion",
                "Purpose": "Troubleshooting",
                "Temporary": "true"
              },
              "tags_all": {
                "ManagedBy": "Terraform",
                "Name": "web-app-dev-bastion",
                "Purpose": "Troubleshooting",
                "Temporary": "true"
              },
              "timeouts": null,
              "vpc_id": "vpc-04a411e97b88a5e4f"
            },
            "sensitive_values": {
              "egress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "ingress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                },
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "module.vpc.aws_vpc.this"
            ]
          },
          {
            "address": "aws_security_group.db-sg",
            "mode": "managed",
            "type": "aws_security_group",
            "name": "db-sg",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 1,
            "values": {
              "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-0aeb90adbedae575c",
              "description": "Security Group for the database",
              "egress": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "",
                  "from_port": 0,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "-1",
                  "security_groups": [],
                  "self": false,
                  "to_port": 0
                }
              ],
              "id": "sg-0aeb90adbedae575c",
              "ingress": [
                {
                  "cidr_blocks": [],
                  "description": "Allow PostgreSQL access from app servers",
                  "from_port": 5432,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [
                    "sg-009ab7c7d8df7eceb"
                  ],
                  "self": false,
                  "to_port": 5432
                }
              ],
              "name": "web-app-dev-db-sg",
              "name_prefix": "",
              "owner_id": "211125336427",
              "revoke_rules_on_delete": false,
              "tags": {
                "name": "web-app-dev"
              },
              "tags_all": {
                "name": "web-app-dev"
              },
              "timeouts": null,
              "vpc_id": "vpc-04a411e97b88a5e4f"
            },
            "sensitive_values": {
              "egress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "ingress": [
                {
                  "cidr_blocks": [],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": [
                    false
                  ]
                }
              ],
              "tags": {},
              "tags_all": {}
            },
            "depends_on": [
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "module.vpc.aws_vpc.this"
            ]
          },
          {
            "address": "aws_security_group_rule.app_server_allow_bastion_ssh[0]",
            "mode": "managed",
            "type": "aws_security_group_rule",
            "name": "app_server_allow_bastion_ssh",
            "index": 0,
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 2,
            "values": {
              "cidr_blocks": null,
              "description": "Allow SSH from bastion host",
              "from_port": 22,
              "id": "sgrule-4047439005",
              "ipv6_cidr_blocks": null,
              "prefix_list_ids": null,
              "protocol": "tcp",
              "security_group_id": "sg-009ab7c7d8df7eceb",
              "security_group_rule_id": "sgr-0ef96201f154a23c8",
              "self": false,
              "source_security_group_id": "sg-0fe1c7c0045fffe5f",
              "timeouts": null,
              "to_port": 22,
              "type": "ingress"
            },
            "sensitive_values": {},
            "depends_on": [
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.bastion_sg",
              "module.vpc.aws_vpc.this"
            ]
          },
          {
            "address": "null_resource.instance_refresh_trigger",
            "mode": "managed",
            "type": "null_resource",
            "name": "instance_refresh_trigger",
            "provider_name": "registry.terraform.io/hashicorp/null",
            "schema_version": 0,
            "values": {
              "id": "1684440273615415533",
              "triggers": {
                "asg_name": "web-app-dev-asg",
                "user_data_hash": "e169ba65364e7db4265741e5b1e8e07e792d68a6109d351fc7fd1b1964e84459"
              }
            },
            "sensitive_values": {
              "triggers": {}
            },
            "depends_on": [
              "aws_autoscaling_group.app-server-asg",
              "aws_iam_instance_profile.app-server-instance-profile",
              "aws_iam_role.app-server-role",
              "aws_launch_template.app-server-lt",
              "aws_lb.app-server-lb",
              "aws_lb_target_group.app-server-tg",
              "aws_s3_bucket.app_assets",
              "aws_s3_object.userdata_script",
              "aws_secretsmanager_secret.db_credential",
              "aws_secretsmanager_secret_version.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "data.aws_ami.ubuntu",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.aws_iam_role_policy_attachment.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_partition.current",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "null_resource.sync_db_password",
              "random_integer.random"
            ]
          },
          {
            "address": "null_resource.sync_db_password",
            "mode": "managed",
            "type": "null_resource",
            "name": "sync_db_password",
            "provider_name": "registry.terraform.io/hashicorp/null",
            "schema_version": 0,
            "values": {
              "id": "8795904885779171413",
              "triggers": {
                "db_instance_id": "web-app-dev-db-db",
                "db_instance_status": "available",
                "secret_id": "arn:aws:secretsmanager:us-east-1:211125336427:secret:web-app-dev-db-credential-1oML4a"
              }
            },
            "sensitive_values": {
              "triggers": {}
            },
            "depends_on": [
              "aws_secretsmanager_secret.db_credential",
              "aws_security_group.alb-sg",
              "aws_security_group.app-server-sg",
              "aws_security_group.db-sg",
              "module.database.module.db_instance.aws_cloudwatch_log_group.this",
              "module.database.module.db_instance.aws_db_instance.this",
              "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
              "module.database.module.db_instance.aws_iam_role_policy_attachment.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
              "module.database.module.db_instance.data.aws_partition.current",
              "module.database.module.db_instance.random_id.snapshot_identifier",
              "module.database.module.db_option_group.aws_db_option_group.this",
              "module.database.module.db_parameter_group.aws_db_parameter_group.this",
              "module.database.module.db_subnet_group.aws_db_subnet_group.this",
              "module.vpc.aws_cloudwatch_log_group.flow_log",
              "module.vpc.aws_customer_gateway.this",
              "module.vpc.aws_db_subnet_group.database",
              "module.vpc.aws_default_network_acl.this",
              "module.vpc.aws_default_route_table.default",
              "module.vpc.aws_default_security_group.this",
              "module.vpc.aws_default_vpc.this",
              "module.vpc.aws_egress_only_internet_gateway.this",
              "module.vpc.aws_eip.nat",
              "module.vpc.aws_elasticache_subnet_group.elasticache",
              "module.vpc.aws_flow_log.this",
              "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
              "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
              "module.vpc.aws_internet_gateway.this",
              "module.vpc.aws_nat_gateway.this",
              "module.vpc.aws_network_acl.database",
              "module.vpc.aws_network_acl.elasticache",
              "module.vpc.aws_network_acl.intra",
              "module.vpc.aws_network_acl.outpost",
              "module.vpc.aws_network_acl.private",
              "module.vpc.aws_network_acl.public",
              "module.vpc.aws_network_acl.redshift",
              "module.vpc.aws_network_acl_rule.database_inbound",
              "module.vpc.aws_network_acl_rule.database_outbound",
              "module.vpc.aws_network_acl_rule.elasticache_inbound",
              "module.vpc.aws_network_acl_rule.elasticache_outbound",
              "module.vpc.aws_network_acl_rule.intra_inbound",
              "module.vpc.aws_network_acl_rule.intra_outbound",
              "module.vpc.aws_network_acl_rule.outpost_inbound",
              "module.vpc.aws_network_acl_rule.outpost_outbound",
              "module.vpc.aws_network_acl_rule.private_inbound",
              "module.vpc.aws_network_acl_rule.private_outbound",
              "module.vpc.aws_network_acl_rule.public_inbound",
              "module.vpc.aws_network_acl_rule.public_outbound",
              "module.vpc.aws_network_acl_rule.redshift_inbound",
              "module.vpc.aws_network_acl_rule.redshift_outbound",
              "module.vpc.aws_redshift_subnet_group.redshift",
              "module.vpc.aws_route.database_dns64_nat_gateway",
              "module.vpc.aws_route.database_internet_gateway",
              "module.vpc.aws_route.database_ipv6_egress",
              "module.vpc.aws_route.database_nat_gateway",
              "module.vpc.aws_route.private_dns64_nat_gateway",
              "module.vpc.aws_route.private_ipv6_egress",
              "module.vpc.aws_route.private_nat_gateway",
              "module.vpc.aws_route.public_internet_gateway",
              "module.vpc.aws_route.public_internet_gateway_ipv6",
              "module.vpc.aws_route_table.database",
              "module.vpc.aws_route_table.elasticache",
              "module.vpc.aws_route_table.intra",
              "module.vpc.aws_route_table.private",
              "module.vpc.aws_route_table.public",
              "module.vpc.aws_route_table.redshift",
              "module.vpc.aws_route_table_association.database",
              "module.vpc.aws_route_table_association.elasticache",
              "module.vpc.aws_route_table_association.intra",
              "module.vpc.aws_route_table_association.outpost",
              "module.vpc.aws_route_table_association.private",
              "module.vpc.aws_route_table_association.public",
              "module.vpc.aws_route_table_association.redshift",
              "module.vpc.aws_route_table_association.redshift_public",
              "module.vpc.aws_subnet.database",
              "module.vpc.aws_subnet.elasticache",
              "module.vpc.aws_subnet.intra",
              "module.vpc.aws_subnet.outpost",
              "module.vpc.aws_subnet.private",
              "module.vpc.aws_subnet.public",
              "module.vpc.aws_subnet.redshift",
              "module.vpc.aws_vpc.this",
              "module.vpc.aws_vpc_dhcp_options.this",
              "module.vpc.aws_vpc_dhcp_options_association.this",
              "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
              "module.vpc.aws_vpn_gateway.this",
              "module.vpc.aws_vpn_gateway_attachment.this",
              "module.vpc.aws_vpn_gateway_route_propagation.intra",
              "module.vpc.aws_vpn_gateway_route_propagation.private",
              "module.vpc.aws_vpn_gateway_route_propagation.public",
              "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
              "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
              "random_integer.random"
            ]
          },
          {
            "address": "random_integer.random",
            "mode": "managed",
            "type": "random_integer",
            "name": "random",
            "provider_name": "registry.terraform.io/hashicorp/random",
            "schema_version": 0,
            "values": {
              "id": "157021",
              "keepers": null,
              "max": 999999,
              "min": 100000,
              "result": 157021,
              "seed": null
            },
            "sensitive_values": {}
          }
        ],
        "child_modules": [
          {
            "address": "module.database",
            "child_modules": [
              {
                "resources": [
                  {
                    "address": "module.database.module.db_instance.aws_db_instance.this[0]",
                    "mode": "managed",
                    "type": "aws_db_instance",
                    "name": "this",
                    "index": 0,
                    "provider_name": "registry.terraform.io/hashicorp/aws",
                    "schema_version": 2,
                    "values": {
                      "address": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com",
                      "allocated_storage": 20,
                      "allow_major_version_upgrade": false,
                      "apply_immediately": false,
                      "arn": "arn:aws:rds:us-east-1:211125336427:db:web-app-dev-db-db",
                      "auto_minor_version_upgrade": true,
                      "availability_zone": "us-east-1a",
                      "backup_retention_period": 7,
                      "backup_target": "region",
                      "backup_window": "00:00-03:00",
                      "blue_green_update": [],
                      "ca_cert_identifier": "rds-ca-rsa2048-g1",
                      "character_set_name": "",
                      "copy_tags_to_snapshot": false,
                      "custom_iam_instance_profile": "",
                      "customer_owned_ip_enabled": false,
                      "database_insights_mode": "standard",
                      "db_name": "app_db",
                      "db_subnet_group_name": "dev-vpc",
                      "dedicated_log_volume": false,
                      "delete_automated_backups": true,
                      "deletion_protection": false,
                      "domain": "",
                      "domain_auth_secret_arn": "",
                      "domain_dns_ips": [],
                      "domain_fqdn": "",
                      "domain_iam_role_name": "",
                      "domain_ou": "",
                      "enabled_cloudwatch_logs_exports": [],
                      "endpoint": "web-app-dev-db-db.cxgawksw6k2t.us-east-1.rds.amazonaws.com:5432",
                      "engine": "postgres",
                      "engine_lifecycle_support": "open-source-rds-extended-support",
                      "engine_version": "16.11",
                      "engine_version_actual": "16.11",
                      "final_snapshot_identifier": null,
                      "hosted_zone_id": "Z2R2ITUGPM61AM",
                      "iam_database_authentication_enabled": false,
                      "id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
                      "identifier": "web-app-dev-db-db",
                      "identifier_prefix": "",
                      "instance_class": "db.t3.micro",
                      "iops": 0,
                      "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/b18b28a3-e535-46b1-ba2d-5b133d648613",
                      "latest_restorable_time": "2025-12-10T19:09:33Z",
                      "license_model": "postgresql-license",
                      "listener_endpoint": [],
                      "maintenance_window": "mon:03:25-mon:03:55",
                      "manage_master_user_password": true,
                      "master_user_secret": [
                        {
                          "kms_key_id": "arn:aws:kms:us-east-1:211125336427:key/c38f0f90-5203-454e-9074-d8d29853d4b3",
                          "secret_arn": "arn:aws:secretsmanager:us-east-1:211125336427:secret:rds!db-ec5a766c-c00f-457b-8f16-bf6e7bf556ed-rcVYgi",
                          "secret_status": "active"
                        }
                      ],
                      "master_user_secret_kms_key_id": null,
                      "max_allocated_storage": 100,
                      "monitoring_interval": 0,
                      "monitoring_role_arn": "",
                      "multi_az": false,
                      "nchar_character_set_name": "",
                      "network_type": "IPV4",
                      "option_group_name": "default:postgres-16",
                      "parameter_group_name": "default.postgres16",
                      "password": null,
                      "password_wo": null,
                      "password_wo_version": null,
                      "performance_insights_enabled": false,
                      "performance_insights_kms_key_id": "",
                      "performance_insights_retention_period": 0,
                      "port": 5432,
                      "publicly_accessible": false,
                      "replica_mode": "",
                      "replicas": [],
                      "replicate_source_db": "",
                      "resource_id": "db-MG6MSITU6XFITIJ4ZE5L6YAZ5M",
                      "restore_to_point_in_time": [],
                      "s3_import": [],
                      "skip_final_snapshot": true,
                      "snapshot_identifier": null,
                      "status": "available",
                      "storage_encrypted": true,
                      "storage_throughput": 0,
                      "storage_type": "gp2",
                      "tags": {
                        "Name": "web-app-dev-db-157021"
                      },
                      "tags_all": {
                        "Name": "web-app-dev-db-157021"
                      },
                      "timeouts": {
                        "create": null,
                        "delete": null,
                        "update": null
                      },
                      "timezone": "",
                      "upgrade_storage_config": null,
                      "username": "dbadmin",
                      "vpc_security_group_ids": [
                        "sg-0aeb90adbedae575c"
                      ]
                    },
                    "sensitive_values": {
                      "blue_green_update": [],
                      "domain_dns_ips": [],
                      "enabled_cloudwatch_logs_exports": [],
                      "listener_endpoint": [],
                      "master_user_secret": [
                        {}
                      ],
                      "password": true,
                      "password_wo": true,
                      "replicas": [],
                      "restore_to_point_in_time": [],
                      "s3_import": [],
                      "tags": {},
                      "tags_all": {},
                      "timeouts": {},
                      "vpc_security_group_ids": [
                        false
                      ]
                    },
                    "depends_on": [
                      "aws_security_group.alb-sg",
                      "aws_security_group.app-server-sg",
                      "aws_security_group.db-sg",
                      "module.database.module.db_instance.aws_cloudwatch_log_group.this",
                      "module.database.module.db_instance.aws_iam_role.enhanced_monitoring",
                      "module.database.module.db_instance.data.aws_iam_policy_document.enhanced_monitoring",
                      "module.database.module.db_instance.random_id.snapshot_identifier",
                      "module.database.module.db_option_group.aws_db_option_group.this",
                      "module.database.module.db_parameter_group.aws_db_parameter_group.this",
                      "module.database.module.db_subnet_group.aws_db_subnet_group.this",
                      "module.vpc.aws_cloudwatch_log_group.flow_log",
                      "module.vpc.aws_customer_gateway.this",
                      "module.vpc.aws_db_subnet_group.database",
                      "module.vpc.aws_default_network_acl.this",
                      "module.vpc.aws_default_route_table.default",
                      "module.vpc.aws_default_security_group.this",
                      "module.vpc.aws_default_vpc.this",
                      "module.vpc.aws_egress_only_internet_gateway.this",
                      "module.vpc.aws_eip.nat",
                      "module.vpc.aws_elasticache_subnet_group.elasticache",
                      "module.vpc.aws_flow_log.this",
                      "module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch",
                      "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch",
                      "module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
                      "module.vpc.aws_internet_gateway.this",
                      "module.vpc.aws_nat_gateway.this",
                      "module.vpc.aws_network_acl.database",
                      "module.vpc.aws_network_acl.elasticache",
                      "module.vpc.aws_network_acl.intra",
                      "module.vpc.aws_network_acl.outpost",
                      "module.vpc.aws_network_acl.private",
                      "module.vpc.aws_network_acl.public",
                      "module.vpc.aws_network_acl.redshift",
                      "module.vpc.aws_network_acl_rule.database_inbound",
                      "module.vpc.aws_network_acl_rule.database_outbound",
                      "module.vpc.aws_network_acl_rule.elasticache_inbound",
                      "module.vpc.aws_network_acl_rule.elasticache_outbound",
                      "module.vpc.aws_network_acl_rule.intra_inbound",
                      "module.vpc.aws_network_acl_rule.intra_outbound",
                      "module.vpc.aws_network_acl_rule.outpost_inbound",
                      "module.vpc.aws_network_acl_rule.outpost_outbound",
                      "module.vpc.aws_network_acl_rule.private_inbound",
                      "module.vpc.aws_network_acl_rule.private_outbound",
                      "module.vpc.aws_network_acl_rule.public_inbound",
                      "module.vpc.aws_network_acl_rule.public_outbound",
                      "module.vpc.aws_network_acl_rule.redshift_inbound",
                      "module.vpc.aws_network_acl_rule.redshift_outbound",
                      "module.vpc.aws_redshift_subnet_group.redshift",
                      "module.vpc.aws_route.database_dns64_nat_gateway",
                      "module.vpc.aws_route.database_internet_gateway",
                      "module.vpc.aws_route.database_ipv6_egress",
                      "module.vpc.aws_route.database_nat_gateway",
                      "module.vpc.aws_route.private_dns64_nat_gateway",
                      "module.vpc.aws_route.private_ipv6_egress",
                      "module.vpc.aws_route.private_nat_gateway",
                      "module.vpc.aws_route.public_internet_gateway",
                      "module.vpc.aws_route.public_internet_gateway_ipv6",
                      "module.vpc.aws_route_table.database",
                      "module.vpc.aws_route_table.elasticache",
                      "module.vpc.aws_route_table.intra",
                      "module.vpc.aws_route_table.private",
                      "module.vpc.aws_route_table.public",
                      "module.vpc.aws_route_table.redshift",
                      "module.vpc.aws_route_table_association.database",
                      "module.vpc.aws_route_table_association.elasticache",
                      "module.vpc.aws_route_table_association.intra",
                      "module.vpc.aws_route_table_association.outpost",
                      "module.vpc.aws_route_table_association.private",
                      "module.vpc.aws_route_table_association.public",
                      "module.vpc.aws_route_table_association.redshift",
                      "module.vpc.aws_route_table_association.redshift_public",
                      "module.vpc.aws_subnet.database",
                      "module.vpc.aws_subnet.elasticache",
                      "module.vpc.aws_subnet.intra",
                      "module.vpc.aws_subnet.outpost",
                      "module.vpc.aws_subnet.private",
                      "module.vpc.aws_subnet.public",
                      "module.vpc.aws_subnet.redshift",
                      "module.vpc.aws_vpc.this",
                      "module.vpc.aws_vpc_dhcp_options.this",
                      "module.vpc.aws_vpc_dhcp_options_association.this",
                      "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
                      "module.vpc.aws_vpn_gateway.this",
                      "module.vpc.aws_vpn_gateway_attachment.this",
                      "module.vpc.aws_vpn_gateway_route_propagation.intra",
                      "module.vpc.aws_vpn_gateway_route_propagation.private",
                      "module.vpc.aws_vpn_gateway_route_propagation.public",
                      "module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
                      "module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
                      "random_integer.random"
                    ]
                  }
                ],
                "address": "module.database.module.db_instance"
              }
            ]
          },
          {
            "resources": [
              {
                "address": "module.vpc.aws_db_subnet_group.database[0]",
                "mode": "managed",
                "type": "aws_db_subnet_group",
                "name": "database",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:rds:us-east-1:211125336427:subgrp:dev-vpc",
                  "description": "Database subnet group for dev-vpc",
                  "id": "dev-vpc",
                  "name": "dev-vpc",
                  "name_prefix": "",
                  "subnet_ids": [
                    "subnet-0587e1bf569e9ba82",
                    "subnet-0ba5709102532ea5a"
                  ],
                  "supported_network_types": [
                    "IPV4"
                  ],
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "subnet_ids": [
                    false,
                    false
                  ],
                  "supported_network_types": [
                    false
                  ],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_subnet.database",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_default_network_acl.this[0]",
                "mode": "managed",
                "type": "aws_default_network_acl",
                "name": "this",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:network-acl/acl-09d75561178c59659",
                  "default_network_acl_id": "acl-09d75561178c59659",
                  "egress": [
                    {
                      "action": "allow",
                      "cidr_block": "",
                      "from_port": 0,
                      "icmp_code": 0,
                      "icmp_type": 0,
                      "ipv6_cidr_block": "::/0",
                      "protocol": "-1",
                      "rule_no": 101,
                      "to_port": 0
                    },
                    {
                      "action": "allow",
                      "cidr_block": "0.0.0.0/0",
                      "from_port": 0,
                      "icmp_code": 0,
                      "icmp_type": 0,
                      "ipv6_cidr_block": "",
                      "protocol": "-1",
                      "rule_no": 100,
                      "to_port": 0
                    }
                  ],
                  "id": "acl-09d75561178c59659",
                  "ingress": [
                    {
                      "action": "allow",
                      "cidr_block": "",
                      "from_port": 0,
                      "icmp_code": 0,
                      "icmp_type": 0,
                      "ipv6_cidr_block": "::/0",
                      "protocol": "-1",
                      "rule_no": 101,
                      "to_port": 0
                    },
                    {
                      "action": "allow",
                      "cidr_block": "0.0.0.0/0",
                      "from_port": 0,
                      "icmp_code": 0,
                      "icmp_type": 0,
                      "ipv6_cidr_block": "",
                      "protocol": "-1",
                      "rule_no": 100,
                      "to_port": 0
                    }
                  ],
                  "owner_id": "211125336427",
                  "subnet_ids": [
                    "subnet-0257115d2a1ef35ea",
                    "subnet-045dee18d553a8a2a",
                    "subnet-05450a4ab7f5408bb",
                    "subnet-0587e1bf569e9ba82",
                    "subnet-0aaa1627feff66ddf",
                    "subnet-0ba5709102532ea5a"
                  ],
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "egress": [
                    {},
                    {}
                  ],
                  "ingress": [
                    {},
                    {}
                  ],
                  "subnet_ids": [
                    false,
                    false,
                    false,
                    false,
                    false,
                    false
                  ],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this"
                ]
              },
              {
                "address": "module.vpc.aws_default_route_table.default[0]",
                "mode": "managed",
                "type": "aws_default_route_table",
                "name": "default",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-044b5633fdaebb72d",
                  "default_route_table_id": "rtb-044b5633fdaebb72d",
                  "id": "rtb-044b5633fdaebb72d",
                  "owner_id": "211125336427",
                  "propagating_vgws": [],
                  "route": [],
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": {
                    "create": "5m",
                    "update": "5m"
                  },
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "propagating_vgws": [],
                  "route": [],
                  "tags": {},
                  "tags_all": {},
                  "timeouts": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this"
                ]
              },
              {
                "address": "module.vpc.aws_default_security_group.this[0]",
                "mode": "managed",
                "type": "aws_default_security_group",
                "name": "this",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:security-group/sg-00ba1002f2a04343d",
                  "description": "default VPC security group",
                  "egress": [],
                  "id": "sg-00ba1002f2a04343d",
                  "ingress": [],
                  "name": "default",
                  "name_prefix": "",
                  "owner_id": "211125336427",
                  "revoke_rules_on_delete": false,
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "egress": [],
                  "ingress": [],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this"
                ]
              },
              {
                "address": "module.vpc.aws_eip.nat[0]",
                "mode": "managed",
                "type": "aws_eip",
                "name": "nat",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "address": null,
                  "allocation_id": "eipalloc-0ca1ddd3756729ba8",
                  "arn": "arn:aws:ec2:us-east-1:211125336427:elastic-ip/eipalloc-0ca1ddd3756729ba8",
                  "associate_with_private_ip": null,
                  "association_id": "eipassoc-03df71fc1245d42f4",
                  "carrier_ip": "",
                  "customer_owned_ip": "",
                  "customer_owned_ipv4_pool": "",
                  "domain": "vpc",
                  "id": "eipalloc-0ca1ddd3756729ba8",
                  "instance": "",
                  "ipam_pool_id": null,
                  "network_border_group": "us-east-1",
                  "network_interface": "eni-0cfbbb29449a358a7",
                  "private_dns": "ip-10-0-1-247.ec2.internal",
                  "private_ip": "10.0.1.247",
                  "ptr_record": "",
                  "public_dns": "ec2-18-210-208-127.compute-1.amazonaws.com",
                  "public_ip": "18.210.208.127",
                  "public_ipv4_pool": "amazon",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc": true
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_internet_gateway.this",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_internet_gateway.this[0]",
                "mode": "managed",
                "type": "aws_internet_gateway",
                "name": "this",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:internet-gateway/igw-01b50c1d9ccca0886",
                  "id": "igw-01b50c1d9ccca0886",
                  "owner_id": "211125336427",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_nat_gateway.this[0]",
                "mode": "managed",
                "type": "aws_nat_gateway",
                "name": "this",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "allocation_id": "eipalloc-0ca1ddd3756729ba8",
                  "association_id": "eipassoc-03df71fc1245d42f4",
                  "connectivity_type": "public",
                  "id": "nat-09d5abcfcb652fc19",
                  "network_interface_id": "eni-0cfbbb29449a358a7",
                  "private_ip": "10.0.1.247",
                  "public_ip": "18.210.208.127",
                  "secondary_allocation_ids": [],
                  "secondary_private_ip_address_count": 0,
                  "secondary_private_ip_addresses": [],
                  "subnet_id": "subnet-0257115d2a1ef35ea",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null
                },
                "sensitive_values": {
                  "secondary_allocation_ids": [],
                  "secondary_private_ip_addresses": [],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_eip.nat",
                  "module.vpc.aws_internet_gateway.this",
                  "module.vpc.aws_subnet.public",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route.private_nat_gateway[0]",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_nat_gateway",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "carrier_gateway_id": "",
                  "core_network_arn": "",
                  "destination_cidr_block": "0.0.0.0/0",
                  "destination_ipv6_cidr_block": "",
                  "destination_prefix_list_id": "",
                  "egress_only_gateway_id": "",
                  "gateway_id": "",
                  "id": "r-rtb-0847470e04bef136e1080289494",
                  "instance_id": "",
                  "instance_owner_id": "",
                  "local_gateway_id": "",
                  "nat_gateway_id": "nat-09d5abcfcb652fc19",
                  "network_interface_id": "",
                  "origin": "CreateRoute",
                  "route_table_id": "rtb-0847470e04bef136e",
                  "state": "active",
                  "timeouts": {
                    "create": "5m",
                    "delete": null,
                    "update": null
                  },
                  "transit_gateway_id": "",
                  "vpc_endpoint_id": "",
                  "vpc_peering_connection_id": ""
                },
                "sensitive_values": {
                  "timeouts": {}
                },
                "depends_on": [
                  "module.vpc.aws_eip.nat",
                  "module.vpc.aws_internet_gateway.this",
                  "module.vpc.aws_nat_gateway.this",
                  "module.vpc.aws_route_table.private",
                  "module.vpc.aws_subnet.public",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route.public_internet_gateway[0]",
                "mode": "managed",
                "type": "aws_route",
                "name": "public_internet_gateway",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "carrier_gateway_id": "",
                  "core_network_arn": "",
                  "destination_cidr_block": "0.0.0.0/0",
                  "destination_ipv6_cidr_block": "",
                  "destination_prefix_list_id": "",
                  "egress_only_gateway_id": "",
                  "gateway_id": "igw-01b50c1d9ccca0886",
                  "id": "r-rtb-055d1aee5e7604d6b1080289494",
                  "instance_id": "",
                  "instance_owner_id": "",
                  "local_gateway_id": "",
                  "nat_gateway_id": "",
                  "network_interface_id": "",
                  "origin": "CreateRoute",
                  "route_table_id": "rtb-055d1aee5e7604d6b",
                  "state": "active",
                  "timeouts": {
                    "create": "5m",
                    "delete": null,
                    "update": null
                  },
                  "transit_gateway_id": "",
                  "vpc_endpoint_id": "",
                  "vpc_peering_connection_id": ""
                },
                "sensitive_values": {
                  "timeouts": {}
                },
                "depends_on": [
                  "module.vpc.aws_internet_gateway.this",
                  "module.vpc.aws_route_table.public",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table.private[0]",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "private",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-0847470e04bef136e",
                  "id": "rtb-0847470e04bef136e",
                  "owner_id": "211125336427",
                  "propagating_vgws": [],
                  "route": [
                    {
                      "carrier_gateway_id": "",
                      "cidr_block": "0.0.0.0/0",
                      "core_network_arn": "",
                      "destination_prefix_list_id": "",
                      "egress_only_gateway_id": "",
                      "gateway_id": "",
                      "ipv6_cidr_block": "",
                      "local_gateway_id": "",
                      "nat_gateway_id": "nat-09d5abcfcb652fc19",
                      "network_interface_id": "",
                      "transit_gateway_id": "",
                      "vpc_endpoint_id": "",
                      "vpc_peering_connection_id": ""
                    }
                  ],
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "propagating_vgws": [],
                  "route": [
                    {}
                  ],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table.public[0]",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "public",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:route-table/rtb-055d1aee5e7604d6b",
                  "id": "rtb-055d1aee5e7604d6b",
                  "owner_id": "211125336427",
                  "propagating_vgws": [],
                  "route": [
                    {
                      "carrier_gateway_id": "",
                      "cidr_block": "0.0.0.0/0",
                      "core_network_arn": "",
                      "destination_prefix_list_id": "",
                      "egress_only_gateway_id": "",
                      "gateway_id": "igw-01b50c1d9ccca0886",
                      "ipv6_cidr_block": "",
                      "local_gateway_id": "",
                      "nat_gateway_id": "",
                      "network_interface_id": "",
                      "transit_gateway_id": "",
                      "vpc_endpoint_id": "",
                      "vpc_peering_connection_id": ""
                    }
                  ],
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "propagating_vgws": [],
                  "route": [
                    {}
                  ],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table_association.database[0]",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "database",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "gateway_id": "",
                  "id": "rtbassoc-00130e3f52b5f1f9e",
                  "route_table_id": "rtb-0847470e04bef136e",
                  "subnet_id": "subnet-0587e1bf569e9ba82",
                  "timeouts": null
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.vpc.aws_route_table.database",
                  "module.vpc.aws_route_table.private",
                  "module.vpc.aws_subnet.database",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table_association.database[1]",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "database",
                "index": 1,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "gateway_id": "",
                  "id": "rtbassoc-000885b4ae2ab5b0e",
                  "route_table_id": "rtb-0847470e04bef136e",
                  "subnet_id": "subnet-0ba5709102532ea5a",
                  "timeouts": null
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.vpc.aws_route_table.database",
                  "module.vpc.aws_route_table.private",
                  "module.vpc.aws_subnet.database",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table_association.private[0]",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "private",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "gateway_id": "",
                  "id": "rtbassoc-0f2c6a6de4e121e72",
                  "route_table_id": "rtb-0847470e04bef136e",
                  "subnet_id": "subnet-045dee18d553a8a2a",
                  "timeouts": null
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.vpc.aws_route_table.private",
                  "module.vpc.aws_subnet.private",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table_association.private[1]",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "private",
                "index": 1,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "gateway_id": "",
                  "id": "rtbassoc-0baa3ef024b1a808e",
                  "route_table_id": "rtb-0847470e04bef136e",
                  "subnet_id": "subnet-05450a4ab7f5408bb",
                  "timeouts": null
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.vpc.aws_route_table.private",
                  "module.vpc.aws_subnet.private",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table_association.public[0]",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "public",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "gateway_id": "",
                  "id": "rtbassoc-043ba94e3ac9b3a0b",
                  "route_table_id": "rtb-055d1aee5e7604d6b",
                  "subnet_id": "subnet-0257115d2a1ef35ea",
                  "timeouts": null
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.vpc.aws_route_table.public",
                  "module.vpc.aws_subnet.public",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_route_table_association.public[1]",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "public",
                "index": 1,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "gateway_id": "",
                  "id": "rtbassoc-03a0263e0e8699145",
                  "route_table_id": "rtb-055d1aee5e7604d6b",
                  "subnet_id": "subnet-0aaa1627feff66ddf",
                  "timeouts": null
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.vpc.aws_route_table.public",
                  "module.vpc.aws_subnet.public",
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_subnet.database[0]",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "database",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0587e1bf569e9ba82",
                  "assign_ipv6_address_on_creation": false,
                  "availability_zone": "us-east-1a",
                  "availability_zone_id": "use1-az4",
                  "cidr_block": "10.0.81.0/24",
                  "customer_owned_ipv4_pool": "",
                  "enable_dns64": false,
                  "enable_lni_at_device_index": 0,
                  "enable_resource_name_dns_a_record_on_launch": false,
                  "enable_resource_name_dns_aaaa_record_on_launch": false,
                  "id": "subnet-0587e1bf569e9ba82",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_association_id": "",
                  "ipv6_native": false,
                  "map_customer_owned_ip_on_launch": false,
                  "map_public_ip_on_launch": false,
                  "outpost_arn": "",
                  "owner_id": "211125336427",
                  "private_dns_hostname_type_on_launch": "ip-name",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_subnet.database[1]",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "database",
                "index": 1,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0ba5709102532ea5a",
                  "assign_ipv6_address_on_creation": false,
                  "availability_zone": "us-east-1b",
                  "availability_zone_id": "use1-az6",
                  "cidr_block": "10.0.82.0/24",
                  "customer_owned_ipv4_pool": "",
                  "enable_dns64": false,
                  "enable_lni_at_device_index": 0,
                  "enable_resource_name_dns_a_record_on_launch": false,
                  "enable_resource_name_dns_aaaa_record_on_launch": false,
                  "id": "subnet-0ba5709102532ea5a",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_association_id": "",
                  "ipv6_native": false,
                  "map_customer_owned_ip_on_launch": false,
                  "map_public_ip_on_launch": false,
                  "outpost_arn": "",
                  "owner_id": "211125336427",
                  "private_dns_hostname_type_on_launch": "ip-name",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_subnet.private[0]",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "private",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-045dee18d553a8a2a",
                  "assign_ipv6_address_on_creation": false,
                  "availability_zone": "us-east-1a",
                  "availability_zone_id": "use1-az4",
                  "cidr_block": "10.0.11.0/24",
                  "customer_owned_ipv4_pool": "",
                  "enable_dns64": false,
                  "enable_lni_at_device_index": 0,
                  "enable_resource_name_dns_a_record_on_launch": false,
                  "enable_resource_name_dns_aaaa_record_on_launch": false,
                  "id": "subnet-045dee18d553a8a2a",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_association_id": "",
                  "ipv6_native": false,
                  "map_customer_owned_ip_on_launch": false,
                  "map_public_ip_on_launch": false,
                  "outpost_arn": "",
                  "owner_id": "211125336427",
                  "private_dns_hostname_type_on_launch": "ip-name",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_subnet.private[1]",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "private",
                "index": 1,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-05450a4ab7f5408bb",
                  "assign_ipv6_address_on_creation": false,
                  "availability_zone": "us-east-1b",
                  "availability_zone_id": "use1-az6",
                  "cidr_block": "10.0.12.0/24",
                  "customer_owned_ipv4_pool": "",
                  "enable_dns64": false,
                  "enable_lni_at_device_index": 0,
                  "enable_resource_name_dns_a_record_on_launch": false,
                  "enable_resource_name_dns_aaaa_record_on_launch": false,
                  "id": "subnet-05450a4ab7f5408bb",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_association_id": "",
                  "ipv6_native": false,
                  "map_customer_owned_ip_on_launch": false,
                  "map_public_ip_on_launch": false,
                  "outpost_arn": "",
                  "owner_id": "211125336427",
                  "private_dns_hostname_type_on_launch": "ip-name",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_subnet.public[0]",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "public",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0257115d2a1ef35ea",
                  "assign_ipv6_address_on_creation": false,
                  "availability_zone": "us-east-1a",
                  "availability_zone_id": "use1-az4",
                  "cidr_block": "10.0.1.0/24",
                  "customer_owned_ipv4_pool": "",
                  "enable_dns64": false,
                  "enable_lni_at_device_index": 0,
                  "enable_resource_name_dns_a_record_on_launch": false,
                  "enable_resource_name_dns_aaaa_record_on_launch": false,
                  "id": "subnet-0257115d2a1ef35ea",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_association_id": "",
                  "ipv6_native": false,
                  "map_customer_owned_ip_on_launch": false,
                  "map_public_ip_on_launch": false,
                  "outpost_arn": "",
                  "owner_id": "211125336427",
                  "private_dns_hostname_type_on_launch": "ip-name",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_subnet.public[1]",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "public",
                "index": 1,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:subnet/subnet-0aaa1627feff66ddf",
                  "assign_ipv6_address_on_creation": false,
                  "availability_zone": "us-east-1b",
                  "availability_zone_id": "use1-az6",
                  "cidr_block": "10.0.2.0/24",
                  "customer_owned_ipv4_pool": "",
                  "enable_dns64": false,
                  "enable_lni_at_device_index": 0,
                  "enable_resource_name_dns_a_record_on_launch": false,
                  "enable_resource_name_dns_aaaa_record_on_launch": false,
                  "id": "subnet-0aaa1627feff66ddf",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_association_id": "",
                  "ipv6_native": false,
                  "map_customer_owned_ip_on_launch": false,
                  "map_public_ip_on_launch": false,
                  "outpost_arn": "",
                  "owner_id": "211125336427",
                  "private_dns_hostname_type_on_launch": "ip-name",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-04a411e97b88a5e4f"
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.vpc.aws_vpc.this",
                  "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
                ]
              },
              {
                "address": "module.vpc.aws_vpc.this[0]",
                "mode": "managed",
                "type": "aws_vpc",
                "name": "this",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:211125336427:vpc/vpc-04a411e97b88a5e4f",
                  "assign_generated_ipv6_cidr_block": false,
                  "cidr_block": "10.0.0.0/16",
                  "default_network_acl_id": "acl-09d75561178c59659",
                  "default_route_table_id": "rtb-044b5633fdaebb72d",
                  "default_security_group_id": "sg-00ba1002f2a04343d",
                  "dhcp_options_id": "dopt-0daf33fc72d9a76a9",
                  "enable_dns_hostnames": true,
                  "enable_dns_support": true,
                  "enable_network_address_usage_metrics": false,
                  "id": "vpc-04a411e97b88a5e4f",
                  "instance_tenancy": "default",
                  "ipv4_ipam_pool_id": null,
                  "ipv4_netmask_length": null,
                  "ipv6_association_id": "",
                  "ipv6_cidr_block": "",
                  "ipv6_cidr_block_network_border_group": "",
                  "ipv6_ipam_pool_id": "",
                  "ipv6_netmask_length": 0,
                  "main_route_table_id": "rtb-044b5633fdaebb72d",
                  "owner_id": "211125336427",
                  "tags": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  },
                  "tags_all": {
                    "Name": "web-app-dev-vpc",
                    "Terraform": "true"
                  }
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                }
              }
            ],
            "address": "module.vpc"
          }
        ]
      }
    }
  },
  "configuration": {
    "provider_config": {
      "aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "version_constraint": "~> 5.0",
        "expressions": {
          "region": {
            "references": [
              "var.region"
            ]
          }
        }
      },
      "external": {
        "name": "external",
        "full_name": "registry.terraform.io/hashicorp/external",
        "version_constraint": "~> 2.3"
      },
      "module.database.module.db_instance:random": {
        "name": "random",
        "full_name": "registry.terraform.io/hashicorp/random",
        "version_constraint": ">= 3.1.0",
        "module_address": "module.database.module.db_instance"
      },
      "null": {
        "name": "null",
        "full_name": "registry.terraform.io/hashicorp/null"
      },
      "random": {
        "name": "random",
        "full_name": "registry.terraform.io/hashicorp/random"
      }
    },
    "root_module": {
      "outputs": {
        "alb_https_url": {
          "expression": {
            "references": [
              "aws_route53_record.app-server.name",
              "aws_route53_record.app-server"
            ]
          },
          "description": "HTTPS URL for the sandbox environment (using domain name)"
        },
        "bastion_instance_id": {
          "expression": {
            "references": [
              "var.enable_bastion",
              "aws_instance.bastion[0].id",
              "aws_instance.bastion[0]",
              "aws_instance.bastion"
            ]
          },
          "description": "Instance ID of the bastion host"
        },
        "bastion_public_ip": {
          "expression": {
            "references": [
              "var.enable_bastion",
              "aws_instance.bastion[0].public_ip",
              "aws_instance.bastion[0]",
              "aws_instance.bastion"
            ]
          },
          "description": "Public IP address of the bastion host"
        },
        "bastion_ssh_command": {
          "expression": {
            "references": [
              "var.enable_bastion",
              "var.bastion_key_name",
              "var.bastion_key_name",
              "aws_instance.bastion[0].public_ip",
              "aws_instance.bastion[0]",
              "aws_instance.bastion",
              "var.enable_bastion",
              "aws_instance.bastion[0].public_ip",
              "aws_instance.bastion[0]",
              "aws_instance.bastion"
            ]
          },
          "description": "SSH command to connect to bastion host"
        },
        "bastion_ssm_command": {
          "expression": {
            "references": [
              "var.enable_bastion",
              "aws_instance.bastion[0].id",
              "aws_instance.bastion[0]",
              "aws_instance.bastion",
              "var.region"
            ]
          },
          "description": "SSM command to connect to bastion (once SSM agent registers)"
        },
        "db_instance_id": {
          "expression": {
            "references": [
              "module.database.db_instance_identifier",
              "module.database"
            ]
          },
          "description": "RDS database instance identifier"
        },
        "db_secret_arn": {
          "expression": {
            "references": [
              "aws_secretsmanager_secret.db_credential.arn",
              "aws_secretsmanager_secret.db_credential"
            ]
          },
          "description": "ARN of the Secrets Manager secret containing database credentials"
        },
        "instance_count": {
          "expression": {
            "references": [
              "data.external.asg_instances.result.count",
              "data.external.asg_instances.result",
              "data.external.asg_instances"
            ]
          },
          "description": "Number of InService/Pending instances in the ASG"
        },
        "launch_template_latest_version": {
          "expression": {
            "references": [
              "aws_launch_template.app-server-lt.latest_version",
              "aws_launch_template.app-server-lt"
            ]
          }
        },
        "s3_bucket_app_assets": {
          "expression": {
            "references": [
              "aws_s3_bucket.app_assets.id",
              "aws_s3_bucket.app_assets"
            ]
          },
          "description": "Name of the S3 bucket for application assets"
        },
        "secret_name": {
          "expression": {
            "references": [
              "aws_secretsmanager_secret.db_credential.name",
              "aws_secretsmanager_secret.db_credential"
            ]
          },
          "description": "Name of the Secrets Manager secret"
        },
        "ssm_connect_command": {
          "expression": {
            "references": [
              "data.external.asg_instances.result.first_instance_id",
              "data.external.asg_instances.result",
              "data.external.asg_instances",
              "data.external.asg_instances.result.first_instance_id",
              "data.external.asg_instances.result",
              "data.external.asg_instances",
              "var.region"
            ]
          },
          "description": "Ready-to-use SSM Session Manager connection command (always uses current instance ID from AWS API)"
        }
      },
      "resources": [
        {
          "address": "aws_acm_certificate.app-server-cert",
          "mode": "managed",
          "type": "aws_acm_certificate",
          "name": "app-server-cert",
          "provider_config_key": "aws",
          "expressions": {
            "domain_name": {
              "references": [
                "var.hosted_zone_name"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "validation_method": {
              "constant_value": "DNS"
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_acm_certificate_validation.app-server-cert-validation",
          "mode": "managed",
          "type": "aws_acm_certificate_validation",
          "name": "app-server-cert-validation",
          "provider_config_key": "aws",
          "expressions": {
            "certificate_arn": {
              "references": [
                "aws_acm_certificate.app-server-cert.arn",
                "aws_acm_certificate.app-server-cert"
              ]
            },
            "validation_record_fqdns": {
              "references": [
                "aws_route53_record.app-server-cert-validation-record"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_autoscaling_group.app-server-asg",
          "mode": "managed",
          "type": "aws_autoscaling_group",
          "name": "app-server-asg",
          "provider_config_key": "aws",
          "expressions": {
            "desired_capacity": {
              "references": [
                "local.env_config.desired_capacity",
                "local.env_config"
              ]
            },
            "health_check_grace_period": {
              "constant_value": 600
            },
            "health_check_type": {
              "constant_value": "ELB"
            },
            "instance_refresh": [
              {
                "preferences": [
                  {
                    "auto_rollback": {
                      "constant_value": true
                    },
                    "instance_warmup": {
                      "constant_value": 120
                    },
                    "min_healthy_percentage": {
                      "constant_value": 50
                    },
                    "skip_matching": {
                      "constant_value": true
                    }
                  }
                ],
                "strategy": {
                  "constant_value": "Rolling"
                }
              }
            ],
            "launch_template": [
              {
                "id": {
                  "references": [
                    "aws_launch_template.app-server-lt.id",
                    "aws_launch_template.app-server-lt"
                  ]
                },
                "version": {
                  "references": [
                    "aws_launch_template.app-server-lt.latest_version",
                    "aws_launch_template.app-server-lt"
                  ]
                }
              }
            ],
            "max_size": {
              "references": [
                "local.env_config.max_size",
                "local.env_config"
              ]
            },
            "min_size": {
              "references": [
                "local.env_config.min_size",
                "local.env_config"
              ]
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "tag": [
              {
                "key": {
                  "constant_value": "Name"
                },
                "propagate_at_launch": {
                  "constant_value": true
                },
                "value": {
                  "references": [
                    "local.name_prefix"
                  ]
                }
              }
            ],
            "target_group_arns": {
              "references": [
                "aws_lb_target_group.app-server-tg.arn",
                "aws_lb_target_group.app-server-tg"
              ]
            },
            "termination_policies": {
              "constant_value": [
                "OldestInstance",
                "Default"
              ]
            },
            "vpc_zone_identifier": {
              "references": [
                "module.vpc.private_subnets",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1,
          "depends_on": [
            "aws_lb_target_group.app-server-tg",
            "aws_lb.app-server-lb"
          ]
        },
        {
          "address": "aws_iam_instance_profile.app-server-instance-profile",
          "mode": "managed",
          "type": "aws_iam_instance_profile",
          "name": "app-server-instance-profile",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "role": {
              "references": [
                "aws_iam_role.app-server-role.name",
                "aws_iam_role.app-server-role"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_instance_profile.ssm_instance_profile",
          "mode": "managed",
          "type": "aws_iam_instance_profile",
          "name": "ssm_instance_profile",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "constant_value": "ssm-instance-profile"
            },
            "role": {
              "references": [
                "aws_iam_role.ssm_role.name",
                "aws_iam_role.ssm_role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_policy.app-server-policy",
          "mode": "managed",
          "type": "aws_iam_policy",
          "name": "app-server-policy",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "policy": {
              "references": [
                "aws_s3_bucket.app_assets.arn",
                "aws_s3_bucket.app_assets",
                "aws_s3_bucket.app_assets.arn",
                "aws_s3_bucket.app_assets",
                "aws_secretsmanager_secret.db_credential.arn",
                "aws_secretsmanager_secret.db_credential"
              ]
            }
          },
          "schema_version": 0,
          "depends_on": [
            "aws_s3_bucket.app_assets",
            "aws_secretsmanager_secret.db_credential"
          ]
        },
        {
          "address": "aws_iam_policy.secrets_manager_read",
          "mode": "managed",
          "type": "aws_iam_policy",
          "name": "secrets_manager_read",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Policy to allow EC2 instances to read database credentials from Secrets Manager"
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "policy": {
              "references": [
                "aws_secretsmanager_secret.db_credential.arn",
                "aws_secretsmanager_secret.db_credential",
                "module.database.db_instance_master_user_secret_arn",
                "module.database"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role.app-server-role",
          "mode": "managed",
          "type": "aws_iam_role",
          "name": "app-server-role",
          "provider_config_key": "aws",
          "expressions": {
            "assume_role_policy": {},
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role.ssm_role",
          "mode": "managed",
          "type": "aws_iam_role",
          "name": "ssm_role",
          "provider_config_key": "aws",
          "expressions": {
            "assume_role_policy": {
              "references": [
                "data.aws_iam_policy_document.ec2_assume.json",
                "data.aws_iam_policy_document.ec2_assume"
              ]
            },
            "name": {
              "constant_value": "ssm-role"
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role_policy_attachment.app-server-role-policy-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "app-server-role-policy-attachment",
          "provider_config_key": "aws",
          "expressions": {
            "policy_arn": {
              "references": [
                "aws_iam_policy.app-server-policy.arn",
                "aws_iam_policy.app-server-policy"
              ]
            },
            "role": {
              "references": [
                "aws_iam_role.app-server-role.name",
                "aws_iam_role.app-server-role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role_policy_attachment.app-server-role-ssm-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "app-server-role-ssm-attachment",
          "provider_config_key": "aws",
          "expressions": {
            "policy_arn": {
              "constant_value": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            },
            "role": {
              "references": [
                "aws_iam_role.app-server-role.name",
                "aws_iam_role.app-server-role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role_policy_attachment.secrets_manager_read",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "secrets_manager_read",
          "provider_config_key": "aws",
          "expressions": {
            "policy_arn": {
              "references": [
                "aws_iam_policy.secrets_manager_read.arn",
                "aws_iam_policy.secrets_manager_read"
              ]
            },
            "role": {
              "references": [
                "aws_iam_role.app-server-role.name",
                "aws_iam_role.app-server-role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role_policy_attachment.ssm_attach",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "ssm_attach",
          "provider_config_key": "aws",
          "expressions": {
            "policy_arn": {
              "constant_value": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            },
            "role": {
              "references": [
                "aws_iam_role.ssm_role.name",
                "aws_iam_role.ssm_role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_instance.bastion",
          "mode": "managed",
          "type": "aws_instance",
          "name": "bastion",
          "provider_config_key": "aws",
          "expressions": {
            "ami": {
              "references": [
                "data.aws_ami.ubuntu.id",
                "data.aws_ami.ubuntu"
              ]
            },
            "associate_public_ip_address": {
              "constant_value": true
            },
            "iam_instance_profile": {
              "references": [
                "aws_iam_instance_profile.app-server-instance-profile.name",
                "aws_iam_instance_profile.app-server-instance-profile"
              ]
            },
            "instance_type": {
              "constant_value": "t3.micro"
            },
            "key_name": {
              "references": [
                "var.bastion_key_name",
                "var.bastion_key_name"
              ]
            },
            "subnet_id": {
              "references": [
                "module.vpc.public_subnets[0]",
                "module.vpc.public_subnets",
                "module.vpc"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "user_data": {
              "constant_value": "    #!/bin/bash\n    exec > >(tee /var/log/bastion-setup.log) 2>&1\n    \n    echo \"=== Bastion Host Setup ===\"\n    echo \"Timestamp: $(date)\"\n    \n    # Update packages\n    apt-get update -y\n    \n    # Install useful troubleshooting tools\n    apt-get install -y \\\n      curl \\\n      wget \\\n      netcat \\\n      telnet \\\n      dnsutils \\\n      jq \\\n      htop \\\n      vim \\\n      unzip\n    \n    # Install AWS CLI via snap (more reliable than apt)\n    if ! command -v aws &> /dev/null; then\n      echo \"Installing AWS CLI...\"\n      snap install aws-cli --classic || {\n        # Fallback to official AWS installer\n        echo \"Snap install failed, trying official installer...\"\n        curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"/tmp/awscliv2.zip\"\n        unzip -q /tmp/awscliv2.zip -d /tmp\n        /tmp/aws/install\n        rm -rf /tmp/aws /tmp/awscliv2.zip\n      }\n    fi\n\n# testing to make sure the script is copied to the bastion host\n    aws s3 cp s3://dev-web-app-846413/scripts/userdata_client_apache_test.sh /home/ubuntu/\n    \n    # Install SSM agent for Session Manager access\n    if ! command -v amazon-ssm-agent &> /dev/null; then\n      echo \"Installing SSM Agent...\"\n      snap install amazon-ssm-agent --classic || {\n        wget https://s3.amazonaws.com/ec2-downloads-windows/SSMAgent/latest/debian_amd64/amazon-ssm-agent.deb\n        dpkg -i amazon-ssm-agent.deb || apt-get install -f -y\n      }\n      systemctl enable amazon-ssm-agent\n      systemctl start amazon-ssm-agent\n    fi\n    \n    echo \"=== Bastion Setup Complete ===\"\n    echo \"Timestamp: $(date)\"\n"
            },
            "vpc_security_group_ids": {
              "references": [
                "aws_security_group.bastion_sg[0].id",
                "aws_security_group.bastion_sg[0]",
                "aws_security_group.bastion_sg"
              ]
            }
          },
          "schema_version": 1,
          "count_expression": {
            "references": [
              "var.enable_bastion"
            ]
          }
        },
        {
          "address": "aws_launch_template.app-server-lt",
          "mode": "managed",
          "type": "aws_launch_template",
          "name": "app-server-lt",
          "provider_config_key": "aws",
          "expressions": {
            "iam_instance_profile": [
              {
                "name": {
                  "references": [
                    "aws_iam_instance_profile.app-server-instance-profile.name",
                    "aws_iam_instance_profile.app-server-instance-profile"
                  ]
                }
              }
            ],
            "image_id": {
              "references": [
                "data.aws_ami.ubuntu.id",
                "data.aws_ami.ubuntu"
              ]
            },
            "instance_type": {
              "references": [
                "local.env_config.instance_type",
                "local.env_config"
              ]
            },
            "name": {
              "references": [
                "local.lt_prefix",
                "local.random_integer"
              ]
            },
            "tag_specifications": [
              {
                "resource_type": {
                  "constant_value": "volume"
                },
                "tags": {
                  "references": [
                    "local.name_prefix"
                  ]
                }
              }
            ],
            "update_default_version": {
              "constant_value": true
            },
            "user_data": {
              "references": [
                "path.module",
                "aws_s3_bucket.app_assets.id",
                "aws_s3_bucket.app_assets",
                "var.region"
              ]
            },
            "vpc_security_group_ids": {
              "references": [
                "aws_security_group.app-server-sg.id",
                "aws_security_group.app-server-sg"
              ]
            }
          },
          "schema_version": 0,
          "depends_on": [
            "module.database",
            "aws_secretsmanager_secret_version.db_credential",
            "aws_iam_instance_profile.app-server-instance-profile",
            "aws_s3_object.userdata_script"
          ]
        },
        {
          "address": "aws_lb.app-server-lb",
          "mode": "managed",
          "type": "aws_lb",
          "name": "app-server-lb",
          "provider_config_key": "aws",
          "expressions": {
            "enable_deletion_protection": {
              "constant_value": false
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "security_groups": {
              "references": [
                "aws_security_group.alb-sg.id",
                "aws_security_group.alb-sg"
              ]
            },
            "subnets": {
              "references": [
                "module.vpc.public_subnets",
                "module.vpc"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_lb_listener.app-server-listener",
          "mode": "managed",
          "type": "aws_lb_listener",
          "name": "app-server-listener",
          "provider_config_key": "aws",
          "expressions": {
            "certificate_arn": {
              "references": [
                "aws_acm_certificate_validation.app-server-cert-validation.certificate_arn",
                "aws_acm_certificate_validation.app-server-cert-validation"
              ]
            },
            "default_action": [
              {
                "target_group_arn": {
                  "references": [
                    "aws_lb_target_group.app-server-tg.arn",
                    "aws_lb_target_group.app-server-tg"
                  ]
                },
                "type": {
                  "constant_value": "forward"
                }
              }
            ],
            "load_balancer_arn": {
              "references": [
                "aws_lb.app-server-lb.arn",
                "aws_lb.app-server-lb"
              ]
            },
            "port": {
              "constant_value": 443
            },
            "protocol": {
              "constant_value": "HTTPS"
            },
            "ssl_policy": {
              "constant_value": "ELBSecurityPolicy-2016-08"
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_lb_listener.app-server-listener-http",
          "mode": "managed",
          "type": "aws_lb_listener",
          "name": "app-server-listener-http",
          "provider_config_key": "aws",
          "expressions": {
            "default_action": [
              {
                "redirect": [
                  {
                    "port": {
                      "constant_value": "443"
                    },
                    "protocol": {
                      "constant_value": "HTTPS"
                    },
                    "status_code": {
                      "constant_value": "HTTP_301"
                    }
                  }
                ],
                "type": {
                  "constant_value": "redirect"
                }
              }
            ],
            "load_balancer_arn": {
              "references": [
                "aws_lb.app-server-lb.arn",
                "aws_lb.app-server-lb"
              ]
            },
            "port": {
              "constant_value": 80
            },
            "protocol": {
              "constant_value": "HTTP"
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_lb_target_group.app-server-tg",
          "mode": "managed",
          "type": "aws_lb_target_group",
          "name": "app-server-tg",
          "provider_config_key": "aws",
          "expressions": {
            "deregistration_delay": {
              "constant_value": 30
            },
            "health_check": [
              {
                "enabled": {
                  "constant_value": true
                },
                "healthy_threshold": {
                  "constant_value": 2
                },
                "interval": {
                  "constant_value": 30
                },
                "matcher": {
                  "constant_value": "200"
                },
                "path": {
                  "constant_value": "/health"
                },
                "port": {
                  "constant_value": "traffic-port"
                },
                "protocol": {
                  "constant_value": "HTTP"
                },
                "timeout": {
                  "constant_value": 10
                },
                "unhealthy_threshold": {
                  "constant_value": 3
                }
              }
            ],
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "port": {
              "constant_value": 80
            },
            "protocol": {
              "constant_value": "HTTP"
            },
            "stickiness": [
              {
                "enabled": {
                  "constant_value": false
                },
                "type": {
                  "constant_value": "lb_cookie"
                }
              }
            ],
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "target_type": {
              "constant_value": "instance"
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_route53_record.app-server",
          "mode": "managed",
          "type": "aws_route53_record",
          "name": "app-server",
          "provider_config_key": "aws",
          "expressions": {
            "alias": [
              {
                "evaluate_target_health": {
                  "constant_value": true
                },
                "name": {
                  "references": [
                    "aws_lb.app-server-lb.dns_name",
                    "aws_lb.app-server-lb"
                  ]
                },
                "zone_id": {
                  "references": [
                    "aws_lb.app-server-lb.zone_id",
                    "aws_lb.app-server-lb"
                  ]
                }
              }
            ],
            "name": {
              "references": [
                "var.hosted_zone_name"
              ]
            },
            "type": {
              "constant_value": "A"
            },
            "zone_id": {
              "references": [
                "data.aws_route53_zone.hosted_zone.zone_id",
                "data.aws_route53_zone.hosted_zone"
              ]
            }
          },
          "schema_version": 2
        },
        {
          "address": "aws_route53_record.app-server-cert-validation-record",
          "mode": "managed",
          "type": "aws_route53_record",
          "name": "app-server-cert-validation-record",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "references": [
                "each.value.name",
                "each.value"
              ]
            },
            "records": {
              "references": [
                "each.value.record",
                "each.value"
              ]
            },
            "ttl": {
              "constant_value": 60
            },
            "type": {
              "references": [
                "each.value.type",
                "each.value"
              ]
            },
            "zone_id": {
              "references": [
                "data.aws_route53_zone.hosted_zone.zone_id",
                "data.aws_route53_zone.hosted_zone"
              ]
            }
          },
          "schema_version": 2,
          "for_each_expression": {
            "references": [
              "aws_acm_certificate.app-server-cert.domain_validation_options",
              "aws_acm_certificate.app-server-cert"
            ]
          }
        },
        {
          "address": "aws_s3_bucket.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket",
          "name": "app_assets",
          "provider_config_key": "aws",
          "expressions": {
            "bucket": {
              "references": [
                "var.s3_bucket_name",
                "local.random_integer"
              ]
            },
            "force_destroy": {
              "constant_value": true
            },
            "tags": {
              "references": [
                "local.name_prefix",
                "var.environment"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_s3_bucket_public_access_block.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket_public_access_block",
          "name": "app_assets",
          "provider_config_key": "aws",
          "expressions": {
            "block_public_acls": {
              "constant_value": true
            },
            "block_public_policy": {
              "constant_value": true
            },
            "bucket": {
              "references": [
                "aws_s3_bucket.app_assets.id",
                "aws_s3_bucket.app_assets"
              ]
            },
            "ignore_public_acls": {
              "constant_value": true
            },
            "restrict_public_buckets": {
              "constant_value": true
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_s3_bucket_server_side_encryption_configuration.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket_server_side_encryption_configuration",
          "name": "app_assets",
          "provider_config_key": "aws",
          "expressions": {
            "bucket": {
              "references": [
                "aws_s3_bucket.app_assets.id",
                "aws_s3_bucket.app_assets"
              ]
            },
            "rule": [
              {
                "apply_server_side_encryption_by_default": [
                  {
                    "sse_algorithm": {
                      "constant_value": "AES256"
                    }
                  }
                ]
              }
            ]
          },
          "schema_version": 0
        },
        {
          "address": "aws_s3_bucket_versioning.app_assets",
          "mode": "managed",
          "type": "aws_s3_bucket_versioning",
          "name": "app_assets",
          "provider_config_key": "aws",
          "expressions": {
            "bucket": {
              "references": [
                "aws_s3_bucket.app_assets.id",
                "aws_s3_bucket.app_assets"
              ]
            },
            "versioning_configuration": [
              {
                "status": {
                  "constant_value": "Enabled"
                }
              }
            ]
          },
          "schema_version": 0
        },
        {
          "address": "aws_s3_object.userdata_script",
          "mode": "managed",
          "type": "aws_s3_object",
          "name": "userdata_script",
          "provider_config_key": "aws",
          "expressions": {
            "bucket": {
              "references": [
                "aws_s3_bucket.app_assets.id",
                "aws_s3_bucket.app_assets"
              ]
            },
            "content": {
              "references": [
                "path.module",
                "aws_secretsmanager_secret.db_credential.arn",
                "aws_secretsmanager_secret.db_credential",
                "var.region"
              ]
            },
            "content_type": {
              "constant_value": "text/x-shellscript"
            },
            "etag": {
              "references": [
                "path.module",
                "aws_secretsmanager_secret.db_credential.arn",
                "aws_secretsmanager_secret.db_credential",
                "var.region"
              ]
            },
            "key": {
              "constant_value": "scripts/userdata_client_app.sh"
            },
            "tags": {
              "constant_value": {
                "Name": "Client App Userdata Script",
                "Type": "Userdata"
              }
            }
          },
          "schema_version": 0,
          "depends_on": [
            "aws_secretsmanager_secret.db_credential",
            "aws_secretsmanager_secret_version.db_credential"
          ]
        },
        {
          "address": "aws_secretsmanager_secret.db_credential",
          "mode": "managed",
          "type": "aws_secretsmanager_secret",
          "name": "db_credential",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "references": [
                "local.name_prefix"
              ]
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "recovery_window_in_days": {
              "constant_value": 0
            },
            "tags": {
              "references": [
                "local.name_prefix",
                "var.environment"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_secretsmanager_secret_version.db_credential",
          "mode": "managed",
          "type": "aws_secretsmanager_secret_version",
          "name": "db_credential",
          "provider_config_key": "aws",
          "expressions": {
            "secret_id": {
              "references": [
                "aws_secretsmanager_secret.db_credential.id",
                "aws_secretsmanager_secret.db_credential"
              ]
            },
            "secret_string": {
              "references": [
                "var.db_username",
                "var.db_password",
                "var.db_engine",
                "module.database.db_instance_address",
                "module.database",
                "module.database.db_instance_port",
                "module.database",
                "var.db_name"
              ]
            }
          },
          "schema_version": 0,
          "depends_on": [
            "module.database",
            "null_resource.sync_db_password"
          ]
        },
        {
          "address": "aws_security_group.alb-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "alb-sg",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Security Group for the Application Load Balancer"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow all outbound traffic",
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow HTTPS from internet",
                  "from_port": 443,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "tcp",
                  "security_groups": null,
                  "self": null,
                  "to_port": 443
                },
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow HTTP from internet",
                  "from_port": 80,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "tcp",
                  "security_groups": null,
                  "self": null,
                  "to_port": 80
                }
              ]
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_security_group.app-server-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "app-server-sg",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Security Group for the app-server instances"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow all outbound traffic",
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "references": [
                "aws_security_group.alb-sg.id",
                "aws_security_group.alb-sg",
                "aws_security_group.alb-sg.id",
                "aws_security_group.alb-sg"
              ]
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_security_group.bastion_sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "bastion_sg",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Security Group for Bastion Host - Temporary troubleshooting instance"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow all outbound traffic",
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "SSH from internet",
                  "from_port": 22,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "tcp",
                  "security_groups": null,
                  "self": null,
                  "to_port": 22
                },
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "Allow ICMP from internet",
                  "from_port": -1,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "icmp",
                  "security_groups": null,
                  "self": null,
                  "to_port": -1
                }
              ]
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1,
          "count_expression": {
            "references": [
              "var.enable_bastion"
            ]
          }
        },
        {
          "address": "aws_security_group.db-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "db-sg",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Security Group for the database"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": null,
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "references": [
                "aws_security_group.app-server-sg.id",
                "aws_security_group.app-server-sg"
              ]
            },
            "name": {
              "references": [
                "local.name_prefix"
              ]
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_security_group_rule.app_server_allow_bastion_ssh",
          "mode": "managed",
          "type": "aws_security_group_rule",
          "name": "app_server_allow_bastion_ssh",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Allow SSH from bastion host"
            },
            "from_port": {
              "constant_value": 22
            },
            "protocol": {
              "constant_value": "tcp"
            },
            "security_group_id": {
              "references": [
                "aws_security_group.app-server-sg.id",
                "aws_security_group.app-server-sg"
              ]
            },
            "source_security_group_id": {
              "references": [
                "aws_security_group.bastion_sg[0].id",
                "aws_security_group.bastion_sg[0]",
                "aws_security_group.bastion_sg"
              ]
            },
            "to_port": {
              "constant_value": 22
            },
            "type": {
              "constant_value": "ingress"
            }
          },
          "schema_version": 2,
          "count_expression": {
            "references": [
              "var.enable_bastion"
            ]
          }
        },
        {
          "address": "null_resource.instance_refresh_trigger",
          "mode": "managed",
          "type": "null_resource",
          "name": "instance_refresh_trigger",
          "provider_config_key": "null",
          "provisioners": [
            {
              "type": "local-exec",
              "expressions": {
                "command": {
                  "references": [
                    "aws_autoscaling_group.app-server-asg.name",
                    "aws_autoscaling_group.app-server-asg",
                    "var.region"
                  ]
                }
              }
            }
          ],
          "expressions": {
            "triggers": {
              "references": [
                "local.user_data_hash",
                "aws_autoscaling_group.app-server-asg.name",
                "aws_autoscaling_group.app-server-asg"
              ]
            }
          },
          "schema_version": 0,
          "depends_on": [
            "aws_autoscaling_group.app-server-asg",
            "aws_launch_template.app-server-lt"
          ]
        },
        {
          "address": "null_resource.sync_db_password",
          "mode": "managed",
          "type": "null_resource",
          "name": "sync_db_password",
          "provider_config_key": "null",
          "provisioners": [
            {
              "type": "local-exec",
              "expressions": {
                "command": {
                  "references": [
                    "path.module"
                  ]
                }
              }
            }
          ],
          "expressions": {
            "triggers": {
              "references": [
                "module.database.db_instance_identifier",
                "module.database",
                "module.database.db_instance_status",
                "module.database",
                "aws_secretsmanager_secret.db_credential.id",
                "aws_secretsmanager_secret.db_credential"
              ]
            }
          },
          "schema_version": 0,
          "depends_on": [
            "module.database",
            "aws_secretsmanager_secret.db_credential"
          ]
        },
        {
          "address": "random_integer.random",
          "mode": "managed",
          "type": "random_integer",
          "name": "random",
          "provider_config_key": "random",
          "expressions": {
            "max": {
              "constant_value": 999999
            },
            "min": {
              "constant_value": 100000
            }
          },
          "schema_version": 0
        },
        {
          "address": "data.aws_ami.ubuntu",
          "mode": "data",
          "type": "aws_ami",
          "name": "ubuntu",
          "provider_config_key": "aws",
          "expressions": {
            "filter": [
              {
                "name": {
                  "constant_value": "name"
                },
                "values": {
                  "constant_value": [
                    "ubuntu/images/hvm-ssd-gp3/ubuntu-noble-24.04-amd64-server-*"
                  ]
                }
              }
            ],
            "most_recent": {
              "constant_value": true
            },
            "owners": {
              "constant_value": [
                "099720109477"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "data.aws_iam_policy_document.ec2_assume",
          "mode": "data",
          "type": "aws_iam_policy_document",
          "name": "ec2_assume",
          "provider_config_key": "aws",
          "expressions": {
            "statement": [
              {
                "actions": {
                  "constant_value": [
                    "sts:AssumeRole"
                  ]
                },
                "principals": [
                  {
                    "identifiers": {
                      "constant_value": [
                        "ec2.amazonaws.com"
                      ]
                    },
                    "type": {
                      "constant_value": "Service"
                    }
                  }
                ]
              }
            ]
          },
          "schema_version": 0
        },
        {
          "address": "data.aws_route53_zone.hosted_zone",
          "mode": "data",
          "type": "aws_route53_zone",
          "name": "hosted_zone",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "references": [
                "var.hosted_zone_name"
              ]
            },
            "private_zone": {
              "constant_value": false
            }
          },
          "schema_version": 0
        },
        {
          "address": "data.external.asg_instances",
          "mode": "data",
          "type": "external",
          "name": "asg_instances",
          "provider_config_key": "external",
          "expressions": {
            "program": {
              "references": [
                "aws_autoscaling_group.app-server-asg.name",
                "aws_autoscaling_group.app-server-asg",
                "var.region"
              ]
            }
          },
          "schema_version": 0,
          "depends_on": [
            "aws_autoscaling_group.app-server-asg"
          ]
        }
      ],
      "module_calls": {
        "database": {
          "source": "terraform-aws-modules/rds/aws",
          "expressions": {
            "allocated_storage": {
              "constant_value": 20
            },
            "backup_retention_period": {
              "constant_value": 7
            },
            "backup_window": {
              "constant_value": "00:00-03:00"
            },
            "create_db_option_group": {
              "constant_value": false
            },
            "create_db_parameter_group": {
              "constant_value": false
            },
            "db_name": {
              "references": [
                "var.db_name"
              ]
            },
            "db_subnet_group_name": {
              "references": [
                "module.vpc.database_subnet_group_name",
                "module.vpc"
              ]
            },
            "delete_automated_backups": {
              "constant_value": true
            },
            "deletion_protection": {
              "references": [
                "local.env_config.deletion_protection",
                "local.env_config"
              ]
            },
            "engine": {
              "references": [
                "var.db_engine"
              ]
            },
            "engine_version": {
              "references": [
                "var.db_engine_version"
              ]
            },
            "identifier": {
              "references": [
                "local.db_prefix"
              ]
            },
            "instance_class": {
              "references": [
                "local.env_config.db_instance_type",
                "local.env_config"
              ]
            },
            "manage_master_user_password": {
              "constant_value": true
            },
            "max_allocated_storage": {
              "constant_value": 100
            },
            "password": {
              "references": [
                "var.db_password"
              ]
            },
            "skip_final_snapshot": {
              "constant_value": true
            },
            "storage_encrypted": {
              "constant_value": true
            },
            "tags": {
              "references": [
                "local.db_prefix",
                "local.random_integer"
              ]
            },
            "username": {
              "references": [
                "var.db_username"
              ]
            },
            "vpc_security_group_ids": {
              "references": [
                "aws_security_group.db-sg.id",
                "aws_security_group.db-sg"
              ]
            }
          },
          "module": {
            "outputs": {
              "db_instance_address": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_address",
                    "module.db_instance"
                  ]
                },
                "description": "The address of the RDS instance"
              },
              "db_instance_arn": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_arn",
                    "module.db_instance"
                  ]
                },
                "description": "The ARN of the RDS instance"
              },
              "db_instance_availability_zone": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_availability_zone",
                    "module.db_instance"
                  ]
                },
                "description": "The availability zone of the RDS instance"
              },
              "db_instance_ca_cert_identifier": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_ca_cert_identifier",
                    "module.db_instance"
                  ]
                },
                "description": "Specifies the identifier of the CA certificate for the DB instance"
              },
              "db_instance_cloudwatch_log_groups": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_cloudwatch_log_groups",
                    "module.db_instance"
                  ]
                },
                "description": "Map of CloudWatch log groups created and their attributes"
              },
              "db_instance_domain": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_domain",
                    "module.db_instance"
                  ]
                },
                "description": "The ID of the Directory Service Active Directory domain the instance is joined to"
              },
              "db_instance_domain_iam_role_name": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_domain_iam_role_name",
                    "module.db_instance"
                  ]
                },
                "description": "The name of the IAM role to be used when making API calls to the Directory Service"
              },
              "db_instance_endpoint": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_endpoint",
                    "module.db_instance"
                  ]
                },
                "description": "The connection endpoint"
              },
              "db_instance_engine": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_engine",
                    "module.db_instance"
                  ]
                },
                "description": "The database engine"
              },
              "db_instance_engine_version_actual": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_engine_version_actual",
                    "module.db_instance"
                  ]
                },
                "description": "The running version of the database"
              },
              "db_instance_hosted_zone_id": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_hosted_zone_id",
                    "module.db_instance"
                  ]
                },
                "description": "The canonical hosted zone ID of the DB instance (to be used in a Route 53 Alias record)"
              },
              "db_instance_identifier": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_identifier",
                    "module.db_instance"
                  ]
                },
                "description": "The RDS instance identifier"
              },
              "db_instance_master_user_secret_arn": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_master_user_secret_arn",
                    "module.db_instance"
                  ]
                },
                "description": "The ARN of the master user secret (Only available when manage_master_user_password is set to true)"
              },
              "db_instance_name": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_name",
                    "module.db_instance"
                  ]
                },
                "description": "The database name"
              },
              "db_instance_port": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_port",
                    "module.db_instance"
                  ]
                },
                "description": "The database port"
              },
              "db_instance_resource_id": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_resource_id",
                    "module.db_instance"
                  ]
                },
                "description": "The RDS Resource ID of this instance"
              },
              "db_instance_status": {
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_status",
                    "module.db_instance"
                  ]
                },
                "description": "The RDS instance status"
              },
              "db_instance_username": {
                "sensitive": true,
                "expression": {
                  "references": [
                    "module.db_instance.db_instance_username",
                    "module.db_instance"
                  ]
                },
                "description": "The master username for the database"
              },
              "db_listener_endpoint": {
                "expression": {
                  "references": [
                    "module.db_instance.db_listener_endpoint",
                    "module.db_instance"
                  ]
                },
                "description": "Specifies the listener connection endpoint for SQL Server Always On"
              },
              "db_option_group_arn": {
                "expression": {
                  "references": [
                    "module.db_option_group.db_option_group_arn",
                    "module.db_option_group"
                  ]
                },
                "description": "The ARN of the db option group"
              },
              "db_option_group_id": {
                "expression": {
                  "references": [
                    "module.db_option_group.db_option_group_id",
                    "module.db_option_group"
                  ]
                },
                "description": "The db option group id"
              },
              "db_parameter_group_arn": {
                "expression": {
                  "references": [
                    "module.db_parameter_group.db_parameter_group_arn",
                    "module.db_parameter_group"
                  ]
                },
                "description": "The ARN of the db parameter group"
              },
              "db_parameter_group_id": {
                "expression": {
                  "references": [
                    "module.db_parameter_group.db_parameter_group_id",
                    "module.db_parameter_group"
                  ]
                },
                "description": "The db parameter group id"
              },
              "db_subnet_group_arn": {
                "expression": {
                  "references": [
                    "module.db_subnet_group.db_subnet_group_arn",
                    "module.db_subnet_group"
                  ]
                },
                "description": "The ARN of the db subnet group"
              },
              "db_subnet_group_id": {
                "expression": {
                  "references": [
                    "module.db_subnet_group.db_subnet_group_id",
                    "module.db_subnet_group"
                  ]
                },
                "description": "The db subnet group name"
              },
              "enhanced_monitoring_iam_role_arn": {
                "expression": {
                  "references": [
                    "module.db_instance.enhanced_monitoring_iam_role_arn",
                    "module.db_instance"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the monitoring role"
              },
              "enhanced_monitoring_iam_role_name": {
                "expression": {
                  "references": [
                    "module.db_instance.enhanced_monitoring_iam_role_name",
                    "module.db_instance"
                  ]
                },
                "description": "The name of the monitoring role"
              }
            },
            "module_calls": {
              "db_instance": {
                "source": "./modules/db_instance",
                "expressions": {
                  "allocated_storage": {
                    "references": [
                      "var.allocated_storage"
                    ]
                  },
                  "allow_major_version_upgrade": {
                    "references": [
                      "var.allow_major_version_upgrade"
                    ]
                  },
                  "apply_immediately": {
                    "references": [
                      "var.apply_immediately"
                    ]
                  },
                  "auto_minor_version_upgrade": {
                    "references": [
                      "var.auto_minor_version_upgrade"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.availability_zone"
                    ]
                  },
                  "backup_retention_period": {
                    "references": [
                      "var.backup_retention_period"
                    ]
                  },
                  "backup_window": {
                    "references": [
                      "var.backup_window"
                    ]
                  },
                  "blue_green_update": {
                    "references": [
                      "var.blue_green_update"
                    ]
                  },
                  "ca_cert_identifier": {
                    "references": [
                      "var.ca_cert_identifier"
                    ]
                  },
                  "character_set_name": {
                    "references": [
                      "var.character_set_name"
                    ]
                  },
                  "cloudwatch_log_group_kms_key_id": {
                    "references": [
                      "var.cloudwatch_log_group_kms_key_id"
                    ]
                  },
                  "cloudwatch_log_group_retention_in_days": {
                    "references": [
                      "var.cloudwatch_log_group_retention_in_days"
                    ]
                  },
                  "copy_tags_to_snapshot": {
                    "references": [
                      "var.copy_tags_to_snapshot"
                    ]
                  },
                  "create": {
                    "references": [
                      "local.create_db_instance"
                    ]
                  },
                  "create_cloudwatch_log_group": {
                    "references": [
                      "var.create_cloudwatch_log_group"
                    ]
                  },
                  "create_monitoring_role": {
                    "references": [
                      "var.create_monitoring_role"
                    ]
                  },
                  "custom_iam_instance_profile": {
                    "references": [
                      "var.custom_iam_instance_profile"
                    ]
                  },
                  "db_name": {
                    "references": [
                      "var.db_name"
                    ]
                  },
                  "db_subnet_group_name": {
                    "references": [
                      "local.db_subnet_group_name"
                    ]
                  },
                  "delete_automated_backups": {
                    "references": [
                      "var.delete_automated_backups"
                    ]
                  },
                  "deletion_protection": {
                    "references": [
                      "var.deletion_protection"
                    ]
                  },
                  "domain": {
                    "references": [
                      "var.domain"
                    ]
                  },
                  "domain_iam_role_name": {
                    "references": [
                      "var.domain_iam_role_name"
                    ]
                  },
                  "enabled_cloudwatch_logs_exports": {
                    "references": [
                      "var.enabled_cloudwatch_logs_exports"
                    ]
                  },
                  "engine": {
                    "references": [
                      "var.engine"
                    ]
                  },
                  "engine_version": {
                    "references": [
                      "var.engine_version"
                    ]
                  },
                  "final_snapshot_identifier_prefix": {
                    "references": [
                      "var.final_snapshot_identifier_prefix"
                    ]
                  },
                  "iam_database_authentication_enabled": {
                    "references": [
                      "var.iam_database_authentication_enabled"
                    ]
                  },
                  "identifier": {
                    "references": [
                      "var.identifier"
                    ]
                  },
                  "instance_class": {
                    "references": [
                      "var.instance_class"
                    ]
                  },
                  "iops": {
                    "references": [
                      "var.iops"
                    ]
                  },
                  "kms_key_id": {
                    "references": [
                      "var.kms_key_id"
                    ]
                  },
                  "license_model": {
                    "references": [
                      "var.license_model"
                    ]
                  },
                  "maintenance_window": {
                    "references": [
                      "var.maintenance_window"
                    ]
                  },
                  "manage_master_user_password": {
                    "references": [
                      "var.manage_master_user_password"
                    ]
                  },
                  "master_user_secret_kms_key_id": {
                    "references": [
                      "var.master_user_secret_kms_key_id"
                    ]
                  },
                  "max_allocated_storage": {
                    "references": [
                      "var.max_allocated_storage"
                    ]
                  },
                  "monitoring_interval": {
                    "references": [
                      "var.monitoring_interval"
                    ]
                  },
                  "monitoring_role_arn": {
                    "references": [
                      "var.monitoring_role_arn"
                    ]
                  },
                  "monitoring_role_description": {
                    "references": [
                      "var.monitoring_role_description"
                    ]
                  },
                  "monitoring_role_name": {
                    "references": [
                      "var.monitoring_role_name"
                    ]
                  },
                  "monitoring_role_permissions_boundary": {
                    "references": [
                      "var.monitoring_role_permissions_boundary"
                    ]
                  },
                  "monitoring_role_use_name_prefix": {
                    "references": [
                      "var.monitoring_role_use_name_prefix"
                    ]
                  },
                  "multi_az": {
                    "references": [
                      "var.multi_az"
                    ]
                  },
                  "nchar_character_set_name": {
                    "references": [
                      "var.nchar_character_set_name"
                    ]
                  },
                  "network_type": {
                    "references": [
                      "var.network_type"
                    ]
                  },
                  "option_group_name": {
                    "references": [
                      "var.engine",
                      "local.option_group"
                    ]
                  },
                  "parameter_group_name": {
                    "references": [
                      "local.parameter_group_name_id"
                    ]
                  },
                  "password": {
                    "references": [
                      "var.manage_master_user_password",
                      "var.password"
                    ]
                  },
                  "performance_insights_enabled": {
                    "references": [
                      "var.performance_insights_enabled"
                    ]
                  },
                  "performance_insights_kms_key_id": {
                    "references": [
                      "var.performance_insights_enabled",
                      "var.performance_insights_kms_key_id"
                    ]
                  },
                  "performance_insights_retention_period": {
                    "references": [
                      "var.performance_insights_retention_period"
                    ]
                  },
                  "port": {
                    "references": [
                      "var.port"
                    ]
                  },
                  "publicly_accessible": {
                    "references": [
                      "var.publicly_accessible"
                    ]
                  },
                  "replica_mode": {
                    "references": [
                      "var.replica_mode"
                    ]
                  },
                  "replicate_source_db": {
                    "references": [
                      "var.replicate_source_db"
                    ]
                  },
                  "restore_to_point_in_time": {
                    "references": [
                      "var.restore_to_point_in_time"
                    ]
                  },
                  "s3_import": {
                    "references": [
                      "var.s3_import"
                    ]
                  },
                  "skip_final_snapshot": {
                    "references": [
                      "var.skip_final_snapshot"
                    ]
                  },
                  "snapshot_identifier": {
                    "references": [
                      "var.snapshot_identifier"
                    ]
                  },
                  "storage_encrypted": {
                    "references": [
                      "var.storage_encrypted"
                    ]
                  },
                  "storage_throughput": {
                    "references": [
                      "var.storage_throughput"
                    ]
                  },
                  "storage_type": {
                    "references": [
                      "var.storage_type"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.db_instance_tags"
                    ]
                  },
                  "timeouts": {
                    "references": [
                      "var.timeouts"
                    ]
                  },
                  "timezone": {
                    "references": [
                      "var.timezone"
                    ]
                  },
                  "use_identifier_prefix": {
                    "references": [
                      "var.instance_use_identifier_prefix"
                    ]
                  },
                  "username": {
                    "references": [
                      "var.username"
                    ]
                  },
                  "vpc_security_group_ids": {
                    "references": [
                      "var.vpc_security_group_ids"
                    ]
                  }
                },
                "module": {
                  "outputs": {
                    "db_instance_address": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].address",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The address of the RDS instance"
                    },
                    "db_instance_arn": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].arn",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The ARN of the RDS instance"
                    },
                    "db_instance_availability_zone": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].availability_zone",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The availability zone of the RDS instance"
                    },
                    "db_instance_ca_cert_identifier": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].ca_cert_identifier",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "Specifies the identifier of the CA certificate for the DB instance"
                    },
                    "db_instance_cloudwatch_log_groups": {
                      "expression": {
                        "references": [
                          "aws_cloudwatch_log_group.this"
                        ]
                      },
                      "description": "Map of CloudWatch log groups created and their attributes"
                    },
                    "db_instance_domain": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].domain",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The ID of the Directory Service Active Directory domain the instance is joined to"
                    },
                    "db_instance_domain_iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].domain_iam_role_name",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The name of the IAM role to be used when making API calls to the Directory Service"
                    },
                    "db_instance_endpoint": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].endpoint",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The connection endpoint"
                    },
                    "db_instance_engine": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].engine",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The database engine"
                    },
                    "db_instance_engine_version_actual": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].engine_version_actual",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The running version of the database"
                    },
                    "db_instance_hosted_zone_id": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].hosted_zone_id",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The canonical hosted zone ID of the DB instance (to be used in a Route 53 Alias record)"
                    },
                    "db_instance_identifier": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].identifier",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The RDS instance identifier"
                    },
                    "db_instance_master_user_secret_arn": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].master_user_secret[0].secret_arn",
                          "aws_db_instance.this[0].master_user_secret[0]",
                          "aws_db_instance.this[0].master_user_secret",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The ARN of the master user secret (Only available when manage_master_user_password is set to true)"
                    },
                    "db_instance_name": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].db_name",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The database name"
                    },
                    "db_instance_port": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].port",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The database port"
                    },
                    "db_instance_resource_id": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].resource_id",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The RDS Resource ID of this instance"
                    },
                    "db_instance_status": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].status",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The RDS instance status"
                    },
                    "db_instance_username": {
                      "sensitive": true,
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].username",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "The master username for the database"
                    },
                    "db_listener_endpoint": {
                      "expression": {
                        "references": [
                          "aws_db_instance.this[0].listener_endpoint",
                          "aws_db_instance.this[0]",
                          "aws_db_instance.this"
                        ]
                      },
                      "description": "Specifies the listener connection endpoint for SQL Server Always On"
                    },
                    "enhanced_monitoring_iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.enhanced_monitoring[0].arn",
                          "aws_iam_role.enhanced_monitoring[0]",
                          "aws_iam_role.enhanced_monitoring"
                        ]
                      },
                      "description": "The Amazon Resource Name (ARN) specifying the monitoring role"
                    },
                    "enhanced_monitoring_iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.enhanced_monitoring[0].name",
                          "aws_iam_role.enhanced_monitoring[0]",
                          "aws_iam_role.enhanced_monitoring"
                        ]
                      },
                      "description": "The name of the monitoring role"
                    }
                  },
                  "resources": [
                    {
                      "address": "aws_cloudwatch_log_group.this",
                      "mode": "managed",
                      "type": "aws_cloudwatch_log_group",
                      "name": "this",
                      "provider_config_key": "aws",
                      "expressions": {
                        "kms_key_id": {
                          "references": [
                            "var.cloudwatch_log_group_kms_key_id"
                          ]
                        },
                        "name": {
                          "references": [
                            "var.identifier",
                            "each.value"
                          ]
                        },
                        "retention_in_days": {
                          "references": [
                            "var.cloudwatch_log_group_retention_in_days"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.enabled_cloudwatch_logs_exports",
                          "var.create",
                          "var.create_cloudwatch_log_group",
                          "var.use_identifier_prefix"
                        ]
                      }
                    },
                    {
                      "address": "aws_db_instance.this",
                      "mode": "managed",
                      "type": "aws_db_instance",
                      "name": "this",
                      "provider_config_key": "aws",
                      "expressions": {
                        "allocated_storage": {
                          "references": [
                            "local.is_replica",
                            "var.allocated_storage"
                          ]
                        },
                        "allow_major_version_upgrade": {
                          "references": [
                            "var.allow_major_version_upgrade"
                          ]
                        },
                        "apply_immediately": {
                          "references": [
                            "var.apply_immediately"
                          ]
                        },
                        "auto_minor_version_upgrade": {
                          "references": [
                            "var.auto_minor_version_upgrade"
                          ]
                        },
                        "availability_zone": {
                          "references": [
                            "var.availability_zone"
                          ]
                        },
                        "backup_retention_period": {
                          "references": [
                            "var.blue_green_update",
                            "var.backup_retention_period",
                            "var.backup_retention_period"
                          ]
                        },
                        "backup_window": {
                          "references": [
                            "var.backup_window"
                          ]
                        },
                        "ca_cert_identifier": {
                          "references": [
                            "var.ca_cert_identifier"
                          ]
                        },
                        "character_set_name": {
                          "references": [
                            "var.character_set_name"
                          ]
                        },
                        "copy_tags_to_snapshot": {
                          "references": [
                            "var.copy_tags_to_snapshot"
                          ]
                        },
                        "custom_iam_instance_profile": {
                          "references": [
                            "var.custom_iam_instance_profile"
                          ]
                        },
                        "db_name": {
                          "references": [
                            "var.db_name"
                          ]
                        },
                        "db_subnet_group_name": {
                          "references": [
                            "var.db_subnet_group_name"
                          ]
                        },
                        "delete_automated_backups": {
                          "references": [
                            "var.delete_automated_backups"
                          ]
                        },
                        "deletion_protection": {
                          "references": [
                            "var.deletion_protection"
                          ]
                        },
                        "domain": {
                          "references": [
                            "var.domain"
                          ]
                        },
                        "domain_iam_role_name": {
                          "references": [
                            "var.domain_iam_role_name"
                          ]
                        },
                        "enabled_cloudwatch_logs_exports": {
                          "references": [
                            "var.enabled_cloudwatch_logs_exports"
                          ]
                        },
                        "engine": {
                          "references": [
                            "local.is_replica",
                            "var.engine"
                          ]
                        },
                        "engine_version": {
                          "references": [
                            "var.engine_version"
                          ]
                        },
                        "final_snapshot_identifier": {
                          "references": [
                            "local.final_snapshot_identifier"
                          ]
                        },
                        "iam_database_authentication_enabled": {
                          "references": [
                            "var.iam_database_authentication_enabled"
                          ]
                        },
                        "identifier": {
                          "references": [
                            "local.identifier"
                          ]
                        },
                        "identifier_prefix": {
                          "references": [
                            "local.identifier_prefix"
                          ]
                        },
                        "instance_class": {
                          "references": [
                            "var.instance_class"
                          ]
                        },
                        "iops": {
                          "references": [
                            "var.iops"
                          ]
                        },
                        "kms_key_id": {
                          "references": [
                            "var.kms_key_id"
                          ]
                        },
                        "license_model": {
                          "references": [
                            "var.license_model"
                          ]
                        },
                        "maintenance_window": {
                          "references": [
                            "var.maintenance_window"
                          ]
                        },
                        "manage_master_user_password": {
                          "references": [
                            "local.is_replica",
                            "var.manage_master_user_password",
                            "var.manage_master_user_password"
                          ]
                        },
                        "master_user_secret_kms_key_id": {
                          "references": [
                            "local.is_replica",
                            "var.manage_master_user_password",
                            "var.master_user_secret_kms_key_id"
                          ]
                        },
                        "max_allocated_storage": {
                          "references": [
                            "var.max_allocated_storage"
                          ]
                        },
                        "monitoring_interval": {
                          "references": [
                            "var.monitoring_interval"
                          ]
                        },
                        "monitoring_role_arn": {
                          "references": [
                            "var.monitoring_interval",
                            "local.monitoring_role_arn"
                          ]
                        },
                        "multi_az": {
                          "references": [
                            "var.multi_az"
                          ]
                        },
                        "nchar_character_set_name": {
                          "references": [
                            "var.nchar_character_set_name"
                          ]
                        },
                        "network_type": {
                          "references": [
                            "var.network_type"
                          ]
                        },
                        "option_group_name": {
                          "references": [
                            "var.option_group_name"
                          ]
                        },
                        "parameter_group_name": {
                          "references": [
                            "var.parameter_group_name"
                          ]
                        },
                        "password": {
                          "references": [
                            "local.is_replica",
                            "var.manage_master_user_password",
                            "var.password"
                          ]
                        },
                        "performance_insights_enabled": {
                          "references": [
                            "var.performance_insights_enabled"
                          ]
                        },
                        "performance_insights_kms_key_id": {
                          "references": [
                            "var.performance_insights_enabled",
                            "var.performance_insights_kms_key_id"
                          ]
                        },
                        "performance_insights_retention_period": {
                          "references": [
                            "var.performance_insights_enabled",
                            "var.performance_insights_retention_period"
                          ]
                        },
                        "port": {
                          "references": [
                            "var.port"
                          ]
                        },
                        "publicly_accessible": {
                          "references": [
                            "var.publicly_accessible"
                          ]
                        },
                        "replica_mode": {
                          "references": [
                            "var.replica_mode"
                          ]
                        },
                        "replicate_source_db": {
                          "references": [
                            "var.replicate_source_db"
                          ]
                        },
                        "skip_final_snapshot": {
                          "references": [
                            "var.skip_final_snapshot"
                          ]
                        },
                        "snapshot_identifier": {
                          "references": [
                            "var.snapshot_identifier"
                          ]
                        },
                        "storage_encrypted": {
                          "references": [
                            "var.storage_encrypted"
                          ]
                        },
                        "storage_throughput": {
                          "references": [
                            "var.storage_throughput"
                          ]
                        },
                        "storage_type": {
                          "references": [
                            "var.storage_type"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "timeouts": {
                          "create": {
                            "references": [
                              "var.timeouts"
                            ]
                          },
                          "delete": {
                            "references": [
                              "var.timeouts"
                            ]
                          },
                          "update": {
                            "references": [
                              "var.timeouts"
                            ]
                          }
                        },
                        "timezone": {
                          "references": [
                            "var.timezone"
                          ]
                        },
                        "username": {
                          "references": [
                            "local.is_replica",
                            "var.username"
                          ]
                        },
                        "vpc_security_group_ids": {
                          "references": [
                            "var.vpc_security_group_ids"
                          ]
                        }
                      },
                      "schema_version": 2,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "depends_on": [
                        "aws_cloudwatch_log_group.this"
                      ]
                    },
                    {
                      "address": "aws_iam_role.enhanced_monitoring",
                      "mode": "managed",
                      "type": "aws_iam_role",
                      "name": "enhanced_monitoring",
                      "provider_config_key": "aws",
                      "expressions": {
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.enhanced_monitoring.json",
                            "data.aws_iam_policy_document.enhanced_monitoring"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.monitoring_role_description"
                          ]
                        },
                        "name": {
                          "references": [
                            "local.monitoring_role_name"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "local.monitoring_role_name_prefix"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.monitoring_role_permissions_boundary"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.monitoring_role_name",
                            "var.tags"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_monitoring_role"
                        ]
                      }
                    },
                    {
                      "address": "aws_iam_role_policy_attachment.enhanced_monitoring",
                      "mode": "managed",
                      "type": "aws_iam_role_policy_attachment",
                      "name": "enhanced_monitoring",
                      "provider_config_key": "aws",
                      "expressions": {
                        "policy_arn": {
                          "references": [
                            "data.aws_partition.current.partition",
                            "data.aws_partition.current"
                          ]
                        },
                        "role": {
                          "references": [
                            "aws_iam_role.enhanced_monitoring[0].name",
                            "aws_iam_role.enhanced_monitoring[0]",
                            "aws_iam_role.enhanced_monitoring"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_monitoring_role"
                        ]
                      }
                    },
                    {
                      "address": "random_id.snapshot_identifier",
                      "mode": "managed",
                      "type": "random_id",
                      "name": "snapshot_identifier",
                      "provider_config_key": "module.database.module.db_instance:random",
                      "expressions": {
                        "byte_length": {
                          "constant_value": 4
                        },
                        "keepers": {
                          "references": [
                            "var.identifier"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.skip_final_snapshot"
                        ]
                      }
                    },
                    {
                      "address": "data.aws_iam_policy_document.enhanced_monitoring",
                      "mode": "data",
                      "type": "aws_iam_policy_document",
                      "name": "enhanced_monitoring",
                      "provider_config_key": "aws",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "sts:AssumeRole"
                              ]
                            },
                            "principals": [
                              {
                                "identifiers": {
                                  "constant_value": [
                                    "monitoring.rds.amazonaws.com"
                                  ]
                                },
                                "type": {
                                  "constant_value": "Service"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "schema_version": 0
                    },
                    {
                      "address": "data.aws_partition.current",
                      "mode": "data",
                      "type": "aws_partition",
                      "name": "current",
                      "provider_config_key": "aws",
                      "schema_version": 0
                    }
                  ],
                  "variables": {
                    "allocated_storage": {
                      "default": null,
                      "description": "The allocated storage in gigabytes"
                    },
                    "allow_major_version_upgrade": {
                      "default": false,
                      "description": "Indicates that major version upgrades are allowed. Changing this parameter does not result in an outage and the change is asynchronously applied as soon as possible"
                    },
                    "apply_immediately": {
                      "default": false,
                      "description": "Specifies whether any database modifications are applied immediately, or during the next maintenance window"
                    },
                    "auto_minor_version_upgrade": {
                      "default": true,
                      "description": "Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window"
                    },
                    "availability_zone": {
                      "default": null,
                      "description": "The Availability Zone of the RDS instance"
                    },
                    "backup_retention_period": {
                      "default": null,
                      "description": "The days to retain backups for"
                    },
                    "backup_window": {
                      "default": null,
                      "description": "The daily time range (in UTC) during which automated backups are created if they are enabled. Example: '09:46-10:16'. Must not overlap with maintenance_window"
                    },
                    "blue_green_update": {
                      "default": {},
                      "description": "Enables low-downtime updates using RDS Blue/Green deployments."
                    },
                    "ca_cert_identifier": {
                      "default": null,
                      "description": "Specifies the identifier of the CA certificate for the DB instance"
                    },
                    "character_set_name": {
                      "default": null,
                      "description": "The character set name to use for DB encoding in Oracle instances. This can't be changed. See Oracle Character Sets Supported in Amazon RDS and Collations and Character Sets for Microsoft SQL Server for more information. This can only be set on creation."
                    },
                    "cloudwatch_log_group_kms_key_id": {
                      "default": null,
                      "description": "The ARN of the KMS Key to use when encrypting log data"
                    },
                    "cloudwatch_log_group_retention_in_days": {
                      "default": 7,
                      "description": "The number of days to retain CloudWatch logs for the DB instance"
                    },
                    "copy_tags_to_snapshot": {
                      "default": false,
                      "description": "On delete, copy all Instance tags to the final snapshot"
                    },
                    "create": {
                      "default": true,
                      "description": "Whether to create this resource or not?"
                    },
                    "create_cloudwatch_log_group": {
                      "default": false,
                      "description": "Determines whether a CloudWatch log group is created for each `enabled_cloudwatch_logs_exports`"
                    },
                    "create_monitoring_role": {
                      "default": false,
                      "description": "Create IAM role with a defined name that permits RDS to send enhanced monitoring metrics to CloudWatch Logs."
                    },
                    "custom_iam_instance_profile": {
                      "default": null,
                      "description": "RDS custom iam instance profile"
                    },
                    "db_name": {
                      "default": null,
                      "description": "The DB name to create. If omitted, no database is created initially"
                    },
                    "db_subnet_group_name": {
                      "default": null,
                      "description": "Name of DB subnet group. DB instance will be created in the VPC associated with the DB subnet group. If unspecified, will be created in the default VPC"
                    },
                    "delete_automated_backups": {
                      "default": true,
                      "description": "Specifies whether to remove automated backups immediately after the DB instance is deleted"
                    },
                    "deletion_protection": {
                      "default": false,
                      "description": "The database can't be deleted when this value is set to true."
                    },
                    "domain": {
                      "default": null,
                      "description": "The ID of the Directory Service Active Directory domain to create the instance in"
                    },
                    "domain_iam_role_name": {
                      "default": null,
                      "description": "(Required if domain is provided) The name of the IAM role to be used when making API calls to the Directory Service"
                    },
                    "enabled_cloudwatch_logs_exports": {
                      "default": [],
                      "description": "List of log types to enable for exporting to CloudWatch logs. If omitted, no logs will be exported. Valid values (depending on engine): alert, audit, error, general, listener, slowquery, trace, postgresql (PostgreSQL), upgrade (PostgreSQL)."
                    },
                    "engine": {
                      "default": null,
                      "description": "The database engine to use"
                    },
                    "engine_version": {
                      "default": null,
                      "description": "The engine version to use"
                    },
                    "final_snapshot_identifier_prefix": {
                      "default": "final",
                      "description": "The name which is prefixed to the final snapshot on cluster destroy"
                    },
                    "iam_database_authentication_enabled": {
                      "default": false,
                      "description": "Specifies whether or mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled"
                    },
                    "identifier": {
                      "description": "The name of the RDS instance"
                    },
                    "instance_class": {
                      "default": null,
                      "description": "The instance type of the RDS instance"
                    },
                    "iops": {
                      "default": null,
                      "description": "The amount of provisioned IOPS. Setting this implies a storage_type of 'io1' or `gp3`. See `notes` for limitations regarding this variable for `gp3`"
                    },
                    "kms_key_id": {
                      "default": null,
                      "description": "The ARN for the KMS encryption key. If creating an encrypted replica, set this to the destination KMS ARN. If storage_encrypted is set to true and kms_key_id is not specified the default KMS key created in your account will be used"
                    },
                    "license_model": {
                      "default": null,
                      "description": "License model information for this DB instance. Optional, but required for some DB engines, i.e. Oracle SE1"
                    },
                    "maintenance_window": {
                      "default": null,
                      "description": "The window to perform maintenance in. Syntax: 'ddd:hh24:mi-ddd:hh24:mi'. Eg: 'Mon:00:00-Mon:03:00'"
                    },
                    "manage_master_user_password": {
                      "default": false,
                      "description": "Set to true to allow RDS to manage the master user password in Secrets Manager. Cannot be set if password is provided"
                    },
                    "master_user_secret_kms_key_id": {
                      "default": null,
                      "description": "  The key ARN, key ID, alias ARN or alias name for the KMS key to encrypt the master user password secret in Secrets Manager.\n  If not specified, the default KMS key for your Amazon Web Services account is used.\n"
                    },
                    "max_allocated_storage": {
                      "default": 0,
                      "description": "Specifies the value for Storage Autoscaling"
                    },
                    "monitoring_interval": {
                      "default": 0,
                      "description": "The interval, in seconds, between points when Enhanced Monitoring metrics are collected for the DB instance. To disable collecting Enhanced Monitoring metrics, specify 0. The default is 0. Valid Values: 0, 1, 5, 10, 15, 30, 60."
                    },
                    "monitoring_role_arn": {
                      "default": null,
                      "description": "The ARN for the IAM role that permits RDS to send enhanced monitoring metrics to CloudWatch Logs. Must be specified if monitoring_interval is non-zero."
                    },
                    "monitoring_role_description": {
                      "default": null,
                      "description": "Description of the monitoring IAM role"
                    },
                    "monitoring_role_name": {
                      "default": "rds-monitoring-role",
                      "description": "Name of the IAM role which will be created when create_monitoring_role is enabled."
                    },
                    "monitoring_role_permissions_boundary": {
                      "default": null,
                      "description": "ARN of the policy that is used to set the permissions boundary for the monitoring IAM role"
                    },
                    "monitoring_role_use_name_prefix": {
                      "default": false,
                      "description": "Determines whether to use `monitoring_role_name` as is or create a unique identifier beginning with `monitoring_role_name` as the specified prefix"
                    },
                    "multi_az": {
                      "default": false,
                      "description": "Specifies if the RDS instance is multi-AZ"
                    },
                    "nchar_character_set_name": {
                      "default": null,
                      "description": "The national character set is used in the NCHAR, NVARCHAR2, and NCLOB data types for Oracle instances. This can't be changed."
                    },
                    "network_type": {
                      "default": null,
                      "description": "The type of network stack"
                    },
                    "option_group_name": {
                      "default": null,
                      "description": "Name of the DB option group to associate."
                    },
                    "parameter_group_name": {
                      "default": null,
                      "description": "Name of the DB parameter group to associate"
                    },
                    "password": {
                      "default": null,
                      "description": "Password for the master DB user. Note that this may show up in logs, and it will be stored in the state file"
                    },
                    "performance_insights_enabled": {
                      "default": false,
                      "description": "Specifies whether Performance Insights are enabled"
                    },
                    "performance_insights_kms_key_id": {
                      "default": null,
                      "description": "The ARN for the KMS key to encrypt Performance Insights data."
                    },
                    "performance_insights_retention_period": {
                      "default": 7,
                      "description": "The amount of time in days to retain Performance Insights data. Either 7 (7 days) or 731 (2 years)."
                    },
                    "port": {
                      "default": null,
                      "description": "The port on which the DB accepts connections"
                    },
                    "publicly_accessible": {
                      "default": false,
                      "description": "Bool to control if instance is publicly accessible"
                    },
                    "replica_mode": {
                      "default": null,
                      "description": "Specifies whether the replica is in either mounted or open-read-only mode. This attribute is only supported by Oracle instances. Oracle replicas operate in open-read-only mode unless otherwise specified"
                    },
                    "replicate_source_db": {
                      "default": null,
                      "description": "Specifies that this resource is a Replicate database, and to use this value as the source database. This correlates to the identifier of another Amazon RDS Database to replicate."
                    },
                    "restore_to_point_in_time": {
                      "default": null,
                      "description": "Restore to a point in time (MySQL is NOT supported)"
                    },
                    "s3_import": {
                      "default": null,
                      "description": "Restore from a Percona Xtrabackup in S3 (only MySQL is supported)"
                    },
                    "skip_final_snapshot": {
                      "default": false,
                      "description": "Determines whether a final DB snapshot is created before the DB instance is deleted. If true is specified, no DBSnapshot is created. If false is specified, a DB snapshot is created before the DB instance is deleted"
                    },
                    "snapshot_identifier": {
                      "default": null,
                      "description": "Specifies whether or not to create this database from a snapshot. This correlates to the snapshot ID you'd find in the RDS console, e.g: rds:production-2015-06-26-06-05."
                    },
                    "storage_encrypted": {
                      "default": true,
                      "description": "Specifies whether the DB instance is encrypted"
                    },
                    "storage_throughput": {
                      "default": null,
                      "description": "Storage throughput value for the DB instance. This setting applies only to the `gp3` storage type. See `notes` for limitations regarding this variable for `gp3`"
                    },
                    "storage_type": {
                      "default": null,
                      "description": "One of 'standard' (magnetic), 'gp2' (general purpose SSD), 'gp3' (new generation of general purpose SSD), or 'io1' (provisioned IOPS SSD). The default is 'io1' if iops is specified, 'gp2' if not. If you specify 'io1' or 'gp3' , you must also include a value for the 'iops' parameter"
                    },
                    "tags": {
                      "default": {},
                      "description": "A mapping of tags to assign to all resources"
                    },
                    "timeouts": {
                      "default": {},
                      "description": "Updated Terraform resource management timeouts. Applies to `aws_db_instance` in particular to permit resource management times"
                    },
                    "timezone": {
                      "default": null,
                      "description": "Time zone of the DB instance. timezone is currently only supported by Microsoft SQL Server. The timezone can only be set on creation. See MSSQL User Guide for more information."
                    },
                    "use_identifier_prefix": {
                      "default": false,
                      "description": "Determines whether to use `identifier` as is or create a unique identifier beginning with `identifier` as the specified prefix"
                    },
                    "username": {
                      "default": null,
                      "description": "Username for the master DB user"
                    },
                    "vpc_security_group_ids": {
                      "default": [],
                      "description": "List of VPC security groups to associate"
                    }
                  }
                }
              },
              "db_option_group": {
                "source": "./modules/db_option_group",
                "expressions": {
                  "create": {
                    "references": [
                      "local.create_db_option_group"
                    ]
                  },
                  "engine_name": {
                    "references": [
                      "var.engine"
                    ]
                  },
                  "major_engine_version": {
                    "references": [
                      "var.major_engine_version"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.option_group_name",
                      "var.identifier"
                    ]
                  },
                  "option_group_description": {
                    "references": [
                      "var.option_group_description"
                    ]
                  },
                  "options": {
                    "references": [
                      "var.options"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.db_option_group_tags"
                    ]
                  },
                  "timeouts": {
                    "references": [
                      "var.option_group_timeouts"
                    ]
                  },
                  "use_name_prefix": {
                    "references": [
                      "var.option_group_use_name_prefix"
                    ]
                  }
                },
                "module": {
                  "outputs": {
                    "db_option_group_arn": {
                      "expression": {
                        "references": [
                          "aws_db_option_group.this[0].arn",
                          "aws_db_option_group.this[0]",
                          "aws_db_option_group.this"
                        ]
                      },
                      "description": "The ARN of the db option group"
                    },
                    "db_option_group_id": {
                      "expression": {
                        "references": [
                          "aws_db_option_group.this[0].id",
                          "aws_db_option_group.this[0]",
                          "aws_db_option_group.this"
                        ]
                      },
                      "description": "The db option group id"
                    }
                  },
                  "resources": [
                    {
                      "address": "aws_db_option_group.this",
                      "mode": "managed",
                      "type": "aws_db_option_group",
                      "name": "this",
                      "provider_config_key": "aws",
                      "expressions": {
                        "engine_name": {
                          "references": [
                            "var.engine_name"
                          ]
                        },
                        "major_engine_version": {
                          "references": [
                            "var.major_engine_version"
                          ]
                        },
                        "name": {
                          "references": [
                            "local.name"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "local.name_prefix"
                          ]
                        },
                        "option_group_description": {
                          "references": [
                            "local.description"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.name"
                          ]
                        },
                        "timeouts": {
                          "delete": {
                            "references": [
                              "var.timeouts"
                            ]
                          }
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      }
                    }
                  ],
                  "variables": {
                    "create": {
                      "default": true,
                      "description": "Whether to create this resource or not?"
                    },
                    "engine_name": {
                      "default": null,
                      "description": "Specifies the name of the engine that this option group should be associated with"
                    },
                    "major_engine_version": {
                      "default": null,
                      "description": "Specifies the major version of the engine that this option group should be associated with"
                    },
                    "name": {
                      "default": "",
                      "description": "The name of the option group"
                    },
                    "option_group_description": {
                      "default": null,
                      "description": "The description of the option group"
                    },
                    "options": {
                      "default": [],
                      "description": "A list of Options to apply"
                    },
                    "tags": {
                      "default": {},
                      "description": "A mapping of tags to assign to the resource"
                    },
                    "timeouts": {
                      "default": {},
                      "description": "Define maximum timeout for deletion of `aws_db_option_group` resource"
                    },
                    "use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `name` as is or create a unique name beginning with `name` as the specified prefix"
                    }
                  }
                }
              },
              "db_parameter_group": {
                "source": "./modules/db_parameter_group",
                "expressions": {
                  "create": {
                    "references": [
                      "local.create_db_parameter_group"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.parameter_group_description"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.family"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.parameter_group_name",
                      "var.identifier"
                    ]
                  },
                  "parameters": {
                    "references": [
                      "var.parameters"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.db_parameter_group_tags"
                    ]
                  },
                  "use_name_prefix": {
                    "references": [
                      "var.parameter_group_use_name_prefix"
                    ]
                  }
                },
                "module": {
                  "outputs": {
                    "db_parameter_group_arn": {
                      "expression": {
                        "references": [
                          "aws_db_parameter_group.this[0].arn",
                          "aws_db_parameter_group.this[0]",
                          "aws_db_parameter_group.this"
                        ]
                      },
                      "description": "The ARN of the db parameter group"
                    },
                    "db_parameter_group_id": {
                      "expression": {
                        "references": [
                          "aws_db_parameter_group.this[0].id",
                          "aws_db_parameter_group.this[0]",
                          "aws_db_parameter_group.this"
                        ]
                      },
                      "description": "The db parameter group id"
                    }
                  },
                  "resources": [
                    {
                      "address": "aws_db_parameter_group.this",
                      "mode": "managed",
                      "type": "aws_db_parameter_group",
                      "name": "this",
                      "provider_config_key": "aws",
                      "expressions": {
                        "description": {
                          "references": [
                            "local.description"
                          ]
                        },
                        "family": {
                          "references": [
                            "var.family"
                          ]
                        },
                        "name": {
                          "references": [
                            "local.name"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "local.name_prefix"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      }
                    }
                  ],
                  "variables": {
                    "create": {
                      "default": true,
                      "description": "Whether to create this resource or not?"
                    },
                    "description": {
                      "default": null,
                      "description": "The description of the DB parameter group"
                    },
                    "family": {
                      "default": null,
                      "description": "The family of the DB parameter group"
                    },
                    "name": {
                      "default": "",
                      "description": "The name of the DB parameter group"
                    },
                    "parameters": {
                      "default": [],
                      "description": "A list of DB parameter maps to apply"
                    },
                    "tags": {
                      "default": {},
                      "description": "A mapping of tags to assign to the resource"
                    },
                    "use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `name` as is or create a unique name beginning with `name` as the specified prefix"
                    }
                  }
                }
              },
              "db_subnet_group": {
                "source": "./modules/db_subnet_group",
                "expressions": {
                  "create": {
                    "references": [
                      "local.create_db_subnet_group"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.db_subnet_group_description"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.db_subnet_group_name",
                      "var.identifier"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.subnet_ids"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.db_subnet_group_tags"
                    ]
                  },
                  "use_name_prefix": {
                    "references": [
                      "var.db_subnet_group_use_name_prefix"
                    ]
                  }
                },
                "module": {
                  "outputs": {
                    "db_subnet_group_arn": {
                      "expression": {
                        "references": [
                          "aws_db_subnet_group.this[0].arn",
                          "aws_db_subnet_group.this[0]",
                          "aws_db_subnet_group.this"
                        ]
                      },
                      "description": "The ARN of the db subnet group"
                    },
                    "db_subnet_group_id": {
                      "expression": {
                        "references": [
                          "aws_db_subnet_group.this[0].id",
                          "aws_db_subnet_group.this[0]",
                          "aws_db_subnet_group.this"
                        ]
                      },
                      "description": "The db subnet group name"
                    }
                  },
                  "resources": [
                    {
                      "address": "aws_db_subnet_group.this",
                      "mode": "managed",
                      "type": "aws_db_subnet_group",
                      "name": "this",
                      "provider_config_key": "aws",
                      "expressions": {
                        "description": {
                          "references": [
                            "local.description"
                          ]
                        },
                        "name": {
                          "references": [
                            "local.name"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "local.name_prefix"
                          ]
                        },
                        "subnet_ids": {
                          "references": [
                            "var.subnet_ids"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      }
                    }
                  ],
                  "variables": {
                    "create": {
                      "default": true,
                      "description": "Whether to create this resource or not?"
                    },
                    "description": {
                      "default": null,
                      "description": "The description of the DB subnet group"
                    },
                    "name": {
                      "default": "",
                      "description": "The name of the DB subnet group"
                    },
                    "subnet_ids": {
                      "default": [],
                      "description": "A list of VPC subnet IDs"
                    },
                    "tags": {
                      "default": {},
                      "description": "A mapping of tags to assign to the resource"
                    },
                    "use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `name` as is or create a unique name beginning with `name` as the specified prefix"
                    }
                  }
                }
              }
            },
            "variables": {
              "allocated_storage": {
                "default": null,
                "description": "The allocated storage in gigabytes"
              },
              "allow_major_version_upgrade": {
                "default": false,
                "description": "Indicates that major version upgrades are allowed. Changing this parameter does not result in an outage and the change is asynchronously applied as soon as possible"
              },
              "apply_immediately": {
                "default": false,
                "description": "Specifies whether any database modifications are applied immediately, or during the next maintenance window"
              },
              "auto_minor_version_upgrade": {
                "default": true,
                "description": "Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window"
              },
              "availability_zone": {
                "default": null,
                "description": "The Availability Zone of the RDS instance"
              },
              "backup_retention_period": {
                "default": null,
                "description": "The days to retain backups for"
              },
              "backup_window": {
                "default": null,
                "description": "The daily time range (in UTC) during which automated backups are created if they are enabled. Example: '09:46-10:16'. Must not overlap with maintenance_window"
              },
              "blue_green_update": {
                "default": {},
                "description": "Enables low-downtime updates using RDS Blue/Green deployments."
              },
              "ca_cert_identifier": {
                "default": null,
                "description": "Specifies the identifier of the CA certificate for the DB instance"
              },
              "character_set_name": {
                "default": null,
                "description": "The character set name to use for DB encoding in Oracle instances. This can't be changed. See Oracle Character Sets Supported in Amazon RDS and Collations and Character Sets for Microsoft SQL Server for more information. This can only be set on creation"
              },
              "cloudwatch_log_group_kms_key_id": {
                "default": null,
                "description": "The ARN of the KMS Key to use when encrypting log data"
              },
              "cloudwatch_log_group_retention_in_days": {
                "default": 7,
                "description": "The number of days to retain CloudWatch logs for the DB instance"
              },
              "copy_tags_to_snapshot": {
                "default": false,
                "description": "On delete, copy all Instance tags to the final snapshot"
              },
              "create_cloudwatch_log_group": {
                "default": false,
                "description": "Determines whether a CloudWatch log group is created for each `enabled_cloudwatch_logs_exports`"
              },
              "create_db_instance": {
                "default": true,
                "description": "Whether to create a database instance"
              },
              "create_db_option_group": {
                "default": true,
                "description": "Create a database option group"
              },
              "create_db_parameter_group": {
                "default": true,
                "description": "Whether to create a database parameter group"
              },
              "create_db_subnet_group": {
                "default": false,
                "description": "Whether to create a database subnet group"
              },
              "create_monitoring_role": {
                "default": false,
                "description": "Create IAM role with a defined name that permits RDS to send enhanced monitoring metrics to CloudWatch Logs"
              },
              "custom_iam_instance_profile": {
                "default": null,
                "description": "RDS custom iam instance profile"
              },
              "db_instance_tags": {
                "default": {},
                "description": "Additional tags for the DB instance"
              },
              "db_name": {
                "default": null,
                "description": "The DB name to create. If omitted, no database is created initially"
              },
              "db_option_group_tags": {
                "default": {},
                "description": "Additional tags for the DB option group"
              },
              "db_parameter_group_tags": {
                "default": {},
                "description": "Additional tags for the  DB parameter group"
              },
              "db_subnet_group_description": {
                "default": null,
                "description": "Description of the DB subnet group to create"
              },
              "db_subnet_group_name": {
                "default": null,
                "description": "Name of DB subnet group. DB instance will be created in the VPC associated with the DB subnet group. If unspecified, will be created in the default VPC"
              },
              "db_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the DB subnet group"
              },
              "db_subnet_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether to use `subnet_group_name` as is or create a unique name beginning with the `subnet_group_name` as the prefix"
              },
              "delete_automated_backups": {
                "default": true,
                "description": "Specifies whether to remove automated backups immediately after the DB instance is deleted"
              },
              "deletion_protection": {
                "default": false,
                "description": "The database can't be deleted when this value is set to true"
              },
              "domain": {
                "default": null,
                "description": "The ID of the Directory Service Active Directory domain to create the instance in"
              },
              "domain_iam_role_name": {
                "default": null,
                "description": "(Required if domain is provided) The name of the IAM role to be used when making API calls to the Directory Service"
              },
              "enabled_cloudwatch_logs_exports": {
                "default": [],
                "description": "List of log types to enable for exporting to CloudWatch logs. If omitted, no logs will be exported. Valid values (depending on engine): alert, audit, error, general, listener, slowquery, trace, postgresql (PostgreSQL), upgrade (PostgreSQL)"
              },
              "engine": {
                "default": null,
                "description": "The database engine to use"
              },
              "engine_version": {
                "default": null,
                "description": "The engine version to use"
              },
              "family": {
                "default": null,
                "description": "The family of the DB parameter group"
              },
              "final_snapshot_identifier_prefix": {
                "default": "final",
                "description": "The name which is prefixed to the final snapshot on cluster destroy"
              },
              "iam_database_authentication_enabled": {
                "default": false,
                "description": "Specifies whether or not the mappings of AWS Identity and Access Management (IAM) accounts to database accounts are enabled"
              },
              "identifier": {
                "description": "The name of the RDS instance"
              },
              "instance_class": {
                "default": null,
                "description": "The instance type of the RDS instance"
              },
              "instance_use_identifier_prefix": {
                "default": false,
                "description": "Determines whether to use `identifier` as is or create a unique identifier beginning with `identifier` as the specified prefix"
              },
              "iops": {
                "default": null,
                "description": "The amount of provisioned IOPS. Setting this implies a storage_type of 'io1' or `gp3`. See `notes` for limitations regarding this variable for `gp3`"
              },
              "kms_key_id": {
                "default": null,
                "description": "The ARN for the KMS encryption key. If creating an encrypted replica, set this to the destination KMS ARN. If storage_encrypted is set to true and kms_key_id is not specified the default KMS key created in your account will be used. Be sure to use the full ARN, not a key alias."
              },
              "license_model": {
                "default": null,
                "description": "License model information for this DB instance. Optional, but required for some DB engines, i.e. Oracle SE1"
              },
              "maintenance_window": {
                "default": null,
                "description": "The window to perform maintenance in. Syntax: 'ddd:hh24:mi-ddd:hh24:mi'. Eg: 'Mon:00:00-Mon:03:00'"
              },
              "major_engine_version": {
                "default": null,
                "description": "Specifies the major version of the engine that this option group should be associated with"
              },
              "manage_master_user_password": {
                "default": true,
                "description": "Set to true to allow RDS to manage the master user password in Secrets Manager"
              },
              "master_user_secret_kms_key_id": {
                "default": null,
                "description": "  The key ARN, key ID, alias ARN or alias name for the KMS key to encrypt the master user password secret in Secrets Manager.\n  If not specified, the default KMS key for your Amazon Web Services account is used.\n"
              },
              "max_allocated_storage": {
                "default": 0,
                "description": "Specifies the value for Storage Autoscaling"
              },
              "monitoring_interval": {
                "default": 0,
                "description": "The interval, in seconds, between points when Enhanced Monitoring metrics are collected for the DB instance. To disable collecting Enhanced Monitoring metrics, specify 0. The default is 0. Valid Values: 0, 1, 5, 10, 15, 30, 60"
              },
              "monitoring_role_arn": {
                "default": null,
                "description": "The ARN for the IAM role that permits RDS to send enhanced monitoring metrics to CloudWatch Logs. Must be specified if monitoring_interval is non-zero"
              },
              "monitoring_role_description": {
                "default": null,
                "description": "Description of the monitoring IAM role"
              },
              "monitoring_role_name": {
                "default": "rds-monitoring-role",
                "description": "Name of the IAM role which will be created when create_monitoring_role is enabled"
              },
              "monitoring_role_permissions_boundary": {
                "default": null,
                "description": "ARN of the policy that is used to set the permissions boundary for the monitoring IAM role"
              },
              "monitoring_role_use_name_prefix": {
                "default": false,
                "description": "Determines whether to use `monitoring_role_name` as is or create a unique identifier beginning with `monitoring_role_name` as the specified prefix"
              },
              "multi_az": {
                "default": false,
                "description": "Specifies if the RDS instance is multi-AZ"
              },
              "nchar_character_set_name": {
                "default": null,
                "description": "The national character set is used in the NCHAR, NVARCHAR2, and NCLOB data types for Oracle instances. This can't be changed."
              },
              "network_type": {
                "default": null,
                "description": "The type of network stack to use"
              },
              "option_group_description": {
                "default": null,
                "description": "The description of the option group"
              },
              "option_group_name": {
                "default": null,
                "description": "Name of the option group"
              },
              "option_group_timeouts": {
                "default": {},
                "description": "Define maximum timeout for deletion of `aws_db_option_group` resource"
              },
              "option_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether to use `option_group_name` as is or create a unique name beginning with the `option_group_name` as the prefix"
              },
              "options": {
                "default": [],
                "description": "A list of Options to apply"
              },
              "parameter_group_description": {
                "default": null,
                "description": "Description of the DB parameter group to create"
              },
              "parameter_group_name": {
                "default": null,
                "description": "Name of the DB parameter group to associate or create"
              },
              "parameter_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether to use `parameter_group_name` as is or create a unique name beginning with the `parameter_group_name` as the prefix"
              },
              "parameters": {
                "default": [],
                "description": "A list of DB parameters (map) to apply"
              },
              "password": {
                "default": null,
                "description": "  Password for the master DB user. Note that this may show up in logs, and it will be stored in the state file.\n  The password provided will not be used if `manage_master_user_password` is set to true.\n",
                "sensitive": true
              },
              "performance_insights_enabled": {
                "default": false,
                "description": "Specifies whether Performance Insights are enabled"
              },
              "performance_insights_kms_key_id": {
                "default": null,
                "description": "The ARN for the KMS key to encrypt Performance Insights data"
              },
              "performance_insights_retention_period": {
                "default": 7,
                "description": "The amount of time in days to retain Performance Insights data. Valid values are `7`, `731` (2 years) or a multiple of `31`"
              },
              "port": {
                "default": null,
                "description": "The port on which the DB accepts connections"
              },
              "publicly_accessible": {
                "default": false,
                "description": "Bool to control if instance is publicly accessible"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "replica_mode": {
                "default": null,
                "description": "Specifies whether the replica is in either mounted or open-read-only mode. This attribute is only supported by Oracle instances. Oracle replicas operate in open-read-only mode unless otherwise specified"
              },
              "replicate_source_db": {
                "default": null,
                "description": "Specifies that this resource is a Replicate database, and to use this value as the source database. This correlates to the identifier of another Amazon RDS Database to replicate"
              },
              "restore_to_point_in_time": {
                "default": null,
                "description": "Restore to a point in time (MySQL is NOT supported)"
              },
              "s3_import": {
                "default": null,
                "description": "Restore from a Percona Xtrabackup in S3 (only MySQL is supported)"
              },
              "skip_final_snapshot": {
                "default": false,
                "description": "Determines whether a final DB snapshot is created before the DB instance is deleted. If true is specified, no DBSnapshot is created. If false is specified, a DB snapshot is created before the DB instance is deleted"
              },
              "snapshot_identifier": {
                "default": null,
                "description": "Specifies whether or not to create this database from a snapshot. This correlates to the snapshot ID you'd find in the RDS console, e.g: rds:production-2015-06-26-06-05"
              },
              "storage_encrypted": {
                "default": true,
                "description": "Specifies whether the DB instance is encrypted"
              },
              "storage_throughput": {
                "default": null,
                "description": "Storage throughput value for the DB instance. See `notes` for limitations regarding this variable for `gp3`"
              },
              "storage_type": {
                "default": null,
                "description": "One of 'standard' (magnetic), 'gp2' (general purpose SSD), 'gp3' (new generation of general purpose SSD), or 'io1' (provisioned IOPS SSD). The default is 'io1' if iops is specified, 'gp2' if not. If you specify 'io1' or 'gp3' , you must also include a value for the 'iops' parameter"
              },
              "subnet_ids": {
                "default": [],
                "description": "A list of VPC subnet IDs"
              },
              "tags": {
                "default": {},
                "description": "A mapping of tags to assign to all resources"
              },
              "timeouts": {
                "default": {},
                "description": "Updated Terraform resource management timeouts. Applies to `aws_db_instance` in particular to permit resource management times"
              },
              "timezone": {
                "default": null,
                "description": "Time zone of the DB instance. timezone is currently only supported by Microsoft SQL Server. The timezone can only be set on creation. See MSSQL User Guide for more information"
              },
              "username": {
                "default": null,
                "description": "Username for the master DB user"
              },
              "vpc_security_group_ids": {
                "default": [],
                "description": "List of VPC security groups to associate"
              }
            }
          },
          "version_constraint": "6.1.0",
          "depends_on": [
            "module.vpc",
            "aws_security_group.db-sg"
          ]
        },
        "vpc": {
          "source": "terraform-aws-modules/vpc/aws",
          "expressions": {
            "azs": {
              "references": [
                "var.azs"
              ]
            },
            "cidr": {
              "references": [
                "var.vpc_cidr"
              ]
            },
            "database_subnets": {
              "references": [
                "var.database_subnets"
              ]
            },
            "enable_nat_gateway": {
              "constant_value": true
            },
            "enable_vpn_gateway": {
              "constant_value": false
            },
            "name": {
              "references": [
                "var.vpc_name"
              ]
            },
            "private_subnets": {
              "references": [
                "var.private_subnets"
              ]
            },
            "public_subnets": {
              "references": [
                "var.public_subnets"
              ]
            },
            "single_nat_gateway": {
              "constant_value": true
            },
            "tags": {
              "references": [
                "local.name_prefix"
              ]
            }
          },
          "module": {
            "outputs": {
              "azs": {
                "expression": {
                  "references": [
                    "var.azs"
                  ]
                },
                "description": "A list of availability zones specified as argument to this module"
              },
              "cgw_arns": {
                "expression": {
                  "references": [
                    "aws_customer_gateway.this"
                  ]
                },
                "description": "List of ARNs of Customer Gateway"
              },
              "cgw_ids": {
                "expression": {
                  "references": [
                    "aws_customer_gateway.this"
                  ]
                },
                "description": "List of IDs of Customer Gateway"
              },
              "database_internet_gateway_route_id": {
                "expression": {
                  "references": [
                    "aws_route.database_internet_gateway[0].id",
                    "aws_route.database_internet_gateway[0]",
                    "aws_route.database_internet_gateway"
                  ]
                },
                "description": "ID of the database internet gateway route"
              },
              "database_ipv6_egress_route_id": {
                "expression": {
                  "references": [
                    "aws_route.database_ipv6_egress[0].id",
                    "aws_route.database_ipv6_egress[0]",
                    "aws_route.database_ipv6_egress"
                  ]
                },
                "description": "ID of the database IPv6 egress route"
              },
              "database_nat_gateway_route_ids": {
                "expression": {
                  "references": [
                    "aws_route.database_nat_gateway"
                  ]
                },
                "description": "List of IDs of the database nat gateway route"
              },
              "database_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.database[0].arn",
                    "aws_network_acl.database[0]",
                    "aws_network_acl.database"
                  ]
                },
                "description": "ARN of the database network ACL"
              },
              "database_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.database[0].id",
                    "aws_network_acl.database[0]",
                    "aws_network_acl.database"
                  ]
                },
                "description": "ID of the database network ACL"
              },
              "database_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.database"
                  ]
                },
                "description": "List of IDs of the database route table association"
              },
              "database_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.database",
                    "aws_route_table.database",
                    "aws_route_table.private"
                  ]
                },
                "description": "List of IDs of database route tables"
              },
              "database_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of ARNs of database subnets"
              },
              "database_subnet_group": {
                "expression": {
                  "references": [
                    "aws_db_subnet_group.database[0].id",
                    "aws_db_subnet_group.database[0]",
                    "aws_db_subnet_group.database"
                  ]
                },
                "description": "ID of database subnet group"
              },
              "database_subnet_group_name": {
                "expression": {
                  "references": [
                    "aws_db_subnet_group.database[0].name",
                    "aws_db_subnet_group.database[0]",
                    "aws_db_subnet_group.database"
                  ]
                },
                "description": "Name of database subnet group"
              },
              "database_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of IDs of database subnets"
              },
              "database_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of cidr_blocks of database subnets"
              },
              "database_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of database subnets in an IPv6 enabled VPC"
              },
              "default_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].default_network_acl_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the default network ACL"
              },
              "default_route_table_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].default_route_table_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the default route table"
              },
              "default_security_group_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].default_security_group_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the security group created by default on VPC creation"
              },
              "default_vpc_arn": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].arn",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ARN of the Default VPC"
              },
              "default_vpc_cidr_block": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].cidr_block",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The CIDR block of the Default VPC"
              },
              "default_vpc_default_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].default_network_acl_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the default network ACL of the Default VPC"
              },
              "default_vpc_default_route_table_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].default_route_table_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the default route table of the Default VPC"
              },
              "default_vpc_default_security_group_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].default_security_group_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the security group created by default on Default VPC creation"
              },
              "default_vpc_enable_dns_hostnames": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].enable_dns_hostnames",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "Whether or not the Default VPC has DNS hostname support"
              },
              "default_vpc_enable_dns_support": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].enable_dns_support",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "Whether or not the Default VPC has DNS support"
              },
              "default_vpc_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the Default VPC"
              },
              "default_vpc_instance_tenancy": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].instance_tenancy",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "Tenancy of instances spin up within Default VPC"
              },
              "default_vpc_main_route_table_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].main_route_table_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the main route table associated with the Default VPC"
              },
              "dhcp_options_id": {
                "expression": {
                  "references": [
                    "aws_vpc_dhcp_options.this[0].id",
                    "aws_vpc_dhcp_options.this[0]",
                    "aws_vpc_dhcp_options.this"
                  ]
                },
                "description": "The ID of the DHCP options"
              },
              "egress_only_internet_gateway_id": {
                "expression": {
                  "references": [
                    "aws_egress_only_internet_gateway.this[0].id",
                    "aws_egress_only_internet_gateway.this[0]",
                    "aws_egress_only_internet_gateway.this"
                  ]
                },
                "description": "The ID of the egress only Internet Gateway"
              },
              "elasticache_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.elasticache[0].arn",
                    "aws_network_acl.elasticache[0]",
                    "aws_network_acl.elasticache"
                  ]
                },
                "description": "ARN of the elasticache network ACL"
              },
              "elasticache_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.elasticache[0].id",
                    "aws_network_acl.elasticache[0]",
                    "aws_network_acl.elasticache"
                  ]
                },
                "description": "ID of the elasticache network ACL"
              },
              "elasticache_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.elasticache"
                  ]
                },
                "description": "List of IDs of the elasticache route table association"
              },
              "elasticache_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.elasticache",
                    "local.private_route_table_ids"
                  ]
                },
                "description": "List of IDs of elasticache route tables"
              },
              "elasticache_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of ARNs of elasticache subnets"
              },
              "elasticache_subnet_group": {
                "expression": {
                  "references": [
                    "aws_elasticache_subnet_group.elasticache[0].id",
                    "aws_elasticache_subnet_group.elasticache[0]",
                    "aws_elasticache_subnet_group.elasticache"
                  ]
                },
                "description": "ID of elasticache subnet group"
              },
              "elasticache_subnet_group_name": {
                "expression": {
                  "references": [
                    "aws_elasticache_subnet_group.elasticache[0].name",
                    "aws_elasticache_subnet_group.elasticache[0]",
                    "aws_elasticache_subnet_group.elasticache"
                  ]
                },
                "description": "Name of elasticache subnet group"
              },
              "elasticache_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of IDs of elasticache subnets"
              },
              "elasticache_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of cidr_blocks of elasticache subnets"
              },
              "elasticache_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of elasticache subnets in an IPv6 enabled VPC"
              },
              "igw_arn": {
                "expression": {
                  "references": [
                    "aws_internet_gateway.this[0].arn",
                    "aws_internet_gateway.this[0]",
                    "aws_internet_gateway.this"
                  ]
                },
                "description": "The ARN of the Internet Gateway"
              },
              "igw_id": {
                "expression": {
                  "references": [
                    "aws_internet_gateway.this[0].id",
                    "aws_internet_gateway.this[0]",
                    "aws_internet_gateway.this"
                  ]
                },
                "description": "The ID of the Internet Gateway"
              },
              "intra_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.intra[0].arn",
                    "aws_network_acl.intra[0]",
                    "aws_network_acl.intra"
                  ]
                },
                "description": "ARN of the intra network ACL"
              },
              "intra_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.intra[0].id",
                    "aws_network_acl.intra[0]",
                    "aws_network_acl.intra"
                  ]
                },
                "description": "ID of the intra network ACL"
              },
              "intra_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.intra"
                  ]
                },
                "description": "List of IDs of the intra route table association"
              },
              "intra_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.intra"
                  ]
                },
                "description": "List of IDs of intra route tables"
              },
              "intra_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of ARNs of intra subnets"
              },
              "intra_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of IDs of intra subnets"
              },
              "intra_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of cidr_blocks of intra subnets"
              },
              "intra_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of intra subnets in an IPv6 enabled VPC"
              },
              "name": {
                "expression": {
                  "references": [
                    "var.name"
                  ]
                },
                "description": "The name of the VPC specified as argument to this module"
              },
              "nat_ids": {
                "expression": {
                  "references": [
                    "aws_eip.nat"
                  ]
                },
                "description": "List of allocation ID of Elastic IPs created for AWS NAT Gateway"
              },
              "nat_public_ips": {
                "expression": {
                  "references": [
                    "var.reuse_nat_ips",
                    "var.external_nat_ips",
                    "aws_eip.nat"
                  ]
                },
                "description": "List of public Elastic IPs created for AWS NAT Gateway"
              },
              "natgw_ids": {
                "expression": {
                  "references": [
                    "aws_nat_gateway.this"
                  ]
                },
                "description": "List of NAT Gateway IDs"
              },
              "outpost_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.outpost[0].arn",
                    "aws_network_acl.outpost[0]",
                    "aws_network_acl.outpost"
                  ]
                },
                "description": "ARN of the outpost network ACL"
              },
              "outpost_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.outpost[0].id",
                    "aws_network_acl.outpost[0]",
                    "aws_network_acl.outpost"
                  ]
                },
                "description": "ID of the outpost network ACL"
              },
              "outpost_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of ARNs of outpost subnets"
              },
              "outpost_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of IDs of outpost subnets"
              },
              "outpost_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of cidr_blocks of outpost subnets"
              },
              "outpost_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of outpost subnets in an IPv6 enabled VPC"
              },
              "private_ipv6_egress_route_ids": {
                "expression": {
                  "references": [
                    "aws_route.private_ipv6_egress"
                  ]
                },
                "description": "List of IDs of the ipv6 egress route"
              },
              "private_nat_gateway_route_ids": {
                "expression": {
                  "references": [
                    "aws_route.private_nat_gateway"
                  ]
                },
                "description": "List of IDs of the private nat gateway route"
              },
              "private_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.private[0].arn",
                    "aws_network_acl.private[0]",
                    "aws_network_acl.private"
                  ]
                },
                "description": "ARN of the private network ACL"
              },
              "private_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.private[0].id",
                    "aws_network_acl.private[0]",
                    "aws_network_acl.private"
                  ]
                },
                "description": "ID of the private network ACL"
              },
              "private_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.private"
                  ]
                },
                "description": "List of IDs of the private route table association"
              },
              "private_route_table_ids": {
                "expression": {
                  "references": [
                    "local.private_route_table_ids"
                  ]
                },
                "description": "List of IDs of private route tables"
              },
              "private_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of ARNs of private subnets"
              },
              "private_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of IDs of private subnets"
              },
              "private_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of cidr_blocks of private subnets"
              },
              "private_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of private subnets in an IPv6 enabled VPC"
              },
              "public_internet_gateway_ipv6_route_id": {
                "expression": {
                  "references": [
                    "aws_route.public_internet_gateway_ipv6[0].id",
                    "aws_route.public_internet_gateway_ipv6[0]",
                    "aws_route.public_internet_gateway_ipv6"
                  ]
                },
                "description": "ID of the IPv6 internet gateway route"
              },
              "public_internet_gateway_route_id": {
                "expression": {
                  "references": [
                    "aws_route.public_internet_gateway[0].id",
                    "aws_route.public_internet_gateway[0]",
                    "aws_route.public_internet_gateway"
                  ]
                },
                "description": "ID of the internet gateway route"
              },
              "public_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.public[0].arn",
                    "aws_network_acl.public[0]",
                    "aws_network_acl.public"
                  ]
                },
                "description": "ARN of the public network ACL"
              },
              "public_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.public[0].id",
                    "aws_network_acl.public[0]",
                    "aws_network_acl.public"
                  ]
                },
                "description": "ID of the public network ACL"
              },
              "public_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.public"
                  ]
                },
                "description": "List of IDs of the public route table association"
              },
              "public_route_table_ids": {
                "expression": {
                  "references": [
                    "local.public_route_table_ids"
                  ]
                },
                "description": "List of IDs of public route tables"
              },
              "public_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of ARNs of public subnets"
              },
              "public_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of IDs of public subnets"
              },
              "public_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of cidr_blocks of public subnets"
              },
              "public_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of public subnets in an IPv6 enabled VPC"
              },
              "redshift_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.redshift[0].arn",
                    "aws_network_acl.redshift[0]",
                    "aws_network_acl.redshift"
                  ]
                },
                "description": "ARN of the redshift network ACL"
              },
              "redshift_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.redshift[0].id",
                    "aws_network_acl.redshift[0]",
                    "aws_network_acl.redshift"
                  ]
                },
                "description": "ID of the redshift network ACL"
              },
              "redshift_public_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.redshift_public"
                  ]
                },
                "description": "List of IDs of the public redshift route table association"
              },
              "redshift_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.redshift"
                  ]
                },
                "description": "List of IDs of the redshift route table association"
              },
              "redshift_route_table_ids": {
                "expression": {
                  "references": [
                    "local.redshift_route_table_ids",
                    "local.redshift_route_table_ids",
                    "var.enable_public_redshift",
                    "local.public_route_table_ids",
                    "local.private_route_table_ids"
                  ]
                },
                "description": "List of IDs of redshift route tables"
              },
              "redshift_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of ARNs of redshift subnets"
              },
              "redshift_subnet_group": {
                "expression": {
                  "references": [
                    "aws_redshift_subnet_group.redshift[0].id",
                    "aws_redshift_subnet_group.redshift[0]",
                    "aws_redshift_subnet_group.redshift"
                  ]
                },
                "description": "ID of redshift subnet group"
              },
              "redshift_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of IDs of redshift subnets"
              },
              "redshift_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of cidr_blocks of redshift subnets"
              },
              "redshift_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of redshift subnets in an IPv6 enabled VPC"
              },
              "this_customer_gateway": {
                "expression": {
                  "references": [
                    "aws_customer_gateway.this"
                  ]
                },
                "description": "Map of Customer Gateway attributes"
              },
              "vgw_arn": {
                "expression": {
                  "references": [
                    "aws_vpn_gateway.this[0].arn",
                    "aws_vpn_gateway.this[0]",
                    "aws_vpn_gateway.this"
                  ]
                },
                "description": "The ARN of the VPN Gateway"
              },
              "vgw_id": {
                "expression": {
                  "references": [
                    "aws_vpn_gateway.this[0].id",
                    "aws_vpn_gateway.this[0]",
                    "aws_vpn_gateway.this",
                    "aws_vpn_gateway_attachment.this[0].vpn_gateway_id",
                    "aws_vpn_gateway_attachment.this[0]",
                    "aws_vpn_gateway_attachment.this"
                  ]
                },
                "description": "The ID of the VPN Gateway"
              },
              "vpc_arn": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].arn",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ARN of the VPC"
              },
              "vpc_cidr_block": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].cidr_block",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The CIDR block of the VPC"
              },
              "vpc_enable_dns_hostnames": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].enable_dns_hostnames",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "Whether or not the VPC has DNS hostname support"
              },
              "vpc_enable_dns_support": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].enable_dns_support",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "Whether or not the VPC has DNS support"
              },
              "vpc_flow_log_cloudwatch_iam_role_arn": {
                "expression": {
                  "references": [
                    "local.flow_log_iam_role_arn"
                  ]
                },
                "description": "The ARN of the IAM role used when pushing logs to Cloudwatch log group"
              },
              "vpc_flow_log_destination_arn": {
                "expression": {
                  "references": [
                    "local.flow_log_destination_arn"
                  ]
                },
                "description": "The ARN of the destination for VPC Flow Logs"
              },
              "vpc_flow_log_destination_type": {
                "expression": {
                  "references": [
                    "var.flow_log_destination_type"
                  ]
                },
                "description": "The type of the destination for VPC Flow Logs"
              },
              "vpc_flow_log_id": {
                "expression": {
                  "references": [
                    "aws_flow_log.this[0].id",
                    "aws_flow_log.this[0]",
                    "aws_flow_log.this"
                  ]
                },
                "description": "The ID of the Flow Log resource"
              },
              "vpc_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the VPC"
              },
              "vpc_instance_tenancy": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].instance_tenancy",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "Tenancy of instances spin up within VPC"
              },
              "vpc_ipv6_association_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].ipv6_association_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The association ID for the IPv6 CIDR block"
              },
              "vpc_ipv6_cidr_block": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].ipv6_cidr_block",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The IPv6 CIDR block"
              },
              "vpc_main_route_table_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].main_route_table_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the main route table associated with this VPC"
              },
              "vpc_owner_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].owner_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the AWS account that owns the VPC"
              },
              "vpc_secondary_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_vpc_ipv4_cidr_block_association.this"
                  ]
                },
                "description": "List of secondary CIDR blocks of the VPC"
              }
            },
            "resources": [
              {
                "address": "aws_cloudwatch_log_group.flow_log",
                "mode": "managed",
                "type": "aws_cloudwatch_log_group",
                "name": "flow_log",
                "provider_config_key": "aws",
                "expressions": {
                  "kms_key_id": {
                    "references": [
                      "var.flow_log_cloudwatch_log_group_kms_key_id"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.flow_log_cloudwatch_log_group_name_prefix",
                      "local.flow_log_cloudwatch_log_group_name_suffix"
                    ]
                  },
                  "retention_in_days": {
                    "references": [
                      "var.flow_log_cloudwatch_log_group_retention_in_days"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_log_group"
                  ]
                }
              },
              {
                "address": "aws_customer_gateway.this",
                "mode": "managed",
                "type": "aws_customer_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "bgp_asn": {
                    "references": [
                      "each.value[\"bgp_asn\"]",
                      "each.value"
                    ]
                  },
                  "device_name": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "ip_address": {
                    "references": [
                      "each.value[\"ip_address\"]",
                      "each.value"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "each.key",
                      "var.tags",
                      "var.customer_gateway_tags"
                    ]
                  },
                  "type": {
                    "constant_value": "ipsec.1"
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.customer_gateways"
                  ]
                }
              },
              {
                "address": "aws_db_subnet_group.database",
                "mode": "managed",
                "type": "aws_db_subnet_group",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.database_subnet_group_name",
                      "var.name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.database"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.database_subnet_group_name",
                      "var.name",
                      "var.tags",
                      "var.database_subnet_group_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_subnets",
                    "var.create_database_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_default_network_acl.this",
                "mode": "managed",
                "type": "aws_default_network_acl",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "default_network_acl_id": {
                    "references": [
                      "aws_vpc.this[0].default_network_acl_id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  },
                  "subnet_ids": {
                    "constant_value": null
                  },
                  "tags": {
                    "references": [
                      "var.default_network_acl_name",
                      "var.name",
                      "var.tags",
                      "var.default_network_acl_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.manage_default_network_acl"
                  ]
                }
              },
              {
                "address": "aws_default_route_table.default",
                "mode": "managed",
                "type": "aws_default_route_table",
                "name": "default",
                "provider_config_key": "aws",
                "expressions": {
                  "default_route_table_id": {
                    "references": [
                      "aws_vpc.this[0].default_route_table_id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  },
                  "propagating_vgws": {
                    "references": [
                      "var.default_route_table_propagating_vgws"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.default_route_table_name",
                      "var.name",
                      "var.tags",
                      "var.default_route_table_tags"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    },
                    "update": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.manage_default_route_table"
                  ]
                }
              },
              {
                "address": "aws_default_security_group.this",
                "mode": "managed",
                "type": "aws_default_security_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.default_security_group_name",
                      "var.name",
                      "var.tags",
                      "var.default_security_group_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.this[0].id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.manage_default_security_group"
                  ]
                }
              },
              {
                "address": "aws_default_vpc.this",
                "mode": "managed",
                "type": "aws_default_vpc",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "enable_dns_hostnames": {
                    "references": [
                      "var.default_vpc_enable_dns_hostnames"
                    ]
                  },
                  "enable_dns_support": {
                    "references": [
                      "var.default_vpc_enable_dns_support"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.default_vpc_name",
                      "var.tags",
                      "var.default_vpc_tags"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.manage_default_vpc"
                  ]
                }
              },
              {
                "address": "aws_egress_only_internet_gateway.this",
                "mode": "managed",
                "type": "aws_egress_only_internet_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.igw_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_egress_only_igw",
                    "var.enable_ipv6",
                    "local.max_subnet_length"
                  ]
                }
              },
              {
                "address": "aws_eip.nat",
                "mode": "managed",
                "type": "aws_eip",
                "name": "nat",
                "provider_config_key": "aws",
                "expressions": {
                  "domain": {
                    "constant_value": "vpc"
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.azs",
                      "var.single_nat_gateway",
                      "count.index",
                      "var.tags",
                      "var.nat_eip_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "var.reuse_nat_ips",
                    "local.nat_gateway_count"
                  ]
                },
                "depends_on": [
                  "aws_internet_gateway.this"
                ]
              },
              {
                "address": "aws_elasticache_subnet_group.elasticache",
                "mode": "managed",
                "type": "aws_elasticache_subnet_group",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.elasticache_subnet_group_name",
                      "var.name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.elasticache"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.elasticache_subnet_group_name",
                      "var.name",
                      "var.tags",
                      "var.elasticache_subnet_group_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_subnets",
                    "var.create_elasticache_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_flow_log.this",
                "mode": "managed",
                "type": "aws_flow_log",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "iam_role_arn": {
                    "references": [
                      "local.flow_log_iam_role_arn"
                    ]
                  },
                  "log_destination": {
                    "references": [
                      "local.flow_log_destination_arn"
                    ]
                  },
                  "log_destination_type": {
                    "references": [
                      "var.flow_log_destination_type"
                    ]
                  },
                  "log_format": {
                    "references": [
                      "var.flow_log_log_format"
                    ]
                  },
                  "max_aggregation_interval": {
                    "references": [
                      "var.flow_log_max_aggregation_interval"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  },
                  "traffic_type": {
                    "references": [
                      "var.flow_log_traffic_type"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.enable_flow_log"
                  ]
                }
              },
              {
                "address": "aws_iam_policy.vpc_flow_log_cloudwatch",
                "mode": "managed",
                "type": "aws_iam_policy",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "name_prefix": {
                    "constant_value": "vpc-flow-log-to-cloudwatch-"
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0].json",
                      "data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]",
                      "data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "aws_iam_role.vpc_flow_log_cloudwatch",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0].json",
                      "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]",
                      "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role"
                    ]
                  },
                  "name_prefix": {
                    "constant_value": "vpc-flow-log-role-"
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.vpc_flow_log_permissions_boundary"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.vpc_flow_log_cloudwatch[0].arn",
                      "aws_iam_policy.vpc_flow_log_cloudwatch[0]",
                      "aws_iam_policy.vpc_flow_log_cloudwatch"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.vpc_flow_log_cloudwatch[0].name",
                      "aws_iam_role.vpc_flow_log_cloudwatch[0]",
                      "aws_iam_role.vpc_flow_log_cloudwatch"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "aws_internet_gateway.this",
                "mode": "managed",
                "type": "aws_internet_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.igw_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.create_igw"
                  ]
                }
              },
              {
                "address": "aws_nat_gateway.this",
                "mode": "managed",
                "type": "aws_nat_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "allocation_id": {
                    "references": [
                      "local.nat_gateway_ips",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.public",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.azs",
                      "var.single_nat_gateway",
                      "count.index",
                      "var.tags",
                      "var.nat_gateway_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "local.nat_gateway_count"
                  ]
                },
                "depends_on": [
                  "aws_internet_gateway.this"
                ]
              },
              {
                "address": "aws_network_acl.database",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.database"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.tags",
                      "var.database_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl.elasticache",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.elasticache"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.elasticache_subnet_suffix",
                      "var.tags",
                      "var.elasticache_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl.intra",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.intra"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.intra_subnet_suffix",
                      "var.tags",
                      "var.intra_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_intra_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl.outpost",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "outpost",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.outpost"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.outpost_subnet_suffix",
                      "var.tags",
                      "var.outpost_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_outpost_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl.private",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.private"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.tags",
                      "var.private_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl.public",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.public"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.public_subnet_suffix",
                      "var.tags",
                      "var.public_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.public_dedicated_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl.redshift",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.redshift"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.redshift_subnet_suffix",
                      "var.tags",
                      "var.redshift_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_network_acl"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.database_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "database_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.database[0].id",
                      "aws_network_acl.database[0]",
                      "aws_network_acl.database"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_network_acl",
                    "var.database_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.database_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "database_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.database[0].id",
                      "aws_network_acl.database[0]",
                      "aws_network_acl.database"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_network_acl",
                    "var.database_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.elasticache_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "elasticache_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.elasticache[0].id",
                      "aws_network_acl.elasticache[0]",
                      "aws_network_acl.elasticache"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_network_acl",
                    "var.elasticache_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.elasticache_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "elasticache_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.elasticache[0].id",
                      "aws_network_acl.elasticache[0]",
                      "aws_network_acl.elasticache"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_network_acl",
                    "var.elasticache_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.intra_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "intra_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.intra[0].id",
                      "aws_network_acl.intra[0]",
                      "aws_network_acl.intra"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_intra_network_acl",
                    "var.intra_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.intra_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "intra_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.intra[0].id",
                      "aws_network_acl.intra[0]",
                      "aws_network_acl.intra"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_intra_network_acl",
                    "var.intra_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.outpost_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "outpost_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.outpost[0].id",
                      "aws_network_acl.outpost[0]",
                      "aws_network_acl.outpost"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_outpost_network_acl",
                    "var.outpost_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.outpost_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "outpost_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.outpost[0].id",
                      "aws_network_acl.outpost[0]",
                      "aws_network_acl.outpost"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_outpost_network_acl",
                    "var.outpost_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.private_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "private_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.private[0].id",
                      "aws_network_acl.private[0]",
                      "aws_network_acl.private"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_network_acl",
                    "var.private_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.private_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "private_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.private[0].id",
                      "aws_network_acl.private[0]",
                      "aws_network_acl.private"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_network_acl",
                    "var.private_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.public_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "public_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.public[0].id",
                      "aws_network_acl.public[0]",
                      "aws_network_acl.public"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.public_dedicated_network_acl",
                    "var.public_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.public_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "public_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.public[0].id",
                      "aws_network_acl.public[0]",
                      "aws_network_acl.public"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.public_dedicated_network_acl",
                    "var.public_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.redshift_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "redshift_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.redshift[0].id",
                      "aws_network_acl.redshift[0]",
                      "aws_network_acl.redshift"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_network_acl",
                    "var.redshift_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.redshift_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "redshift_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.redshift[0].id",
                      "aws_network_acl.redshift[0]",
                      "aws_network_acl.redshift"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_network_acl",
                    "var.redshift_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_redshift_subnet_group.redshift",
                "mode": "managed",
                "type": "aws_redshift_subnet_group",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.redshift_subnet_group_name",
                      "var.name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.redshift"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.redshift_subnet_group_name",
                      "var.name",
                      "var.tags",
                      "var.redshift_subnet_group_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_subnets",
                    "var.create_redshift_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_route.database_dns64_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_dns64_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "64:ff9b::/96"
                  },
                  "nat_gateway_id": {
                    "references": [
                      "aws_nat_gateway.this",
                      "count.index"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database",
                      "count.index"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_route_table",
                    "var.create_database_internet_gateway_route",
                    "var.create_database_nat_gateway_route",
                    "var.enable_nat_gateway",
                    "var.enable_ipv6",
                    "var.private_subnet_enable_dns64",
                    "var.single_nat_gateway",
                    "local.len_database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route.database_internet_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_internet_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "gateway_id": {
                    "references": [
                      "aws_internet_gateway.this[0].id",
                      "aws_internet_gateway.this[0]",
                      "aws_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database[0].id",
                      "aws_route_table.database[0]",
                      "aws_route_table.database"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_route_table",
                    "var.create_igw",
                    "var.create_database_internet_gateway_route",
                    "var.create_database_nat_gateway_route"
                  ]
                }
              },
              {
                "address": "aws_route.database_ipv6_egress",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_ipv6_egress",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "::/0"
                  },
                  "egress_only_gateway_id": {
                    "references": [
                      "aws_egress_only_internet_gateway.this[0].id",
                      "aws_egress_only_internet_gateway.this[0]",
                      "aws_egress_only_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database[0].id",
                      "aws_route_table.database[0]",
                      "aws_route_table.database"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_route_table",
                    "var.create_egress_only_igw",
                    "var.enable_ipv6",
                    "var.create_database_internet_gateway_route"
                  ]
                }
              },
              {
                "address": "aws_route.database_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "nat_gateway_id": {
                    "references": [
                      "aws_nat_gateway.this",
                      "count.index"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database",
                      "count.index"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_route_table",
                    "var.create_database_internet_gateway_route",
                    "var.create_database_nat_gateway_route",
                    "var.enable_nat_gateway",
                    "var.single_nat_gateway",
                    "local.len_database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route.private_dns64_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_dns64_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "64:ff9b::/96"
                  },
                  "nat_gateway_id": {
                    "references": [
                      "aws_nat_gateway.this",
                      "count.index"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "var.enable_ipv6",
                    "var.private_subnet_enable_dns64",
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_route.private_ipv6_egress",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_ipv6_egress",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "::/0"
                  },
                  "egress_only_gateway_id": {
                    "references": [
                      "aws_egress_only_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_egress_only_igw",
                    "var.enable_ipv6",
                    "local.len_private_subnets"
                  ]
                }
              },
              {
                "address": "aws_route.private_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "references": [
                      "var.nat_gateway_destination_cidr_block"
                    ]
                  },
                  "nat_gateway_id": {
                    "references": [
                      "aws_nat_gateway.this",
                      "count.index"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_route.public_internet_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "public_internet_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "gateway_id": {
                    "references": [
                      "aws_internet_gateway.this[0].id",
                      "aws_internet_gateway.this[0]",
                      "aws_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public[0].id",
                      "aws_route_table.public[0]",
                      "aws_route_table.public"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.create_igw"
                  ]
                }
              },
              {
                "address": "aws_route.public_internet_gateway_ipv6",
                "mode": "managed",
                "type": "aws_route",
                "name": "public_internet_gateway_ipv6",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "::/0"
                  },
                  "gateway_id": {
                    "references": [
                      "aws_internet_gateway.this[0].id",
                      "aws_internet_gateway.this[0]",
                      "aws_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public[0].id",
                      "aws_route_table.public[0]",
                      "aws_route_table.public"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.create_igw",
                    "var.enable_ipv6"
                  ]
                }
              },
              {
                "address": "aws_route_table.database",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.single_nat_gateway",
                      "var.create_database_internet_gateway_route",
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.database_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_route_table",
                    "var.single_nat_gateway",
                    "var.create_database_internet_gateway_route",
                    "local.len_database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.elasticache",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.elasticache_subnet_suffix",
                      "var.tags",
                      "var.elasticache_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_route_table"
                  ]
                }
              },
              {
                "address": "aws_route_table.intra",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.intra_subnet_suffix",
                      "var.tags",
                      "var.intra_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.private",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.single_nat_gateway",
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.private_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_subnets",
                    "local.max_subnet_length",
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_route_table.public",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.public_subnet_suffix",
                      "var.tags",
                      "var.public_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.redshift",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.redshift_subnet_suffix",
                      "var.tags",
                      "var.redshift_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_route_table"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.database",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database",
                      "aws_route_table.private",
                      "var.create_database_subnet_route_table",
                      "var.single_nat_gateway",
                      "var.create_database_internet_gateway_route",
                      "count.index",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.database",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_database_subnets",
                    "local.len_database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.elasticache",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.elasticache",
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "var.create_elasticache_subnet_route_table",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.elasticache",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_subnets",
                    "local.len_elasticache_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.intra",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.intra"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.intra",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_intra_subnets",
                    "local.len_intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.outpost",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "outpost",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.outpost",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_outpost_subnets",
                    "local.len_outpost_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.private",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.private",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_subnets",
                    "local.len_private_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.public",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public[0].id",
                      "aws_route_table.public[0]",
                      "aws_route_table.public"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.public",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "local.len_public_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.redshift",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.redshift",
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "var.create_redshift_subnet_route_table",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.redshift",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_subnets",
                    "var.enable_public_redshift",
                    "local.len_redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.redshift_public",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "redshift_public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.redshift",
                      "aws_route_table.public",
                      "var.single_nat_gateway",
                      "var.create_redshift_subnet_route_table",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.redshift",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_redshift_subnets",
                    "var.enable_public_redshift",
                    "local.len_redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.database",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.database_subnet_ipv6_native",
                      "var.database_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.database_subnet_ipv6_native",
                      "var.database_subnets",
                      "count.index"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.database_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.database_subnet_ipv6_native",
                      "var.database_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.database_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.database_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.database_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.database_subnet_ipv6_native"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.database_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.database_subnet_names",
                      "count.index",
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.database_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_database_subnets",
                    "local.len_database_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.elasticache",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.elasticache_subnet_ipv6_native",
                      "var.elasticache_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.elasticache_subnet_ipv6_native",
                      "var.elasticache_subnets",
                      "count.index"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.elasticache_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.elasticache_subnet_ipv6_native",
                      "var.elasticache_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.elasticache_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.elasticache_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.elasticache_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.elasticache_subnet_ipv6_native"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.elasticache_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.elasticache_subnet_names",
                      "count.index",
                      "var.name",
                      "var.elasticache_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.elasticache_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_elasticache_subnets",
                    "local.len_elasticache_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.intra",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.intra_subnet_ipv6_native",
                      "var.intra_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.intra_subnet_ipv6_native",
                      "var.intra_subnets",
                      "count.index"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.intra_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.intra_subnet_ipv6_native",
                      "var.intra_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.intra_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.intra_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.intra_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.intra_subnet_ipv6_native"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.intra_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.intra_subnet_names",
                      "count.index",
                      "var.name",
                      "var.intra_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.intra_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_intra_subnets",
                    "local.len_intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.outpost",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "outpost",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.outpost_subnet_ipv6_native",
                      "var.outpost_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.outpost_az"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.outpost_subnet_ipv6_native",
                      "var.outpost_subnets",
                      "count.index"
                    ]
                  },
                  "customer_owned_ipv4_pool": {
                    "references": [
                      "var.customer_owned_ipv4_pool"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.outpost_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.outpost_subnet_ipv6_native",
                      "var.outpost_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.outpost_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.outpost_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.outpost_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.outpost_subnet_ipv6_native"
                    ]
                  },
                  "map_customer_owned_ip_on_launch": {
                    "references": [
                      "var.map_customer_owned_ip_on_launch"
                    ]
                  },
                  "outpost_arn": {
                    "references": [
                      "var.outpost_arn"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.outpost_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.outpost_subnet_names",
                      "count.index",
                      "var.name",
                      "var.outpost_subnet_suffix",
                      "var.outpost_az",
                      "var.tags",
                      "var.outpost_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_outpost_subnets",
                    "local.len_outpost_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.private",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.private_subnet_ipv6_native",
                      "var.private_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.private_subnet_ipv6_native",
                      "var.private_subnets",
                      "count.index"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.private_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.private_subnet_ipv6_native",
                      "var.private_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.private_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.private_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.private_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.private_subnet_ipv6_native"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.private_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.private_subnet_names",
                      "count.index",
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.private_subnet_tags",
                      "var.private_subnet_tags_per_az",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_private_subnets",
                    "local.len_private_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.public",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.public_subnet_ipv6_native",
                      "var.public_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.public_subnet_ipv6_native",
                      "var.public_subnets",
                      "count.index"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.public_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.public_subnet_ipv6_native",
                      "var.public_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.public_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.public_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.public_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.public_subnet_ipv6_native"
                    ]
                  },
                  "map_public_ip_on_launch": {
                    "references": [
                      "var.map_public_ip_on_launch"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.public_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.public_subnet_names",
                      "count.index",
                      "var.name",
                      "var.public_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.public_subnet_tags",
                      "var.public_subnet_tags_per_az",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_public_subnets",
                    "var.one_nat_gateway_per_az",
                    "local.len_public_subnets",
                    "var.azs",
                    "local.len_public_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.redshift",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.enable_ipv6",
                      "var.redshift_subnet_ipv6_native",
                      "var.redshift_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.redshift_subnet_ipv6_native",
                      "var.redshift_subnets",
                      "count.index"
                    ]
                  },
                  "enable_dns64": {
                    "references": [
                      "var.enable_ipv6",
                      "var.redshift_subnet_enable_dns64"
                    ]
                  },
                  "enable_resource_name_dns_a_record_on_launch": {
                    "references": [
                      "var.redshift_subnet_ipv6_native",
                      "var.redshift_subnet_enable_resource_name_dns_a_record_on_launch"
                    ]
                  },
                  "enable_resource_name_dns_aaaa_record_on_launch": {
                    "references": [
                      "var.enable_ipv6",
                      "var.redshift_subnet_enable_resource_name_dns_aaaa_record_on_launch"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.redshift_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.redshift_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "ipv6_native": {
                    "references": [
                      "var.enable_ipv6",
                      "var.redshift_subnet_ipv6_native"
                    ]
                  },
                  "private_dns_hostname_type_on_launch": {
                    "references": [
                      "var.redshift_subnet_private_dns_hostname_type_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.redshift_subnet_names",
                      "count.index",
                      "var.name",
                      "var.redshift_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.redshift_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_redshift_subnets",
                    "local.len_redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_vpc.this",
                "mode": "managed",
                "type": "aws_vpc",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_generated_ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.use_ipam_pool"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.use_ipam_pool",
                      "var.cidr"
                    ]
                  },
                  "enable_dns_hostnames": {
                    "references": [
                      "var.enable_dns_hostnames"
                    ]
                  },
                  "enable_dns_support": {
                    "references": [
                      "var.enable_dns_support"
                    ]
                  },
                  "enable_network_address_usage_metrics": {
                    "references": [
                      "var.enable_network_address_usage_metrics"
                    ]
                  },
                  "instance_tenancy": {
                    "references": [
                      "var.instance_tenancy"
                    ]
                  },
                  "ipv4_ipam_pool_id": {
                    "references": [
                      "var.ipv4_ipam_pool_id"
                    ]
                  },
                  "ipv4_netmask_length": {
                    "references": [
                      "var.ipv4_netmask_length"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.ipv6_cidr"
                    ]
                  },
                  "ipv6_cidr_block_network_border_group": {
                    "references": [
                      "var.ipv6_cidr_block_network_border_group"
                    ]
                  },
                  "ipv6_ipam_pool_id": {
                    "references": [
                      "var.ipv6_ipam_pool_id"
                    ]
                  },
                  "ipv6_netmask_length": {
                    "references": [
                      "var.ipv6_netmask_length"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.vpc_tags"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc"
                  ]
                }
              },
              {
                "address": "aws_vpc_dhcp_options.this",
                "mode": "managed",
                "type": "aws_vpc_dhcp_options",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "domain_name": {
                    "references": [
                      "var.dhcp_options_domain_name"
                    ]
                  },
                  "domain_name_servers": {
                    "references": [
                      "var.dhcp_options_domain_name_servers"
                    ]
                  },
                  "netbios_name_servers": {
                    "references": [
                      "var.dhcp_options_netbios_name_servers"
                    ]
                  },
                  "netbios_node_type": {
                    "references": [
                      "var.dhcp_options_netbios_node_type"
                    ]
                  },
                  "ntp_servers": {
                    "references": [
                      "var.dhcp_options_ntp_servers"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.dhcp_options_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_dhcp_options"
                  ]
                }
              },
              {
                "address": "aws_vpc_dhcp_options_association.this",
                "mode": "managed",
                "type": "aws_vpc_dhcp_options_association",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "dhcp_options_id": {
                    "references": [
                      "aws_vpc_dhcp_options.this[0].id",
                      "aws_vpc_dhcp_options.this[0]",
                      "aws_vpc_dhcp_options.this"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_dhcp_options"
                  ]
                }
              },
              {
                "address": "aws_vpc_ipv4_cidr_block_association.this",
                "mode": "managed",
                "type": "aws_vpc_ipv4_cidr_block_association",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.secondary_cidr_blocks",
                      "count.index"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.this[0].id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.secondary_cidr_blocks",
                    "var.secondary_cidr_blocks"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway.this",
                "mode": "managed",
                "type": "aws_vpn_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "amazon_side_asn": {
                    "references": [
                      "var.amazon_side_asn"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.vpn_gateway_az"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.vpn_gateway_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_vpn_gateway"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_attachment.this",
                "mode": "managed",
                "type": "aws_vpn_gateway_attachment",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "var.vpn_gateway_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.vpn_gateway_id"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_route_propagation.intra",
                "mode": "managed",
                "type": "aws_vpn_gateway_route_propagation",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.intra",
                      "count.index"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "aws_vpn_gateway.this",
                      "aws_vpn_gateway_attachment.this",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.propagate_intra_route_tables_vgw",
                    "var.enable_vpn_gateway",
                    "var.vpn_gateway_id",
                    "local.len_intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_route_propagation.private",
                "mode": "managed",
                "type": "aws_vpn_gateway_route_propagation",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "aws_vpn_gateway.this",
                      "aws_vpn_gateway_attachment.this",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.propagate_private_route_tables_vgw",
                    "var.enable_vpn_gateway",
                    "var.vpn_gateway_id",
                    "local.len_private_subnets"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_route_propagation.public",
                "mode": "managed",
                "type": "aws_vpn_gateway_route_propagation",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public",
                      "count.index"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "aws_vpn_gateway.this",
                      "aws_vpn_gateway_attachment.this",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.propagate_public_route_tables_vgw",
                    "var.enable_vpn_gateway",
                    "var.vpn_gateway_id"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "flow_log_cloudwatch_assume_role",
                "provider_config_key": "aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "vpc-flow-logs.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ],
                      "sid": {
                        "constant_value": "AWSVPCFlowLogsAssumeRole"
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "logs:CreateLogStream",
                          "logs:PutLogEvents",
                          "logs:DescribeLogGroups",
                          "logs:DescribeLogStreams"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      },
                      "sid": {
                        "constant_value": "AWSVPCFlowLogsPushToCloudWatch"
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              }
            ],
            "variables": {
              "amazon_side_asn": {
                "default": "64512",
                "description": "The Autonomous System Number (ASN) for the Amazon side of the gateway. By default the virtual private gateway is created with the current default Amazon ASN"
              },
              "azs": {
                "default": [],
                "description": "A list of availability zones names or ids in the region"
              },
              "cidr": {
                "default": "10.0.0.0/16",
                "description": "(Optional) The IPv4 CIDR block for the VPC. CIDR can be explicitly set or it can be derived from IPAM using `ipv4_netmask_length` & `ipv4_ipam_pool_id`"
              },
              "create_database_internet_gateway_route": {
                "default": false,
                "description": "Controls if an internet gateway route for public database access should be created"
              },
              "create_database_nat_gateway_route": {
                "default": false,
                "description": "Controls if a nat gateway route should be created to give internet access to the database subnets"
              },
              "create_database_subnet_group": {
                "default": true,
                "description": "Controls if database subnet group should be created (n.b. database_subnets must also be set)"
              },
              "create_database_subnet_route_table": {
                "default": false,
                "description": "Controls if separate route table for database should be created"
              },
              "create_egress_only_igw": {
                "default": true,
                "description": "Controls if an Egress Only Internet Gateway is created and its related routes"
              },
              "create_elasticache_subnet_group": {
                "default": true,
                "description": "Controls if elasticache subnet group should be created"
              },
              "create_elasticache_subnet_route_table": {
                "default": false,
                "description": "Controls if separate route table for elasticache should be created"
              },
              "create_flow_log_cloudwatch_iam_role": {
                "default": false,
                "description": "Whether to create IAM role for VPC Flow Logs"
              },
              "create_flow_log_cloudwatch_log_group": {
                "default": false,
                "description": "Whether to create CloudWatch log group for VPC Flow Logs"
              },
              "create_igw": {
                "default": true,
                "description": "Controls if an Internet Gateway is created for public subnets and the related routes that connect them"
              },
              "create_redshift_subnet_group": {
                "default": true,
                "description": "Controls if redshift subnet group should be created"
              },
              "create_redshift_subnet_route_table": {
                "default": false,
                "description": "Controls if separate route table for redshift should be created"
              },
              "create_vpc": {
                "default": true,
                "description": "Controls if VPC should be created (it affects almost all resources)"
              },
              "customer_gateway_tags": {
                "default": {},
                "description": "Additional tags for the Customer Gateway"
              },
              "customer_gateways": {
                "default": {},
                "description": "Maps of Customer Gateway's attributes (BGP ASN and Gateway's Internet-routable external IP address)"
              },
              "customer_owned_ipv4_pool": {
                "default": null,
                "description": "The customer owned IPv4 address pool. Typically used with the `map_customer_owned_ip_on_launch` argument. The `outpost_arn` argument must be specified when configured"
              },
              "database_acl_tags": {
                "default": {},
                "description": "Additional tags for the database subnets network ACL"
              },
              "database_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for database subnets"
              },
              "database_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Database subnets inbound network ACL rules"
              },
              "database_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Database subnets outbound network ACL rules"
              },
              "database_route_table_tags": {
                "default": {},
                "description": "Additional tags for the database route tables"
              },
              "database_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "database_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "database_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "database_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "database_subnet_group_name": {
                "default": null,
                "description": "Name of database subnet group"
              },
              "database_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the database subnet group"
              },
              "database_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "database_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 database subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "database_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on database subnets. If empty, Name tags are generated"
              },
              "database_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "database_subnet_suffix": {
                "default": "db",
                "description": "Suffix to append to database subnets name"
              },
              "database_subnet_tags": {
                "default": {},
                "description": "Additional tags for the database subnets"
              },
              "database_subnets": {
                "default": [],
                "description": "A list of database subnets inside the VPC"
              },
              "default_network_acl_egress": {
                "default": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_no": "100",
                    "to_port": "0"
                  },
                  {
                    "action": "allow",
                    "from_port": "0",
                    "ipv6_cidr_block": "::/0",
                    "protocol": "-1",
                    "rule_no": "101",
                    "to_port": "0"
                  }
                ],
                "description": "List of maps of egress rules to set on the Default Network ACL"
              },
              "default_network_acl_ingress": {
                "default": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_no": "100",
                    "to_port": "0"
                  },
                  {
                    "action": "allow",
                    "from_port": "0",
                    "ipv6_cidr_block": "::/0",
                    "protocol": "-1",
                    "rule_no": "101",
                    "to_port": "0"
                  }
                ],
                "description": "List of maps of ingress rules to set on the Default Network ACL"
              },
              "default_network_acl_name": {
                "default": null,
                "description": "Name to be used on the Default Network ACL"
              },
              "default_network_acl_tags": {
                "default": {},
                "description": "Additional tags for the Default Network ACL"
              },
              "default_route_table_name": {
                "default": null,
                "description": "Name to be used on the default route table"
              },
              "default_route_table_propagating_vgws": {
                "default": [],
                "description": "List of virtual gateways for propagation"
              },
              "default_route_table_routes": {
                "default": [],
                "description": "Configuration block of routes. See https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/default_route_table#route"
              },
              "default_route_table_tags": {
                "default": {},
                "description": "Additional tags for the default route table"
              },
              "default_security_group_egress": {
                "default": [],
                "description": "List of maps of egress rules to set on the default security group"
              },
              "default_security_group_ingress": {
                "default": [],
                "description": "List of maps of ingress rules to set on the default security group"
              },
              "default_security_group_name": {
                "default": null,
                "description": "Name to be used on the default security group"
              },
              "default_security_group_tags": {
                "default": {},
                "description": "Additional tags for the default security group"
              },
              "default_vpc_enable_dns_hostnames": {
                "default": true,
                "description": "Should be true to enable DNS hostnames in the Default VPC"
              },
              "default_vpc_enable_dns_support": {
                "default": true,
                "description": "Should be true to enable DNS support in the Default VPC"
              },
              "default_vpc_name": {
                "default": null,
                "description": "Name to be used on the Default VPC"
              },
              "default_vpc_tags": {
                "default": {},
                "description": "Additional tags for the Default VPC"
              },
              "dhcp_options_domain_name": {
                "default": "",
                "description": "Specifies DNS name for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_domain_name_servers": {
                "default": [
                  "AmazonProvidedDNS"
                ],
                "description": "Specify a list of DNS server addresses for DHCP options set, default to AWS provided (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_netbios_name_servers": {
                "default": [],
                "description": "Specify a list of netbios servers for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_netbios_node_type": {
                "default": "",
                "description": "Specify netbios node_type for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_ntp_servers": {
                "default": [],
                "description": "Specify a list of NTP servers for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_tags": {
                "default": {},
                "description": "Additional tags for the DHCP option set (requires enable_dhcp_options set to true)"
              },
              "elasticache_acl_tags": {
                "default": {},
                "description": "Additional tags for the elasticache subnets network ACL"
              },
              "elasticache_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for elasticache subnets"
              },
              "elasticache_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Elasticache subnets inbound network ACL rules"
              },
              "elasticache_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Elasticache subnets outbound network ACL rules"
              },
              "elasticache_route_table_tags": {
                "default": {},
                "description": "Additional tags for the elasticache route tables"
              },
              "elasticache_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "elasticache_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "elasticache_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "elasticache_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "elasticache_subnet_group_name": {
                "default": null,
                "description": "Name of elasticache subnet group"
              },
              "elasticache_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the elasticache subnet group"
              },
              "elasticache_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "elasticache_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 elasticache subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "elasticache_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on elasticache subnets. If empty, Name tags are generated"
              },
              "elasticache_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "elasticache_subnet_suffix": {
                "default": "elasticache",
                "description": "Suffix to append to elasticache subnets name"
              },
              "elasticache_subnet_tags": {
                "default": {},
                "description": "Additional tags for the elasticache subnets"
              },
              "elasticache_subnets": {
                "default": [],
                "description": "A list of elasticache subnets inside the VPC"
              },
              "enable_dhcp_options": {
                "default": false,
                "description": "Should be true if you want to specify a DHCP options set with a custom domain name, DNS servers, NTP servers, netbios servers, and/or netbios server type"
              },
              "enable_dns_hostnames": {
                "default": true,
                "description": "Should be true to enable DNS hostnames in the VPC"
              },
              "enable_dns_support": {
                "default": true,
                "description": "Should be true to enable DNS support in the VPC"
              },
              "enable_flow_log": {
                "default": false,
                "description": "Whether or not to enable VPC Flow Logs"
              },
              "enable_ipv6": {
                "default": false,
                "description": "Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC. You cannot specify the range of IP addresses, or the size of the CIDR block"
              },
              "enable_nat_gateway": {
                "default": false,
                "description": "Should be true if you want to provision NAT Gateways for each of your private networks"
              },
              "enable_network_address_usage_metrics": {
                "default": null,
                "description": "Determines whether network address usage metrics are enabled for the VPC"
              },
              "enable_public_redshift": {
                "default": false,
                "description": "Controls if redshift should have public routing table"
              },
              "enable_vpn_gateway": {
                "default": false,
                "description": "Should be true if you want to create a new VPN Gateway resource and attach it to the VPC"
              },
              "external_nat_ip_ids": {
                "default": [],
                "description": "List of EIP IDs to be assigned to the NAT Gateways (used in combination with reuse_nat_ips)"
              },
              "external_nat_ips": {
                "default": [],
                "description": "List of EIPs to be used for `nat_public_ips` output (used in combination with reuse_nat_ips and external_nat_ip_ids)"
              },
              "flow_log_cloudwatch_iam_role_arn": {
                "default": "",
                "description": "The ARN for the IAM role that's used to post flow logs to a CloudWatch Logs log group. When flow_log_destination_arn is set to ARN of Cloudwatch Logs, this argument needs to be provided"
              },
              "flow_log_cloudwatch_log_group_kms_key_id": {
                "default": null,
                "description": "The ARN of the KMS Key to use when encrypting log data for VPC flow logs"
              },
              "flow_log_cloudwatch_log_group_name_prefix": {
                "default": "/aws/vpc-flow-log/",
                "description": "Specifies the name prefix of CloudWatch Log Group for VPC flow logs"
              },
              "flow_log_cloudwatch_log_group_name_suffix": {
                "default": "",
                "description": "Specifies the name suffix of CloudWatch Log Group for VPC flow logs"
              },
              "flow_log_cloudwatch_log_group_retention_in_days": {
                "default": null,
                "description": "Specifies the number of days you want to retain log events in the specified log group for VPC flow logs"
              },
              "flow_log_destination_arn": {
                "default": "",
                "description": "The ARN of the CloudWatch log group or S3 bucket where VPC Flow Logs will be pushed. If this ARN is a S3 bucket the appropriate permissions need to be set on that bucket's policy. When create_flow_log_cloudwatch_log_group is set to false this argument must be provided"
              },
              "flow_log_destination_type": {
                "default": "cloud-watch-logs",
                "description": "Type of flow log destination. Can be s3 or cloud-watch-logs"
              },
              "flow_log_file_format": {
                "default": null,
                "description": "(Optional) The format for the flow log. Valid values: `plain-text`, `parquet`"
              },
              "flow_log_hive_compatible_partitions": {
                "default": false,
                "description": "(Optional) Indicates whether to use Hive-compatible prefixes for flow logs stored in Amazon S3"
              },
              "flow_log_log_format": {
                "default": null,
                "description": "The fields to include in the flow log record, in the order in which they should appear"
              },
              "flow_log_max_aggregation_interval": {
                "default": 600,
                "description": "The maximum interval of time during which a flow of packets is captured and aggregated into a flow log record. Valid Values: `60` seconds or `600` seconds"
              },
              "flow_log_per_hour_partition": {
                "default": false,
                "description": "(Optional) Indicates whether to partition the flow log per hour. This reduces the cost and response time for queries"
              },
              "flow_log_traffic_type": {
                "default": "ALL",
                "description": "The type of traffic to capture. Valid values: ACCEPT, REJECT, ALL"
              },
              "igw_tags": {
                "default": {},
                "description": "Additional tags for the internet gateway"
              },
              "instance_tenancy": {
                "default": "default",
                "description": "A tenancy option for instances launched into the VPC"
              },
              "intra_acl_tags": {
                "default": {},
                "description": "Additional tags for the intra subnets network ACL"
              },
              "intra_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for intra subnets"
              },
              "intra_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Intra subnets inbound network ACLs"
              },
              "intra_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Intra subnets outbound network ACLs"
              },
              "intra_route_table_tags": {
                "default": {},
                "description": "Additional tags for the intra route tables"
              },
              "intra_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "intra_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "intra_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "intra_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "intra_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "intra_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 intra subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "intra_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on intra subnets. If empty, Name tags are generated"
              },
              "intra_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "intra_subnet_suffix": {
                "default": "intra",
                "description": "Suffix to append to intra subnets name"
              },
              "intra_subnet_tags": {
                "default": {},
                "description": "Additional tags for the intra subnets"
              },
              "intra_subnets": {
                "default": [],
                "description": "A list of intra subnets inside the VPC"
              },
              "ipv4_ipam_pool_id": {
                "default": null,
                "description": "(Optional) The ID of an IPv4 IPAM pool you want to use for allocating this VPC's CIDR"
              },
              "ipv4_netmask_length": {
                "default": null,
                "description": "(Optional) The netmask length of the IPv4 CIDR you want to allocate to this VPC. Requires specifying a ipv4_ipam_pool_id"
              },
              "ipv6_cidr": {
                "default": null,
                "description": "(Optional) IPv6 CIDR block to request from an IPAM Pool. Can be set explicitly or derived from IPAM using `ipv6_netmask_length`"
              },
              "ipv6_cidr_block_network_border_group": {
                "default": null,
                "description": "By default when an IPv6 CIDR is assigned to a VPC a default ipv6_cidr_block_network_border_group will be set to the region of the VPC. This can be changed to restrict advertisement of public addresses to specific Network Border Groups such as LocalZones"
              },
              "ipv6_ipam_pool_id": {
                "default": null,
                "description": "(Optional) IPAM Pool ID for a IPv6 pool. Conflicts with `assign_generated_ipv6_cidr_block`"
              },
              "ipv6_netmask_length": {
                "default": null,
                "description": "(Optional) Netmask length to request from IPAM Pool. Conflicts with `ipv6_cidr_block`. This can be omitted if IPAM pool as a `allocation_default_netmask_length` set. Valid values: `56`"
              },
              "manage_default_network_acl": {
                "default": true,
                "description": "Should be true to adopt and manage Default Network ACL"
              },
              "manage_default_route_table": {
                "default": true,
                "description": "Should be true to manage default route table"
              },
              "manage_default_security_group": {
                "default": true,
                "description": "Should be true to adopt and manage default security group"
              },
              "manage_default_vpc": {
                "default": false,
                "description": "Should be true to adopt and manage Default VPC"
              },
              "map_customer_owned_ip_on_launch": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the subnet should be assigned a customer owned IP address. The `customer_owned_ipv4_pool` and `outpost_arn` arguments must be specified when set to `true`. Default is `false`"
              },
              "map_public_ip_on_launch": {
                "default": false,
                "description": "Specify true to indicate that instances launched into the subnet should be assigned a public IP address. Default is `false`"
              },
              "name": {
                "default": "",
                "description": "Name to be used on all the resources as identifier"
              },
              "nat_eip_tags": {
                "default": {},
                "description": "Additional tags for the NAT EIP"
              },
              "nat_gateway_destination_cidr_block": {
                "default": "0.0.0.0/0",
                "description": "Used to pass a custom destination route for private NAT Gateway. If not specified, the default 0.0.0.0/0 is used as a destination route"
              },
              "nat_gateway_tags": {
                "default": {},
                "description": "Additional tags for the NAT gateways"
              },
              "one_nat_gateway_per_az": {
                "default": false,
                "description": "Should be true if you want only one NAT Gateway per availability zone. Requires `var.azs` to be set, and the number of `public_subnets` created to be greater than or equal to the number of availability zones specified in `var.azs`"
              },
              "outpost_acl_tags": {
                "default": {},
                "description": "Additional tags for the outpost subnets network ACL"
              },
              "outpost_arn": {
                "default": null,
                "description": "ARN of Outpost you want to create a subnet in"
              },
              "outpost_az": {
                "default": null,
                "description": "AZ where Outpost is anchored"
              },
              "outpost_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for outpost subnets"
              },
              "outpost_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Outpost subnets inbound network ACLs"
              },
              "outpost_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Outpost subnets outbound network ACLs"
              },
              "outpost_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "outpost_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "outpost_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "outpost_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "outpost_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "outpost_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 outpost subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "outpost_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on outpost subnets. If empty, Name tags are generated"
              },
              "outpost_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "outpost_subnet_suffix": {
                "default": "outpost",
                "description": "Suffix to append to outpost subnets name"
              },
              "outpost_subnet_tags": {
                "default": {},
                "description": "Additional tags for the outpost subnets"
              },
              "outpost_subnets": {
                "default": [],
                "description": "A list of outpost subnets inside the VPC"
              },
              "private_acl_tags": {
                "default": {},
                "description": "Additional tags for the private subnets network ACL"
              },
              "private_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for private subnets"
              },
              "private_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Private subnets inbound network ACLs"
              },
              "private_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Private subnets outbound network ACLs"
              },
              "private_route_table_tags": {
                "default": {},
                "description": "Additional tags for the private route tables"
              },
              "private_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "private_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "private_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "private_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "private_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "private_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 private subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "private_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on private subnets. If empty, Name tags are generated"
              },
              "private_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "private_subnet_suffix": {
                "default": "private",
                "description": "Suffix to append to private subnets name"
              },
              "private_subnet_tags": {
                "default": {},
                "description": "Additional tags for the private subnets"
              },
              "private_subnet_tags_per_az": {
                "default": {},
                "description": "Additional tags for the private subnets where the primary key is the AZ"
              },
              "private_subnets": {
                "default": [],
                "description": "A list of private subnets inside the VPC"
              },
              "propagate_intra_route_tables_vgw": {
                "default": false,
                "description": "Should be true if you want route table propagation"
              },
              "propagate_private_route_tables_vgw": {
                "default": false,
                "description": "Should be true if you want route table propagation"
              },
              "propagate_public_route_tables_vgw": {
                "default": false,
                "description": "Should be true if you want route table propagation"
              },
              "public_acl_tags": {
                "default": {},
                "description": "Additional tags for the public subnets network ACL"
              },
              "public_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for public subnets"
              },
              "public_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Public subnets inbound network ACLs"
              },
              "public_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Public subnets outbound network ACLs"
              },
              "public_route_table_tags": {
                "default": {},
                "description": "Additional tags for the public route tables"
              },
              "public_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "public_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "public_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "public_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "public_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "public_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 public subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "public_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on public subnets. If empty, Name tags are generated"
              },
              "public_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "public_subnet_suffix": {
                "default": "public",
                "description": "Suffix to append to public subnets name"
              },
              "public_subnet_tags": {
                "default": {},
                "description": "Additional tags for the public subnets"
              },
              "public_subnet_tags_per_az": {
                "default": {},
                "description": "Additional tags for the public subnets where the primary key is the AZ"
              },
              "public_subnets": {
                "default": [],
                "description": "A list of public subnets inside the VPC"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "redshift_acl_tags": {
                "default": {},
                "description": "Additional tags for the redshift subnets network ACL"
              },
              "redshift_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for redshift subnets"
              },
              "redshift_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Redshift subnets inbound network ACL rules"
              },
              "redshift_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Redshift subnets outbound network ACL rules"
              },
              "redshift_route_table_tags": {
                "default": {},
                "description": "Additional tags for the redshift route tables"
              },
              "redshift_subnet_assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Specify true to indicate that network interfaces created in the specified subnet should be assigned an IPv6 address. Default is `false`"
              },
              "redshift_subnet_enable_dns64": {
                "default": true,
                "description": "Indicates whether DNS queries made to the Amazon-provided DNS Resolver in this subnet should return synthetic IPv6 addresses for IPv4-only destinations. Default: `true`"
              },
              "redshift_subnet_enable_resource_name_dns_a_record_on_launch": {
                "default": false,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS A records. Default: `false`"
              },
              "redshift_subnet_enable_resource_name_dns_aaaa_record_on_launch": {
                "default": true,
                "description": "Indicates whether to respond to DNS queries for instance hostnames with DNS AAAA records. Default: `true`"
              },
              "redshift_subnet_group_name": {
                "default": null,
                "description": "Name of redshift subnet group"
              },
              "redshift_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the redshift subnet group"
              },
              "redshift_subnet_ipv6_native": {
                "default": false,
                "description": "Indicates whether to create an IPv6-only subnet. Default: `false`"
              },
              "redshift_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 redshift subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "redshift_subnet_names": {
                "default": [],
                "description": "Explicit values to use in the Name tag on redshift subnets. If empty, Name tags are generated"
              },
              "redshift_subnet_private_dns_hostname_type_on_launch": {
                "default": null,
                "description": "The type of hostnames to assign to instances in the subnet at launch. For IPv6-only subnets, an instance DNS name must be based on the instance ID. For dual-stack and IPv4-only subnets, you can specify whether DNS names use the instance IPv4 address or the instance ID. Valid values: `ip-name`, `resource-name`"
              },
              "redshift_subnet_suffix": {
                "default": "redshift",
                "description": "Suffix to append to redshift subnets name"
              },
              "redshift_subnet_tags": {
                "default": {},
                "description": "Additional tags for the redshift subnets"
              },
              "redshift_subnets": {
                "default": [],
                "description": "A list of redshift subnets inside the VPC"
              },
              "reuse_nat_ips": {
                "default": false,
                "description": "Should be true if you don't want EIPs to be created for your NAT Gateways and will instead pass them in via the 'external_nat_ip_ids' variable"
              },
              "secondary_cidr_blocks": {
                "default": [],
                "description": "List of secondary CIDR blocks to associate with the VPC to extend the IP Address pool"
              },
              "single_nat_gateway": {
                "default": false,
                "description": "Should be true if you want to provision a single shared NAT Gateway across all of your private networks"
              },
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "use_ipam_pool": {
                "default": false,
                "description": "Determines whether IPAM pool is used for CIDR allocation"
              },
              "vpc_flow_log_permissions_boundary": {
                "default": null,
                "description": "The ARN of the Permissions Boundary for the VPC Flow Log IAM Role"
              },
              "vpc_flow_log_tags": {
                "default": {},
                "description": "Additional tags for the VPC Flow Logs"
              },
              "vpc_tags": {
                "default": {},
                "description": "Additional tags for the VPC"
              },
              "vpn_gateway_az": {
                "default": null,
                "description": "The Availability Zone for the VPN Gateway"
              },
              "vpn_gateway_id": {
                "default": "",
                "description": "ID of VPN Gateway to attach to the VPC"
              },
              "vpn_gateway_tags": {
                "default": {},
                "description": "Additional tags for the VPN gateway"
              }
            }
          },
          "version_constraint": "5.1.1"
        }
      },
      "variables": {
        "azs": {
          "default": [
            "us-east-1a",
            "us-east-1b"
          ]
        },
        "bastion_key_name": {
          "default": "",
          "description": "Name of an existing EC2 Key Pair for SSH access. Create one in AWS Console if needed."
        },
        "company_name": {
          "default": "WaKaMa Org"
        },
        "database_subnet_group_description": {
          "default": "App DB subnet group"
        },
        "database_subnet_group_name": {
          "default": "dev-subnet-group"
        },
        "database_subnets": {
          "default": [
            "10.0.81.0/24",
            "10.0.82.0/24"
          ]
        },
        "db_engine": {
          "default": "postgres"
        },
        "db_engine_version": {
          "default": "16.11"
        },
        "db_instance_type": {
          "default": "db.t3.micro"
        },
        "db_name": {
          "default": "app_db"
        },
        "db_password": {
          "default": "password",
          "description": "Password for the database"
        },
        "db_username": {
          "default": "dbadmin",
          "description": "Username for the database"
        },
        "desired_capacity": {
          "default": "2",
          "description": "Desired number of instances in ASG"
        },
        "enable_bastion": {
          "default": true,
          "description": "Enable/disable bastion host creation. Set to false to delete it."
        },
        "environment": {
          "default": "dev",
          "description": "Environment name (dev/staging/prod). If using workspaces, this is overridden by workspace name."
        },
        "hosted_zone_name": {
          "default": "211125336427.realhandsonlabs.net",
          "description": "Name of the hosted zone"
        },
        "instance_type": {
          "default": "t3.medium"
        },
        "max_size": {
          "default": "4",
          "description": "Maximum number of instances in ASG"
        },
        "min_size": {
          "default": "2",
          "description": "Minimum number of instances in ASG"
        },
        "name_prefix": {
          "default": "web-app"
        },
        "private_subnets": {
          "default": [
            "10.0.11.0/24",
            "10.0.12.0/24"
          ]
        },
        "project_name": {
          "default": "dev-web-app"
        },
        "public_subnets": {
          "default": [
            "10.0.1.0/24",
            "10.0.2.0/24"
          ]
        },
        "region": {
          "default": "us-east-1"
        },
        "s3_bucket_name": {
          "default": "dev-web-app",
          "description": "Name of the S3 bucket"
        },
        "vpc_cidr": {
          "default": "10.0.0.0/16"
        },
        "vpc_name": {
          "default": "dev-vpc"
        }
      }
    }
  },
  "relevant_attributes": [
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "identifier"
      ]
    },
    {
      "resource": "module.vpc.aws_db_subnet_group.database[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "data.external.asg_instances",
      "attribute": [
        "result",
        "first_instance_id"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "resource_id"
      ]
    },
    {
      "resource": "random_integer.random",
      "attribute": [
        "result"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "username"
      ]
    },
    {
      "resource": "module.vpc.aws_route.private_nat_gateway",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table_association.database",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table.intra",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table.public[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc_ipv4_cidr_block_association.this[0]",
      "attribute": [
        "vpc_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "ipv6_cidr_block"
      ]
    },
    {
      "resource": "module.vpc.aws_internet_gateway.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.intra",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "default_route_table_id"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "port"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.database",
      "attribute": []
    },
    {
      "resource": "module.database.module.db_instance.aws_cloudwatch_log_group.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.elasticache",
      "attribute": []
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "endpoint"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "master_user_secret",
        0,
        "secret_arn"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.redshift_public",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route.database_nat_gateway",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route.public_internet_gateway[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "domain_iam_role_name"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.private",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_egress_only_internet_gateway.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "enable_dns_hostnames"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "default_network_acl_id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.private",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.database",
      "attribute": []
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "hosted_zone_id"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "engine_version_actual"
      ]
    },
    {
      "resource": "module.vpc.aws_route.private_ipv6_egress",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "owner_id"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "ca_cert_identifier"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.private",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "ipv6_association_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "db_name"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "engine"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "domain"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "status"
      ]
    },
    {
      "resource": "module.vpc.aws_db_subnet_group.database[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "address"
      ]
    },
    {
      "resource": "module.vpc.aws_internet_gateway.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.intra",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.outpost",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "default_security_group_id"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "availability_zone"
      ]
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "listener_endpoint"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.elasticache",
      "attribute": []
    },
    {
      "resource": "aws_security_group.alb-sg",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_eip.nat",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.public",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "cidr_block"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "instance_tenancy"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "main_route_table_id"
      ]
    },
    {
      "resource": "module.vpc.aws_nat_gateway.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table_association.redshift",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.redshift",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
      "attribute": []
    },
    {
      "resource": "module.database.module.db_instance.aws_db_instance.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.public",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_cloudwatch_log_group.flow_log[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_customer_gateway.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table.public",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table.redshift",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table_association.elasticache",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "enable_dns_support"
      ]
    }
  ],
  "checks": [
    {
      "address": {
        "kind": "var",
        "name": "environment",
        "to_display": "var.environment"
      },
      "status": "pass",
      "instances": [
        {
          "address": {
            "to_display": "var.environment"
          },
          "status": "pass"
        }
      ]
    }
  ],
  "timestamp": "2025-12-10T19:15:54Z",
  "applyable": true,
  "complete": true,
  "errored": false
}
